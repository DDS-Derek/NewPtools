import{u as d}from"./settings-7ca3ef0c.js";import{d as R,r as V,$,f as b,H as s,I as h,U as _,S as l,N as e,c as m,J as I,a3 as T,R as p,a4 as D,M as E,F as M}from"./vue-8caab7e7.js";import{O as U,I as j,R as H,a7 as J}from"./naiveUI-06d71335.js";import{b as K}from"./index-a3975fa5.js";import"./getList-370f69ba.js";import"./lodash-cc4aae98.js";import"./ionicons5-13bb01b1.js";const O=["textContent"],q=R({__name:"index",setup(z){const{getSettingsFile:f,saveSettingsFile:y,getSettingsToml:r,setContent:g,testNotify:x}=d(),t=V(!1),{treeData:k,content:n}=$(d());b(async()=>{await r()});let c="";const v=async a=>{await f("ptools.toml"),t.value=a,a?c=`${n.value}`:n.value!==c&&await g(c)},C=async()=>{await y("ptools.toml"),t.value=!1,await r()},w=a=>a.index,S=[{type:"selection"},{title:"配置项名称",key:"index"},{title:"值",key:"name"}];return(a,o)=>{const i=U,N=j,F=H,B=J;return s(),h(M,null,[_(N,{justify:"end"},{default:l(()=>[_(i,{type:"primary",secondaryc:"",onClick:e(x)},{default:l(()=>[m(" 通知测试 ")]),_:1},8,["onClick"]),_(i,{type:e(t)?"warning":"primary",onClick:o[0]||(o[0]=u=>v(!e(t)))},{default:l(()=>[I("span",{textContent:T(e(t)?"取消":"编辑")},null,8,O)]),_:1},8,["type"]),e(t)?(s(),p(i,{key:0,type:"success",onClick:C},{default:l(()=>[m(" 保存 ")]),_:1})):D("",!0)]),_:1}),e(t)?(s(),p(F,{key:0,value:e(n),"onUpdate:value":o[1]||(o[1]=u=>E(n)?n.value=u:null),class:"code mt-2",type:"textarea",placeholder:""},null,8,["value"])):(s(),p(B,{key:1,columns:S,data:e(k).children,"row-key":w,"default-expand-all":""},null,8,["data"]))],64)}}});const Y=K(q,[["__scopeId","data-v-a06cf2d6"]]);export{Y as default};
