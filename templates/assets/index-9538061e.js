import{H as S}from"./core-9035f7f5.js";import{$ as C}from"./tools-240a30f9.js";import{V as w,r as p,d as z,_ as B,G as u,H as m,I as f,S as r,M as s,L as N,R as d,c as g,F as R,a5 as V,Q as F}from"./vue-080993b5.js";import{g as H,b as T}from"./index-78dd3789.js";import{R as j,O as G,r as I,F as L,af as U}from"./naiveUI-1e53cf3e.js";import"./getList-041abf44.js";import"./lodash-5fc50ca6.js";import"./ionicons5-b765452e.js";const $=w("shell",()=>{const{message:t}=H(),e=p(""),n=p([""]),c=p([{label:"清除屏幕",key:"clear"},{label:"更新依赖",key:"pip install -r requirements.txt -U"},{label:"更新代码",key:"git pull"},{label:"初始化代码",key:"git clean -df && git reset --hard"},{label:"同步数据库",key:"python manage.py migrate"}]),o=async l=>await C(l);return{shell:e,results:n,options:c,exec_shell:async l=>{if(l.length<=0){t==null||t.error("命令不能为空！"),e.value="";return}if(n.value.unshift(e.value),e.value==="clear")n.value.length=0;else{const a=await o(e.value);n.value.splice(1,0,a)}e.value=""},sendCommand:o}}),q={class:"pt-5px"},E={class:"mb-2 px-5px"},J={class:"code"},M=z({__name:"index",setup(t){const e=$(),{shell:n,results:c,options:o}=B(e),{exec_shell:_}=e;return(l,a)=>{const h=j,v=G,x=I,y=L,b=U;return u(),m("div",q,[f("div",E,[r(h,{value:s(n),"onUpdate:value":a[0]||(a[0]=i=>N(n)?n.value=i:null),size:"small",class:"mr-2",onChange:s(_)},null,8,["value","onChange"]),r(x,{size:"small",trigger:"hover",options:s(o),onSelect:s(_)},{default:d(()=>[r(v,{size:"tiny",type:"warning"},{default:d(()=>[g(" 选择命令 ")]),_:1})]),_:1},8,["options","onSelect"]),r(y,{type:"error",size:"small"},{default:d(()=>[g(" 回车发送命令，危险动作，不懂勿动。 ")]),_:1})]),f("div",J,[(u(!0),m(R,null,V(s(c),(i,k)=>(u(),F(b,{key:k,class:"px-3px",language:"Shell",code:i,hljs:s(S)},null,8,["code","hljs"]))),128))])])}}});const Y=T(M,[["__scopeId","data-v-45a0fcde"]]);export{Y as default};
