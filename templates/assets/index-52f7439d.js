import{u as d}from"./settings-e3a18cee.js";import{d as V,r as $,$ as b,f as h,H as s,I as E,U as _,S as l,N as e,c as m,J as R,a3 as T,R as p,a4 as D,M as I,F as M}from"./vue-3732522d.js";import{E as U,F as j,P as H,am as J}from"./naiveUI-5e433394.js";import{b as K}from"./index-a22e57c8.js";import"./lodash-18690875.js";import"./ionicons5-ced7f89a.js";const P=["textContent"],q=V({__name:"index",setup(z){const{getSettingsFile:f,saveSettingsFile:y,getSettingsToml:r,setContent:g,testNotify:x}=d(),t=$(!1),{treeData:k,content:n}=b(d());h(async()=>{await r()});let c="";const v=async a=>{await f("ptools.toml"),t.value=a,a?c=`${n.value}`:n.value!==c&&await g(c)},C=async()=>{await y("ptools.toml"),t.value=!1,await r()},w=a=>a.index,S=[{type:"selection"},{title:"配置项名称",key:"index"},{title:"值",key:"name"}];return(a,o)=>{const i=U,F=j,N=H,B=J;return s(),E(M,null,[_(F,{justify:"end"},{default:l(()=>[_(i,{type:"primary",secondaryc:"",onClick:e(x)},{default:l(()=>[m(" 通知测试 ")]),_:1},8,["onClick"]),_(i,{type:e(t)?"warning":"primary",onClick:o[0]||(o[0]=u=>v(!e(t)))},{default:l(()=>[R("span",{textContent:T(e(t)?"取消":"编辑")},null,8,P)]),_:1},8,["type"]),e(t)?(s(),p(i,{key:0,type:"success",onClick:C},{default:l(()=>[m(" 保存 ")]),_:1})):D("",!0)]),_:1}),e(t)?(s(),p(N,{key:0,value:e(n),"onUpdate:value":o[1]||(o[1]=u=>I(n)?n.value=u:null),class:"code mt-2",type:"textarea",placeholder:""},null,8,["value"])):(s(),p(B,{key:1,columns:S,data:e(k).children,"row-key":w,"default-expand-all":""},null,8,["data"]))],64)}}});const X=K(q,[["__scopeId","data-v-a06cf2d6"]]);export{X as default};
