import{d as defineComponent,m as renderSlot,H as openBlock,R as createBlock,S as withCtx,U as createVNode,V as createI18n,n as nextTick,W as defineStore,j as reactive,N as unref,r as ref,X as useI18n,e as computed,w as watch,l as h,Y as useRoute,p as provide,a as inject,Z as useRouter,_ as toRefs,$ as storeToRefs,a0 as resolveComponent,a1 as createRouter,a2 as createWebHistory,I as createElementBlock,a3 as toDisplayString,G as normalizeStyle,a4 as createCommentVNode,J as createBaseVNode,a5 as normalizeClass,c as createTextVNode,F as Fragment,a6 as renderList,a7 as useAttrs,u as mergeProps,x as watchEffect,f as onMounted,E as onUnmounted,M as isRef,a8 as withKeys,a9 as createSlots,aa as useCssVars,T as Teleport,ab as createPinia,ac as createApp}from"./vue-3732522d.js";import{m as merge$1,c as createGlobalState,b as useLocalStorage,d as useDark,e as useToggle,f as useStorage,h as useNavigatorLanguage,o as omit,j as createInjectionState,l as useBreakpoints}from"./lodash-18690875.js";import{u as useNotification,a as useDialog,b as useMessage,c as useLoadingBar,_ as __unplugin_components_1$1,d as __unplugin_components_2,N as NDialogProvider,e as __unplugin_components_4,z as zhCN$2,f as dateZhCN,g as darkTheme$1,l as layoutDark,h as cardDark,i as drawerDark,m as menuDark,j as listDark,k as elementDark,n as NIcon,o as __unplugin_components_2$1,p as __unplugin_components_0,q as __unplugin_components_0$1,r as __unplugin_components_10,s as __unplugin_components_0$2,t as __unplugin_components_2$2,v as __unplugin_components_0$3,w as menuProps,x as __unplugin_components_0$4,y as __unplugin_components_0$5,A as __unplugin_components_1$2,B as commonjsGlobal,C as __unplugin_components_0$6,D as __unplugin_components_9,E as __unplugin_components_0$7,F as __unplugin_components_1$3,G as __unplugin_components_4$1,H as __unplugin_components_5,I as __unplugin_components_3,J as __unplugin_components_9$1,K as __unplugin_components_1$4,L as __unplugin_components_11,M as __unplugin_components_0$8,O as __unplugin_components_1$5,P as __unplugin_components_2$3,Q as __unplugin_components_15,R as NSwitch,S as __unplugin_components_5$1,T as __unplugin_components_7,U as NTag,V as __unplugin_components_5$2,W as __unplugin_components_14,X as __unplugin_components_3$1,Y as __unplugin_components_4$2,Z as __unplugin_components_4$3,$ as __unplugin_components_10$1,a0 as __unplugin_components_5$3,a1 as __unplugin_components_4$4,a2 as __unplugin_components_0$9,a3 as __unplugin_components_1$6,a4 as __unplugin_components_20,a5 as __unplugin_components_21,a6 as __unplugin_components_0$a,a7 as __unplugin_components_2$4,a8 as __unplugin_components_1$7,a9 as __unplugin_components_1$8}from"./naiveUI-5e433394.js";import{A as AccessibilitySharp,S as SettingsSharp,L as LogOutSharp,i as icons,R as RefreshOutline,E as EllipsisVerticalSharp,a as LanguageSharp,N as NotificationsOutline,M as MenuOutline,C as Checkbox,b as CheckboxOutline,c as ArrowForward}from"./ionicons5-ced7f89a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(i){if(i.ep)return;i.ep=!0;const u=r(i);fetch(i.href,u)}})();const globalConfig={},useGlobalConfig=()=>globalConfig,useGlobalConfigProvider=e=>{merge$1(globalConfig,e)},_sfc_main$x=defineComponent({__name:"naive-provider",setup(e){const t=useNotification(),r=useDialog(),a=useMessage(),i=useLoadingBar();return useGlobalConfigProvider({notification:t,dialog:r,message:a,loadingBar:i}),(u,l)=>renderSlot(u.$slots,"default")}}),_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[a,i]of t)r[a]=i;return r},_sfc_main$w={};function _sfc_render$2(e,t){const r=_sfc_main$x,a=__unplugin_components_1$1,i=__unplugin_components_2,u=NDialogProvider,l=__unplugin_components_4;return openBlock(),createBlock(l,null,{default:withCtx(()=>[createVNode(u,null,{default:withCtx(()=>[createVNode(i,null,{default:withCtx(()=>[createVNode(a,null,{default:withCtx(()=>[createVNode(r,null,{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3})]),_:3})]),_:3})]),_:3})]),_:3})}const __unplugin_components_1=_export_sfc(_sfc_main$w,[["render",_sfc_render$2]]),scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,r,a){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(u=>{if(u=assetsURL(u),u in seen)return;seen[u]=!0;const l=u.endsWith(".css"),m=l?'[rel="stylesheet"]':"";if(!!a)for(let v=i.length-1;v>=0;v--){const x=i[v];if(x.href===u&&(!l||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${m}`))return;const y=document.createElement("link");if(y.rel=l?"stylesheet":scriptRel,l||(y.as="script",y.crossOrigin=""),y.href=u,document.head.appendChild(y),l)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>t())},__variableDynamicImportRuntimeHelper=(e,t)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((a,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t)))})},global$1={"global.layout.setting.drawer.style":"风格设置","global.layout.setting.drawer.lang":"语言设置","global.layout.setting.drawer.style.light":"亮色风格","global.layout.setting.drawer.style.inverted":"反色风格","global.layout.setting.drawer.style.dark":"暗黑风格","global.layout.setting.drawer.custom":"主题定制","global.layout.setting.drawer.theme":"主题色","global.layout.setting.drawer.theme.default":"极光绿（默认）","global.layout.setting.drawer.theme.dustRed":"薄暮","global.layout.setting.drawer.theme.volcano":"火山","global.layout.setting.drawer.theme.orange":"日暮","global.layout.setting.drawer.theme.cyan":"明青","global.layout.setting.drawer.theme.blue":"拂晓蓝","global.layout.setting.drawer.theme.purple":"酱紫","global.layout.setting.drawer.theme.magenta":"洋红","global.layout.setting.drawer.layout":"导航模式","global.layout.setting.drawer.layout.side":"侧边布局","global.layout.setting.drawer.layout.mix":"混合布局","global.layout.setting.drawer.layout.top":"顶栏布局","global.request.error.401":"登录过期","global.request.error.403":"资源请求错误","global.request.error.500":"服务器错误","global.request.error.other":"未知错误","global.layout.header.right.logout":"退出登录","global.layout.header.right.logout.success":"退出成功","global.layout.header.right.user.setting":"个人设置","global.layout.header.right.user.center":"个人中心"},pages={"login.admin.desc":"一个让你轻松玩PT的小工具","login.wrong":"登录失败！","login.account.tab":"密码登录","login.mobile.tab":"手机号登录","login.username.placeholder":"用户名: ","login.username.required":"请输入用户名!","login.username.length":"用户名长度在 5 到 20 个字符","login.password.placeholder":"密码: ","login.password.required":"请输入密码！","login.password.length":"密码长度在 5 到 20 个字符","login.mobile.placeholder":"手机号","login.mobile.required":"请输入手机号！","login.mobile.rule":"手机号格式错误！","login.mobile.verification-code.rule":"验证码格式错误！","login.mobile.verification-code.placeholder":"验证码","login.mobile.verification-code.required":"请输入验证码！","login.mobile.verification-code.get-verification-code":"获取验证码","login.mobile.resend":"重新获取","login.remember-me":"记住我","login.forgot-password":"忘记密码","login.sign-in-with":"其他登录方式：","login.signup":"注册账户","login.login":"登录"},route={"pages.dashboard.title":"仪表盘","pages.dashboard.analysis.title":"分析页","pages.dashboard.workspace.title":"访问量","pages.jump.baidu":"跳转百度","pages.site.title":"站点管理","pages.site.mysite.title":"我的站点","pages.site.mydata.title":"我的数据","pages.site.website.title":"站点管理","pages.site.torrent.title":"种子管理","pages.download.title":"下载管理","pages.download.downloader.title":"下载器","pages.download.repeat.title":"辅种任务","pages.download.brush.title":"刷流任务","pages.tasks.title":"计划任务","pages.settings.title":"系统设置","pages.settings.system.title":"系统配置","pages.settings.hosts.title":"HOSTS","pages.settings.supervisor.title":"进程管理","pages.settings.flower.title":"任务查看","pages.tools.title":"工具箱","pages.tools.shell.title":"终端","pages.tools.logs.title":"日志","pages.tools.import.title":"导入"},zhCN={...global$1,...pages,...route,naiveUI:{locale:zhCN$2,dateLocale:dateZhCN}},zhCN$1=Object.freeze(Object.defineProperty({__proto__:null,default:zhCN},Symbol.toStringTag,{value:"Module"})),defaultLocale="zh-CN",i18n=createI18n({legacy:!1,missingWarn:!1,locale:defaultLocale,fallbackLocale:defaultLocale,messages:{"zh-CN":zhCN}}),loadLanguageAsync=async e=>{const t=i18n.global.locale.value;try{if(t!==e){const r=await __variableDynamicImportRuntimeHelper(Object.assign({"./lang/en-US.ts":()=>__vitePreload(()=>import("./en-US-0216203d.js"),["assets/en-US-0216203d.js","assets/naiveUI-5e433394.js","assets/vue-3732522d.js","assets/lodash-18690875.js"]),"./lang/zh-CN.ts":()=>__vitePreload(()=>Promise.resolve().then(()=>zhCN$1),void 0)}),`./lang/${e}.ts`);r&&i18n.global.setLocaleMessage(e,r.default)}}catch(r){console.warn("切换语言失败：",r)}return nextTick()},commonColor={bgColor:"#242525"},darkTheme=merge$1({},darkTheme$1,{common:{baseColor:"#2A2C2C"},Layout:{...layoutDark,self(e){var t,r;return{...(r=(t=layoutDark).self)==null?void 0:r.call(t,e),color:commonColor.bgColor,headerColor:commonColor.bgColor,siderColor:commonColor.bgColor,footerColor:commonColor.bgColor}}},Card:{...cardDark,self(e){var t,r;return{...(r=(t=cardDark).self)==null?void 0:r.call(t,e),color:commonColor.bgColor}}},Drawer:{...drawerDark,self(e){var t,r;return{...(r=(t=drawerDark).self)==null?void 0:r.call(t,e),color:commonColor.bgColor}}},Menu:{...menuDark,self(e){var t,r;return{...(r=(t=menuDark).self)==null?void 0:r.call(t,e),color:commonColor.bgColor}}},List:{...listDark,self(e){var t,r;return{...(r=(t=listDark).self)==null?void 0:r.call(t,e),color:commonColor.bgColor}}},Element:{...elementDark,common:{...elementDark.common,baseColor:commonColor.bgColor}}});darkTheme.Layout;darkTheme.Element;const colors={default:{common:{primaryColor:"#18a058",primaryColorHover:"#36ad6a",primaryColorPressed:"#0c7a43",primaryColorSuppl:"#36ad6a"}},dustRed:{common:{primaryColor:"#f5222d",primaryColorHover:"#ff4d4f",primaryColorPressed:"#cf1322",primaryColorSuppl:"#ff4d4f"}},volcano:{common:{primaryColor:"#fa541c",primaryColorHover:"#ff7a45",primaryColorPressed:"#d4380d",primaryColorSuppl:"#ff7a45"}},orange:{common:{primaryColor:"#fa8c16",primaryColorHover:"#ffa940",primaryColorPressed:"#d46b08",primaryColorSuppl:"#ffa940"}},cyan:{common:{primaryColor:"#13c2c2",primaryColorHover:"#36cfc9",primaryColorPressed:"#08979c",primaryColorSuppl:"#36cfc9"}},blue:{common:{primaryColor:"#1890ff",primaryColorHover:"#40a9ff",primaryColorPressed:"#096dd9",primaryColorSuppl:"#40a9ff"}},purple:{common:{primaryColor:"#722ed1",primaryColorHover:"#9254de",primaryColorPressed:"#531dab",primaryColorSuppl:"#9254de"}},magenta:{common:{primaryColor:"#eb2f96",primaryColorHover:"#f759ab",primaryColorPressed:"#c41d7f",primaryColorSuppl:"#f759ab"}}},darkColors={default:{common:{primaryColor:"#18a058",primaryColorHover:"#7fe7c4",primaryColorPressed:"#5acea7",primaryColorSuppl:"rgb(42,148,125)"}},dustRed:{common:{primaryColor:"#d32029",primaryColorHover:"#e84749",primaryColorPressed:"#f37370",primaryColorSuppl:"#a61d24"}},volcano:{common:{primaryColor:"#d84a1b",primaryColorHover:"#e87040",primaryColorPressed:"#f3956a",primaryColorSuppl:"#aa3e19"}},orange:{common:{primaryColor:"#d87a16",primaryColorHover:"#e89a3c",primaryColorPressed:"#f3b765",primaryColorSuppl:"#aa6215"}},cyan:{common:{primaryColor:"#13a8a8",primaryColorHover:"#33bcb7",primaryColorPressed:"#58d1c9",primaryColorSuppl:"#138585"}},blue:{common:{primaryColor:"#177ddc",primaryColorHover:"#3c9ae8",primaryColorPressed:"#65b7f3",primaryColorSuppl:"#1765ad"}},purple:{common:{primaryColor:"#642ab5",primaryColorHover:"#854eca",primaryColorPressed:"#ab7ae0",primaryColorSuppl:"#51258f"}},magenta:{common:{primaryColor:"#cb2b83",primaryColorHover:"#e0529c",primaryColorPressed:"#f37fb7",primaryColorSuppl:"#a02669"}}},_imports_0="/assets/ptools-8b033b13.svg",layoutThemeConfig={title:"PT一下你就知道",layout:"side",layoutStyle:"inverted",headerHeight:48,siderWidth:240,siderCollapsedWidth:48,showSiderTrigger:"bar",inverted:!1,collapsed:!1,theme:"default",logo:_imports_0},useLayoutTheme=createGlobalState(()=>useLocalStorage("layout-theme",layoutThemeConfig)),isDark=useDark(),toggleDark=useToggle(isDark),useAutoDark=()=>{useAppStore().layout.layoutStyle==="dark"?toggleDark(!0):toggleDark(!1)},useAppStore=defineStore("app",()=>{const e=useLayoutTheme(),t=reactive(unref(e)),r=ref(!1),{t:a}=useI18n(),i=f=>{r.value=f},u=f=>{t.collapsed=f},l=f=>{t.layoutStyle=f},m=computed(()=>{if(t.layoutStyle==="dark")return darkTheme});watch(()=>t.layoutStyle,f=>{toggleDark(f==="dark")});const b=computed(()=>isDark.value?darkColors[t.theme]:colors[t.theme]),y=f=>{t.theme=f},v=computed(()=>{var V;const f=[],$=isDark.value?darkColors:colors;for(const D in $){const I=$[D];f.push({color:(V=I.common)==null?void 0:V.primaryColor,key:D})}return f}),x=f=>h(NIcon,null,{default:()=>h(f)}),A=ref([{label:"简体中文",key:"zh-CN",icon:()=>"🇨🇳"},{label:"English",key:"en-US",icon:()=>"🇺🇸"}]),d=ref([{label:()=>a("global.layout.header.right.user.center"),key:"user-center",icon:()=>x(AccessibilitySharp)},{label:()=>a("global.layout.header.right.user.setting"),key:"user-setting",icon:()=>x(SettingsSharp)},{key:"header-divider",type:"divider"},{label:()=>a("global.layout.header.right.logout"),icon:()=>x(LogOutSharp),key:"logout"}]);return{layout:t,visible:r,userOptions:d,toggleVisible:i,toggleCollapsed:u,layoutTheme:m,updateLayoutStyle:l,overrideTheme:b,updateTheme:y,themeList:v,localeOptions:A}}),useAppLocale=createGlobalState(()=>useStorage("locale",defaultLocale)),useAutoLang=()=>{const e=useAppLocale(),{locale:t,getLocaleMessage:r,t:a}=useI18n(),i=useRoute(),u=useAppStore(),l=async v=>{var x;try{await loadLanguageAsync(v),e.value=v,t.value=v;const A=(x=i.meta)==null?void 0:x.title;if(A){const d=a(A);document.title=`${d} - ${u.layout.title}`}}catch{throw new Error(`Failed to load language: ${v}`)}},{isSupported:m,language:b}=useNavigatorLanguage();m.value&&(b.value&&b.value!==defaultLocale&&l(b.value).then(()=>{}),watch(b,v=>{v&&l(v).then(()=>{})})),watch(e,v=>{v&&v!==t.value&&l(v).then(()=>{})}),l(e.value).then(()=>{});const y=computed(()=>r(e.value).naiveUI||{});return{setLanguage:l,naiveLocale:y}},MULTI_TAB_STATE_KEY=Symbol("multiTabState"),useMultiTabProvider=()=>{const e=reactive({tabList:[],current:""});return provide(MULTI_TAB_STATE_KEY,e),e},useMultiTabInject=()=>inject(MULTI_TAB_STATE_KEY),useMultiTab=()=>{const e=useMultiTabInject(),t=computed(()=>e.tabList),r=computed(()=>e.current),a=useRoute(),i=useRouter(),u=m=>{m||(m=r.value),t.value.length<=1&&(i.replace({path:"/"}).then(()=>{}),e.tabList.splice(0,1));const b=t.value.findIndex(v=>v.path===m);if(m!==r.value){e.tabList.splice(b,1);return}const y=b===0?b+1:b-1;i.replace(t.value[y].route).then(()=>e.tabList.splice(b,1))},l=m=>{m||(m=r.value),i.replace({path:`/redirect/${m}`}).then(()=>{}).catch(()=>{})};return watch(()=>a.fullPath,()=>{r.value!==a.path&&(e.current=a.path);const m=t.value.findIndex(b=>b.path===a.path);if(m!==-1)e.tabList[m].route=omit(a,["matched"]);else{const b={path:a.path,tabTitle:a.meta.title??"",icon:a.meta.icon??"",route:omit(a,["matched"])};e.tabList.push(b)}},{immediate:!0}),{tabList:t,current:r,closeTab:u,refreshTab:l}},menuState=()=>{const e=reactive({active:""}),t=useRoute(),r=a=>{e.active=a};return watch(()=>t.fullPath,()=>{r(t.path)}),{...toRefs(e),updateActive:r}},[useMenuStateProvider,useMenuStateInject]=createInjectionState(menuState),useMenuState=()=>useMenuStateInject()??{active:ref(""),updateActive:()=>{}},_sfc_main$v=defineComponent({__name:"App",setup(e){const t=useAppStore(),{layoutTheme:r,overrideTheme:a}=storeToRefs(t);useAutoDark();const{naiveLocale:i}=useAutoLang();return useMenuStateProvider(),useMultiTabProvider(),(u,l)=>{const m=__unplugin_components_0,b=resolveComponent("router-view"),y=__unplugin_components_1,v=__unplugin_components_2$1;return openBlock(),createBlock(v,{locale:unref(i).locale,"date-locale":unref(i).dateLocale,theme:unref(r),"theme-overrides":unref(a)},{default:withCtx(()=>[createVNode(m),createVNode(y,null,{default:withCtx(()=>[createVNode(b)]),_:1})]),_:1},8,["locale","date-locale","theme","theme-overrides"])}}}),tailwind="",index="",__uno="",staticRoutes=[{path:"/login",name:"login",component:()=>__vitePreload(()=>import("./index-fb41013d.js"),["assets/index-fb41013d.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"])},{path:"/error",name:"error",component:()=>__vitePreload(()=>import("./error-c42e9bc9.js"),["assets/error-c42e9bc9.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"])},{path:"/redirect/:path(.*)",name:"redirect",component:()=>__vitePreload(()=>import("./index-6fd3689a.js"),["assets/index-6fd3689a.js","assets/vue-3732522d.js","assets/lodash-18690875.js"])},{path:"/:pathMatch(.*)",component:()=>__vitePreload(()=>import("./404-f17a1e90.js"),["assets/404-f17a1e90.js","assets/naiveUI-5e433394.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/ionicons5-ced7f89a.js"])}],router=createRouter({routes:[...staticRoutes],history:createWebHistory("/")});function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const r=toString.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,i;if(typeof e!="object"&&(e=[e]),isArray(e))for(a=0,i=e.length;a<i;a++)t.call(null,e[a],a,e);else{const u=r?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let m;for(a=0;a<l;a++)m=u[a],t.call(null,e[m],m,e)}}function findKey(e,t){t=t.toLowerCase();const r=Object.keys(e);let a=r.length,i;for(;a-- >0;)if(i=r[a],t===i.toLowerCase())return i;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},r=(a,i)=>{const u=e&&findKey(t,i)||i;isPlainObject(t[u])&&isPlainObject(a)?t[u]=merge(t[u],a):isPlainObject(a)?t[u]=merge({},a):isArray(a)?t[u]=a.slice():t[u]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&forEach(arguments[a],r);return t}const extend=(e,t,r,{allOwnKeys:a}={})=>(forEach(t,(i,u)=>{r&&isFunction(i)?e[u]=bind(i,r):e[u]=i},{allOwnKeys:a}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject=(e,t,r,a)=>{let i,u,l;const m={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),u=i.length;u-- >0;)l=i[u],(!a||a(l,e,t))&&!m[l]&&(t[l]=e[l],m[l]=!0);e=r!==!1&&getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=a.next())&&!i.done;){const u=i.value;t.call(e,u[0],u[1])}},matchAll=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),hasOwnProperty=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};forEach(r,(i,u)=>{t(i,u,e)!==!1&&(a[u]=i)}),Object.defineProperties(e,a)},freezeMethods=e=>{reduceDescriptors(e,(t,r)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(isFunction(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(e,t)=>{const r={},a=i=>{i.forEach(u=>{r[u]=!0})};return isArray(e)?a(e):a(String(e).split(t)),r},noop=()=>{},toFiniteNumber=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(e=16,t=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:a}=t;for(;e--;)r+=t[Math.random()*a|0];return r};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),r=(a,i)=>{if(isObject(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[i]=a;const u=isArray(a)?[]:{};return forEach(a,(l,m)=>{const b=r(l,i+1);!isUndefined(b)&&(u[m]=b)}),t[i]=void 0,u}}return a};return r(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError$1(e,t,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i)}utils.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(e,t,r,a,i,u)=>{const l=Object.create(prototype$1);return utils.toFlatObject(e,l,function(b){return b!==Error.prototype},m=>m!=="isAxiosError"),AxiosError$1.call(l,e.message,t,r,a,i),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const httpAdapter=null;function isVisitable(e){return utils.isPlainObject(e)||utils.isArray(e)}function removeBrackets(e){return utils.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,r){return e?e.concat(t).map(function(i,u){return i=removeBrackets(i),!r&&u?"["+i+"]":i}).join(r?".":""):t}function isFlatArray(e){return utils.isArray(e)&&!e.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData$1(e,t,r){if(!utils.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function($,V){return!utils.isUndefined(V[$])});const a=r.metaTokens,i=r.visitor||v,u=r.dots,l=r.indexes,b=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(t);if(!utils.isFunction(i))throw new TypeError("visitor must be a function");function y(f){if(f===null)return"";if(utils.isDate(f))return f.toISOString();if(!b&&utils.isBlob(f))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(f)||utils.isTypedArray(f)?b&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function v(f,$,V){let D=f;if(f&&!V&&typeof f=="object"){if(utils.endsWith($,"{}"))$=a?$:$.slice(0,-2),f=JSON.stringify(f);else if(utils.isArray(f)&&isFlatArray(f)||(utils.isFileList(f)||utils.endsWith($,"[]"))&&(D=utils.toArray(f)))return $=removeBrackets($),D.forEach(function(g,M){!(utils.isUndefined(g)||g===null)&&t.append(l===!0?renderKey([$],M,u):l===null?$:$+"[]",y(g))}),!1}return isVisitable(f)?!0:(t.append(renderKey(V,$,u),y(f)),!1)}const x=[],A=Object.assign(predicates,{defaultVisitor:v,convertValue:y,isVisitable});function d(f,$){if(!utils.isUndefined(f)){if(x.indexOf(f)!==-1)throw Error("Circular reference detected in "+$.join("."));x.push(f),utils.forEach(f,function(D,I){(!(utils.isUndefined(D)||D===null)&&i.call(t,D,utils.isString(I)?I.trim():I,$,A))===!0&&d(D,$?$.concat(I):[I])}),x.pop()}}if(!utils.isObject(e))throw new TypeError("data must be an object");return d(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData$1(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,r){this._pairs.push([t,r])};prototype.toString=function(t){const r=t?function(a){return t.call(this,a,encode$1)}:encode$1;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,r){if(!t)return e;const a=r&&r.encode||encode,i=r&&r.serialize;let u;if(i?u=i(t,r):u=utils.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,r).toString(a),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils.forEach(this.handlers,function(a){a!==null&&t(a)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(e,t){return toFormData$1(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,a,i,u){return platform.isNode&&utils.isBuffer(r)?(this.append(a,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},r=Object.keys(e);let a;const i=r.length;let u;for(a=0;a<i;a++)u=r[a],t[u]=e[u];return t}function formDataToJSON(e){function t(r,a,i,u){let l=r[u++];const m=Number.isFinite(+l),b=u>=r.length;return l=!l&&utils.isArray(i)?i.length:l,b?(utils.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!m):((!i[l]||!utils.isObject(i[l]))&&(i[l]=[]),t(r,a,i[l],u)&&utils.isArray(i[l])&&(i[l]=arrayToObject(i[l])),!m)}if(utils.isFormData(e)&&utils.isFunction(e.entries)){const r={};return utils.forEachEntry(e,(a,i)=>{t(parsePropPath(a),i,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(e,t,r){if(utils.isString(e))try{return(t||JSON.parse)(e),utils.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(t,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,u=utils.isObject(t);if(u&&utils.isHTMLForm(t)&&(t=new FormData(t)),utils.isFormData(t))return i&&i?JSON.stringify(formDataToJSON(t)):t;if(utils.isArrayBuffer(t)||utils.isBuffer(t)||utils.isStream(t)||utils.isFile(t)||utils.isBlob(t))return t;if(utils.isArrayBufferView(t))return t.buffer;if(utils.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(u){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((m=utils.isFileList(t))||a.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return toFormData$1(m?{"files[]":t}:t,b&&new b,this.formSerializer)}}return u||i?(r.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const r=this.transitional||defaults.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&utils.isString(t)&&(a&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(m){if(l)throw m.name==="SyntaxError"?AxiosError$1.from(m,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(t){defaults.headers[t]={}});utils.forEach(["post","put","patch"],function(t){defaults.headers[t]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let r,a,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!r||t[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,r,a,i){if(utils.isFunction(a))return a.call(this,t,r);if(i&&(t=r),!!utils.isString(t)){if(utils.isString(a))return t.indexOf(a)!==-1;if(utils.isRegExp(a))return a.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function buildAccessors(e,t){const r=utils.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(i,u,l){return this[a].call(this,t,i,u,l)},configurable:!0})})}let AxiosHeaders$1=class{constructor(t){t&&this.set(t)}set(t,r,a){const i=this;function u(m,b,y){const v=normalizeHeader(b);if(!v)throw new Error("header name must be a non-empty string");const x=utils.findKey(i,v);(!x||i[x]===void 0||y===!0||y===void 0&&i[x]!==!1)&&(i[x||b]=normalizeValue(m))}const l=(m,b)=>utils.forEach(m,(y,v)=>u(y,v,b));return utils.isPlainObject(t)||t instanceof this.constructor?l(t,r):utils.isString(t)&&(t=t.trim())&&!isValidHeaderName(t)?l(parseHeaders(t),r):t!=null&&u(r,t,a),this}get(t,r){if(t=normalizeHeader(t),t){const a=utils.findKey(this,t);if(a){const i=this[a];if(!r)return i;if(r===!0)return parseTokens(i);if(utils.isFunction(r))return r.call(this,i,a);if(utils.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=normalizeHeader(t),t){const a=utils.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||matchHeaderValue(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let i=!1;function u(l){if(l=normalizeHeader(l),l){const m=utils.findKey(a,l);m&&(!r||matchHeaderValue(a,a[m],m,r))&&(delete a[m],i=!0)}}return utils.isArray(t)?t.forEach(u):u(t),i}clear(t){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const u=r[a];(!t||matchHeaderValue(this,this[u],u,t,!0))&&(delete this[u],i=!0)}return i}normalize(t){const r=this,a={};return utils.forEach(this,(i,u)=>{const l=utils.findKey(a,u);if(l){r[l]=normalizeValue(i),delete r[u];return}const m=t?formatHeader(u):String(u).trim();m!==u&&delete r[u],r[m]=normalizeValue(i),a[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return utils.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=t&&utils.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(i=>a.set(i)),a}static accessor(t){const a=(this[$internals]=this[$internals]={accessors:{}}).accessors,i=this.prototype;function u(l){const m=normalizeHeader(l);a[m]||(buildAccessors(i,l),a[m]=!0)}return utils.isArray(t)?t.forEach(u):u(t),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders$1.prototype);utils.freezeMethods(AxiosHeaders$1);const AxiosHeaders$2=AxiosHeaders$1;function transformData(e,t){const r=this||defaults$1,a=t||r,i=AxiosHeaders$2.from(a.headers);let u=a.data;return utils.forEach(e,function(m){u=m.call(r,u,i.normalize(),t?t.status:void 0)}),i.normalize(),u}function isCancel$1(e){return!!(e&&e.__CANCEL__)}function CanceledError$1(e,t,r){AxiosError$1.call(this,e??"canceled",AxiosError$1.ERR_CANCELED,t,r),this.name="CanceledError"}utils.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new AxiosError$1("Request failed with status code "+r.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(r,a,i,u,l,m){const b=[];b.push(r+"="+encodeURIComponent(a)),utils.isNumber(i)&&b.push("expires="+new Date(i).toGMTString()),utils.isString(u)&&b.push("path="+u),utils.isString(l)&&b.push("domain="+l),m===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(r){const a=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let a;function i(u){let l=u;return t&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return a=i(window.location.href),function(l){const m=utils.isString(l)?i(l):l;return m.protocol===a.protocol&&m.host===a.host}}():function(){return function(){return!0}}();function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const r=new Array(e),a=new Array(e);let i=0,u=0,l;return t=t!==void 0?t:1e3,function(b){const y=Date.now(),v=a[u];l||(l=y),r[i]=b,a[i]=y;let x=u,A=0;for(;x!==i;)A+=r[x++],x=x%e;if(i=(i+1)%e,i===u&&(u=(u+1)%e),y-l<t)return;const d=v&&y-v;return d?Math.round(A*1e3/d):void 0}}function progressEventReducer(e,t){let r=0;const a=speedometer(50,250);return i=>{const u=i.loaded,l=i.lengthComputable?i.total:void 0,m=u-r,b=a(m),y=u<=l;r=u;const v={loaded:u,total:l,progress:l?u/l:void 0,bytes:m,rate:b||void 0,estimated:b&&l&&y?(l-u)/b:void 0,event:i};v[t?"download":"upload"]=!0,e(v)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(r,a){let i=e.data;const u=AxiosHeaders$2.from(e.headers).normalize(),l=e.responseType;let m;function b(){e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m)}utils.isFormData(i)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let y=new XMLHttpRequest;if(e.auth){const d=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(d+":"+f))}const v=buildFullPath(e.baseURL,e.url);y.open(e.method.toUpperCase(),buildURL(v,e.params,e.paramsSerializer),!0),y.timeout=e.timeout;function x(){if(!y)return;const d=AxiosHeaders$2.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),$={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:d,config:e,request:y};settle(function(D){r(D),b()},function(D){a(D),b()},$),y=null}if("onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(a(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,y)),y=null)},y.onerror=function(){a(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let f=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const $=e.transitional||transitionalDefaults;e.timeoutErrorMessage&&(f=e.timeoutErrorMessage),a(new AxiosError$1(f,$.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,y)),y=null},platform.isStandardBrowserEnv){const d=(e.withCredentials||isURLSameOrigin(v))&&e.xsrfCookieName&&cookies.read(e.xsrfCookieName);d&&u.set(e.xsrfHeaderName,d)}i===void 0&&u.setContentType(null),"setRequestHeader"in y&&utils.forEach(u.toJSON(),function(f,$){y.setRequestHeader($,f)}),utils.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),l&&l!=="json"&&(y.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&y.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(m=d=>{y&&(a(!d||d.type?new CanceledError$1(null,e,y):d),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m)));const A=parseProtocol(v);if(A&&platform.protocols.indexOf(A)===-1){a(new AxiosError$1("Unsupported protocol "+A+":",AxiosError$1.ERR_BAD_REQUEST,e));return}y.send(i||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const adapters={getAdapter:e=>{e=utils.isArray(e)?e:[e];const{length:t}=e;let r,a;for(let i=0;i<t&&(r=e[i],!(a=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));i++);if(!a)throw a===!1?new AxiosError$1(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$2.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(a){return throwIfCancellationRequested(e),a.data=transformData.call(e,e.transformResponse,a),a.headers=AxiosHeaders$2.from(a.headers),a},function(a){return isCancel$1(a)||(throwIfCancellationRequested(e),a&&a.response&&(a.response.data=transformData.call(e,e.transformResponse,a.response),a.response.headers=AxiosHeaders$2.from(a.response.headers))),Promise.reject(a)})}const headersToObject=e=>e instanceof AxiosHeaders$2?e.toJSON():e;function mergeConfig$1(e,t){t=t||{};const r={};function a(y,v,x){return utils.isPlainObject(y)&&utils.isPlainObject(v)?utils.merge.call({caseless:x},y,v):utils.isPlainObject(v)?utils.merge({},v):utils.isArray(v)?v.slice():v}function i(y,v,x){if(utils.isUndefined(v)){if(!utils.isUndefined(y))return a(void 0,y,x)}else return a(y,v,x)}function u(y,v){if(!utils.isUndefined(v))return a(void 0,v)}function l(y,v){if(utils.isUndefined(v)){if(!utils.isUndefined(y))return a(void 0,y)}else return a(void 0,v)}function m(y,v,x){if(x in t)return a(y,v);if(x in e)return a(void 0,y)}const b={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:m,headers:(y,v)=>i(headersToObject(y),headersToObject(v),!0)};return utils.forEach(Object.keys(Object.assign({},e,t)),function(v){const x=b[v]||i,A=x(e[v],t[v],v);utils.isUndefined(A)&&x!==m||(r[v]=A)}),r}const VERSION$1="1.4.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,r,a){function i(u,l){return"[Axios v"+VERSION$1+"] Transitional option '"+u+"'"+l+(a?". "+a:"")}return(u,l,m)=>{if(t===!1)throw new AxiosError$1(i(l," has been removed"+(r?" in "+r:"")),AxiosError$1.ERR_DEPRECATED);return r&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(u,l,m):!0}};function assertOptions(e,t,r){if(typeof e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const u=a[i],l=t[u];if(l){const m=e[u],b=m===void 0||l(m,u,e);if(b!==!0)throw new AxiosError$1("option "+u+" must be "+b,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError$1("Unknown option "+u,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mergeConfig$1(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:u}=r;a!==void 0&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),i!=null&&(utils.isFunction(i)?r.paramsSerializer={serialize:i}:validator.assertOptions(i,{encode:validators.function,serialize:validators.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l;l=u&&utils.merge(u.common,u[r.method]),l&&utils.forEach(["delete","get","head","post","put","patch","common"],f=>{delete u[f]}),r.headers=AxiosHeaders$2.concat(l,u);const m=[];let b=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(r)===!1||(b=b&&$.synchronous,m.unshift($.fulfilled,$.rejected))});const y=[];this.interceptors.response.forEach(function($){y.push($.fulfilled,$.rejected)});let v,x=0,A;if(!b){const f=[dispatchRequest.bind(this),void 0];for(f.unshift.apply(f,m),f.push.apply(f,y),A=f.length,v=Promise.resolve(r);x<A;)v=v.then(f[x++],f[x++]);return v}A=m.length;let d=r;for(x=0;x<A;){const f=m[x++],$=m[x++];try{d=f(d)}catch(V){$.call(this,V);break}}try{v=dispatchRequest.call(this,d)}catch(f){return Promise.reject(f)}for(x=0,A=y.length;x<A;)v=v.then(y[x++],y[x++]);return v}getUri(t){t=mergeConfig$1(this.defaults,t);const r=buildFullPath(t.baseURL,t.url);return buildURL(r,t.params,t.paramsSerializer)}};utils.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(r,a){return this.request(mergeConfig$1(a||{},{method:t,url:r,data:(a||{}).data}))}});utils.forEach(["post","put","patch"],function(t){function r(a){return function(u,l,m){return this.request(mergeConfig$1(m||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}Axios$1.prototype[t]=r(),Axios$1.prototype[t+"Form"]=r(!0)});const Axios$2=Axios$1;let CancelToken$1=class wn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const a=this;this.promise.then(i=>{if(!a._listeners)return;let u=a._listeners.length;for(;u-- >0;)a._listeners[u](i);a._listeners=null}),this.promise.then=i=>{let u;const l=new Promise(m=>{a.subscribe(m),u=m}).then(i);return l.cancel=function(){a.unsubscribe(u)},l},t(function(u,l,m){a.reason||(a.reason=new CanceledError$1(u,l,m),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new wn(function(i){t=i}),cancel:t}}};const CancelToken$2=CancelToken$1;function spread$1(e){return function(r){return e.apply(null,r)}}function isAxiosError$1(e){return utils.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([e,t])=>{HttpStatusCode$1[t]=e});const HttpStatusCode$2=HttpStatusCode$1;function createInstance(e){const t=new Axios$2(e),r=bind(Axios$2.prototype.request,t);return utils.extend(r,Axios$2.prototype,t,{allOwnKeys:!0}),utils.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return createInstance(mergeConfig$1(e,i))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$2;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$2;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(t){return Promise.all(t)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$2;axios.formToJSON=e=>formDataToJSON(utils.isHTMLForm(e)?new FormData(e):e);axios.HttpStatusCode=HttpStatusCode$2;axios.default=axios;const axios$1=axios,{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,mergeConfig}=axios$1,STORAGE_AUTHORIZATION_KEY="Authorization",useAuthorization=createGlobalState(()=>useStorage(STORAGE_AUTHORIZATION_KEY,null)),instance=axios$1.create({baseURL:"/api",timeout:12e4}),requestHandler=async e=>{const t=useAuthorization();return t.value&&(e.headers={...e.headers,[STORAGE_AUTHORIZATION_KEY]:t.value}),e},err_status=[401,403],responseHandler=e=>e.data,errorHandler=e=>{var a;const{notification:t}=useGlobalConfig(),r=useAuthorization();if(e.response){const{data:i,status:u,statusText:l}=e.response;err_status.includes(u)?(t==null||t.error({title:i18n.global.t("global.request.error.401"),content:(i==null?void 0:i.msg)||l,duration:3e3}),router.replace({path:"/login",query:{redirect:(a=router==null?void 0:router.currentRoute.value)==null?void 0:a.path}}).then(()=>{r.value=null})):u===403?t==null||t.error({title:i18n.global.t("global.request.error.403"),content:(i==null?void 0:i.msg)||l,duration:3e3}):u===500?t==null||t.error({title:i18n.global.t("global.request.error.500"),content:(i==null?void 0:i.msg)||l,duration:3e3}):t==null||t.error({title:i18n.global.t("global.request.error.other"),content:(i==null?void 0:i.msg)||l,duration:3e3})}return Promise.reject(e)};instance.interceptors.request.use(requestHandler);instance.interceptors.response.use(responseHandler,errorHandler);const useGet=(e,t,r)=>instance.request({url:e,method:"GET",params:t,...r}),usePost=(e,t,r)=>instance.request({url:e,method:"POST",data:t,...r}),usePut=(e,t,r)=>instance.request({url:e,method:"PUT",data:t,...r}),useDelete=(e,t,r)=>instance.request({url:e,method:"DELETE",params:t,...r}),{message:message$2}=useGlobalConfig(),loginUrl="config/login",userLoginApi=async e=>await usePost(loginUrl,e),userGetInfoUrl="config/userinfo",userGetInfoApi=async()=>{const{code:e,msg:t,data:r}=await useGet(userGetInfoUrl);switch(e){case 0:return r;default:return message$2==null||message$2.warning(t),!1}},_sfc_main$u=defineComponent({__name:"header-title",props:{title:{},size:{default:24}},setup(e){const t=e,r=computed(()=>({fontSize:`${t.size}px`}));return(a,i)=>a.title?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle(unref(r)),class:"ml-2 truncate"},toDisplayString(a.title),5)):createCommentVNode("",!0)}}),_sfc_main$t=defineComponent({__name:"header-logo",props:{src:{},size:{default:24}},setup(e){return(t,r)=>{const a=__unplugin_components_0$1;return openBlock(),createBlock(a,{src:t.src,width:t.size,height:t.size,"preview-disabled":""},null,8,["src","width","height"])}}}),_sfc_main$s=defineComponent({__name:"menu-icon",props:{icon:{}},setup(e){const t=e,r=computed(()=>icons[t.icon]);return(a,i)=>{const u=NIcon;return openBlock(),createBlock(u,{component:unref(r)},null,8,["component"])}}}),_sfc_main$r=defineComponent({__name:"tab-title",props:{item:{},onContextMenu:{type:Function}},setup(e){const t=e,{refreshTab:r,current:a}=useMultiTab(),i=u=>{t.onContextMenu(u)};return(u,l)=>{const m=NIcon;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("span",{class:"flex items-center",onContextmenu:i},[u.item.icon?(openBlock(),createBlock(_sfc_main$s,{key:0,icon:u.item.icon,class:normalizeClass(["mr-2",[u.item.route.meta.keepAlive??"alive-animation"]])},null,8,["icon","class"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(u.$t(u.item.tabTitle)),1)],32),unref(a)===u.item.path?(openBlock(),createBlock(m,{key:0,class:"ml-2 n-base-close n-tabs-tab__close",size:"18",onClick:l[0]||(l[0]=b=>unref(r)(u.item.path))},{default:withCtx(()=>[createVNode(unref(RefreshOutline))]),_:1})):createCommentVNode("",!0)],64)}}}),tabTitle_vue_vue_type_style_index_0_scoped_196c8f69_lang="",TabTitle=_export_sfc(_sfc_main$r,[["__scopeId","data-v-196c8f69"]]),_hoisted_1$e=createBaseVNode("div",{class:"ml-5px"},null,-1),_sfc_main$q=defineComponent({__name:"index",setup(e){useMultiTabInject();const{tabList:t,current:r,closeTab:a,refreshTab:i}=useMultiTab(),u=useRouter(),l=reactive({x:0,y:0,show:!1}),m=d=>{a(d),l.show=!1},b=d=>{d.preventDefault(),l.show=!1,nextTick().then(()=>{l.show=!0,l.x=d.clientX,l.y=d.clientY})},y=d=>h(TabTitle,{item:d,onContextMenu:b}),v=computed(()=>[{label:"关闭当前页",key:"closeCurrent",disabled:t.value.length<=1},{label:"刷新当前页",key:"refreshCurrent"}]),x=d=>{d==="closeCurrent"&&a(),d==="refreshCurrent"&&i(),l.show=!1},A=d=>{u.push(d),l.show=!1};return(d,f)=>{const $=NIcon,V=__unplugin_components_10,D=__unplugin_components_0$2,I=__unplugin_components_2$2;return openBlock(),createElementBlock(Fragment,null,[createVNode(I,{value:unref(r),type:"card",animated:"","tab-style":"min-width: 80px;",class:"bg-#f0f0f0 dark:bg-transparent absolute z-998","onUpdate:value":A,onClose:m},{prefix:withCtx(()=>[_hoisted_1$e]),suffix:withCtx(()=>[createVNode(V,{type:"warning",trigger:"click",options:unref(v),onSelect:x},{default:withCtx(()=>[createVNode($,{size:"16",class:"cursor-pointer"},{default:withCtx(()=>[createVNode(unref(EllipsisVerticalSharp))]),_:1})]),_:1},8,["options"])]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),g=>(openBlock(),createBlock(D,{key:g.path,closable:"","display-directive":"show:lazy",tab:y(g),name:g.path},null,8,["tab","name"]))),128))]),_:1},8,["value"]),createVNode(V,{placement:"bottom-start",trigger:"manual",x:unref(l).x,y:unref(l).y,options:unref(v),show:unref(l).show,onSelect:x,onClickoutside:f[0]||(f[0]=g=>unref(l).show=!1)},null,8,["x","y","options","show"])],64)}}}),_hoisted_1$d={class:"px-2 mt-55px"},_sfc_main$p=defineComponent({__name:"layout-content",setup(e){const t=useAttrs();return(r,a)=>{const i=resolveComponent("router-view"),u=__unplugin_components_0$3;return openBlock(),createBlock(u,mergeProps(unref(t),{style:{"--n-color":"var(--pro-admin-layout-content-bg)"},class:"px-1 pt-47px",position:"absolute"}),{default:withCtx(()=>[createVNode(_sfc_main$q),createBaseVNode("div",_hoisted_1$d,[createVNode(i)])]),_:1},16)}}}),_sfc_main$o=defineComponent({__name:"index",props:{...menuProps},setup(e){const t=e;return(r,a)=>{const i=__unplugin_components_0$4;return openBlock(),createBlock(i,mergeProps(t,{accordion:""}),null,16)}}}),_hoisted_1$c={class:"flex items-center justify-center"},_hoisted_2$7=createBaseVNode("hr",null,null,-1),_sfc_main$n=defineComponent({__name:"layout-sider",props:{collapsed:{type:Boolean},logo:{},title:{},side:{type:Boolean,default:!1},collapsedIconSize:{default:24},siderCollapsedWidth:{},inverted:{type:Boolean},options:{},expandedKeys:{}},emits:["update:collapsed","update:active","update:expandedKeys"],setup(e,{emit:t}){const r=useUserStore(),a=computed(()=>r.menusData),{active:i}=useMenuState(),u=l=>{t("update:collapsed",l)};return(l,m)=>{const b=__unplugin_components_0$5;return openBlock(),createBlock(b,{inverted:l.inverted,collapsed:l.collapsed,class:"h-screen","collapse-mode":"width","onUpdate:collapsed":u},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[renderSlot(l.$slots,"logo")]),_hoisted_2$7,createVNode(_sfc_main$o,{collapsed:l.collapsed,"collapsed-icon-size":l.collapsedIconSize,"collapsed-width":l.siderCollapsedWidth,value:unref(i),options:unref(a),inverted:l.inverted,"expanded-keys":l.expandedKeys,"onUpdate:value":m[0]||(m[0]=y=>l.$emit("update:active",y)),"onUpdate:collapsed":m[1]||(m[1]=y=>l.$emit("update:collapsed",y)),"onUpdate:expandedKeys":m[2]||(m[2]=y=>l.$emit("update:expandedKeys",y))},null,8,["collapsed","collapsed-icon-size","collapsed-width","value","options","inverted","expanded-keys"])]),_:3},8,["inverted","collapsed"])}}}),_sfc_main$m={};function _sfc_render$1(e,t){const r=__unplugin_components_1$2;return openBlock(),createBlock(r,{style:{"--n-color":"var(--pro-admin-layout-content-bg)"}},{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3})}const LayoutBase=_export_sfc(_sfc_main$m,[["render",_sfc_render$1]]),_sfc_main$l=defineComponent({__name:"select-lang",props:{value:{},options:{}},emits:["update:value"],setup(e,{emit:t}){const r=a=>{t("update:value",a)};return(a,i)=>{const u=NIcon,l=__unplugin_components_10;return openBlock(),createBlock(l,{trigger:"hover",value:a.value,options:a.options,onSelect:r},{default:withCtx(()=>[createVNode(u,{class:"cursor-pointer",size:"22"},{default:withCtx(()=>[createVNode(unref(LanguageSharp))]),_:1})]),_:1},8,["value","options"])}}}),sizeUnits=[{unit:"B",ratio:1024**0},{unit:"KB",ratio:1024**1},{unit:"MB",ratio:1024**2},{unit:"GB",ratio:1024**3},{unit:"TB",ratio:1024**4},{unit:"PB",ratio:1024**5},{unit:"EB",ratio:1024**6},{unit:"ZB",ratio:1024**7},{unit:"YB",ratio:1024**8}],renderSize=(e,t=2,r="B")=>{const a=sizeUnits.findIndex(({unit:l})=>l===r);let i=e/sizeUnits[a].ratio,u=a;for(;u<sizeUnits.length-1&&i>=1024;)i/=1024,u++;return`${i.toFixed(t)} ${sizeUnits[u].unit}`},breakPointsEnum={xl:1600,lg:1199,md:991,sm:767,xs:575},useQueryBreakPoints=()=>{const e=reactive(useBreakpoints(breakPointsEnum)),t=e.smaller("sm"),r=e.between("sm","md"),a=e.greater("md");return{breakPoints:e,isMobile:t,isPad:r,isDesktop:a}};var lodash_clonedeep={exports:{}};lodash_clonedeep.exports;(function(e,t){var r=200,a="__lodash_hash_undefined__",i=9007199254740991,u="[object Arguments]",l="[object Array]",m="[object Boolean]",b="[object Date]",y="[object Error]",v="[object Function]",x="[object GeneratorFunction]",A="[object Map]",d="[object Number]",f="[object Object]",$="[object Promise]",V="[object RegExp]",D="[object Set]",I="[object String]",g="[object Symbol]",M="[object WeakMap]",P="[object ArrayBuffer]",F="[object DataView]",ce="[object Float32Array]",L="[object Float64Array]",ye="[object Int8Array]",we="[object Int16Array]",S="[object Int32Array]",Y="[object Uint8Array]",xe="[object Uint8ClampedArray]",X="[object Uint16Array]",W="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,ee=/\w*$/,Q=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,G={};G[u]=G[l]=G[P]=G[F]=G[m]=G[b]=G[ce]=G[L]=G[ye]=G[we]=G[S]=G[A]=G[d]=G[f]=G[V]=G[D]=G[I]=G[g]=G[Y]=G[xe]=G[X]=G[W]=!0,G[y]=G[v]=G[M]=!1;var Pe=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,He=typeof self=="object"&&self&&self.Object===Object&&self,H=Pe||He||Function("return this")(),fe=t&&!t.nodeType&&t,K=fe&&!0&&e&&!e.nodeType&&e,ve=K&&K.exports===fe;function We(n,s){return n.set(s[0],s[1]),n}function ne(n,s){return n.add(s),n}function pe(n,s){for(var o=-1,c=n?n.length:0;++o<c&&s(n[o],o,n)!==!1;);return n}function Ce(n,s){for(var o=-1,c=s.length,_=n.length;++o<c;)n[_+o]=s[o];return n}function De(n,s,o,c){var _=-1,N=n?n.length:0;for(c&&N&&(o=n[++_]);++_<N;)o=s(o,n[_],_,n);return o}function Ve(n,s){for(var o=-1,c=Array(n);++o<n;)c[o]=s(o);return c}function qe(n,s){return n==null?void 0:n[s]}function Ee(n){var s=!1;if(n!=null&&typeof n.toString!="function")try{s=!!(n+"")}catch{}return s}function O(n){var s=-1,o=Array(n.size);return n.forEach(function(c,_){o[++s]=[_,c]}),o}function be(n,s){return function(o){return n(s(o))}}function Fe(n){var s=-1,o=Array(n.size);return n.forEach(function(c){o[++s]=c}),o}var ct=Array.prototype,et=Function.prototype,ke=Object.prototype,Be=H["__core-js_shared__"],Le=function(){var n=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),he=et.toString,Ne=ke.hasOwnProperty,ze=ke.toString,tt=RegExp("^"+he.call(Ne).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ve?H.Buffer:void 0,me=H.Symbol,Oe=H.Uint8Array,oe=be(Object.getPrototypeOf,Object),Ie=Object.create,nt=ke.propertyIsEnumerable,rt=ct.splice,Ge=Object.getOwnPropertySymbols,ot=Ue?Ue.isBuffer:void 0,w=be(Object.keys,Object),T=je(H,"DataView"),k=je(H,"Map"),U=je(H,"Promise"),Se=je(H,"Set"),$e=je(H,"WeakMap"),_e=je(Object,"create"),Te=ge(T),ue=ge(k),ht=ge(U),mt=ge(Se),p=ge($e),C=me?me.prototype:void 0,R=C?C.valueOf:void 0;function J(n){var s=-1,o=n?n.length:0;for(this.clear();++s<o;){var c=n[s];this.set(c[0],c[1])}}function Re(){this.__data__=_e?_e(null):{}}function _t(n){return this.has(n)&&delete this.__data__[n]}function gt(n){var s=this.__data__;if(_e){var o=s[n];return o===a?void 0:o}return Ne.call(s,n)?s[n]:void 0}function Vt(n){var s=this.__data__;return _e?s[n]!==void 0:Ne.call(s,n)}function ut(n,s){var o=this.__data__;return o[n]=_e&&s===void 0?a:s,this}J.prototype.clear=Re,J.prototype.delete=_t,J.prototype.get=gt,J.prototype.has=Vt,J.prototype.set=ut;function ae(n){var s=-1,o=n?n.length:0;for(this.clear();++s<o;){var c=n[s];this.set(c[0],c[1])}}function Ht(){this.__data__=[]}function Wt(n){var s=this.__data__,o=wt(s,n);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():rt.call(s,o,1),!0}function qt(n){var s=this.__data__,o=wt(s,n);return o<0?void 0:s[o][1]}function Gt(n){return wt(this.__data__,n)>-1}function Kt(n,s){var o=this.__data__,c=wt(o,n);return c<0?o.push([n,s]):o[c][1]=s,this}ae.prototype.clear=Ht,ae.prototype.delete=Wt,ae.prototype.get=qt,ae.prototype.has=Gt,ae.prototype.set=Kt;function se(n){var s=-1,o=n?n.length:0;for(this.clear();++s<o;){var c=n[s];this.set(c[0],c[1])}}function Jt(){this.__data__={hash:new J,map:new(k||ae),string:new J}}function Zt(n){return pt(this,n).delete(n)}function Yt(n){return pt(this,n).get(n)}function Qt(n){return pt(this,n).has(n)}function Xt(n,s){return pt(this,n).set(n,s),this}se.prototype.clear=Jt,se.prototype.delete=Zt,se.prototype.get=Yt,se.prototype.has=Qt,se.prototype.set=Xt;function Ae(n){this.__data__=new ae(n)}function kt(){this.__data__=new ae}function en(n){return this.__data__.delete(n)}function yt(n){return this.__data__.get(n)}function $t(n){return this.__data__.has(n)}function tn(n,s){var o=this.__data__;if(o instanceof ae){var c=o.__data__;if(!k||c.length<r-1)return c.push([n,s]),this;o=this.__data__=new se(c)}return o.set(n,s),this}Ae.prototype.clear=kt,Ae.prototype.delete=en,Ae.prototype.get=yt,Ae.prototype.has=$t,Ae.prototype.set=tn;function at(n,s){var o=St(n)||Nt(n)?Ve(n.length,String):[],c=o.length,_=!!c;for(var N in n)(s||Ne.call(n,N))&&!(_&&(N=="length"||dn(N,c)))&&o.push(N);return o}function At(n,s,o){var c=n[s];(!(Ne.call(n,s)&&Ct(c,o))||o===void 0&&!(s in n))&&(n[s]=o)}function wt(n,s){for(var o=n.length;o--;)if(Ct(n[o][0],s))return o;return-1}function Ke(n,s){return n&&Lt(s,Tt(s),n)}function Dt(n,s,o,c,_,N,E){var z;if(c&&(z=N?c(n,_,N,E):c(n)),z!==void 0)return z;if(!Me(n))return n;var j=St(n);if(j){if(z=un(n),!s)return ln(n,z)}else{var B=it(n),q=B==v||B==x;if(Ye(n))return xt(n,s);if(B==f||B==u||q&&!N){if(Ee(n))return N?n:{};if(z=Ze(q?{}:n),!s)return It(n,Ke(z,n))}else{if(!G[B])return N?n:{};z=zt(n,B,Dt,s)}}E||(E=new Ae);var re=E.get(n);if(re)return re;if(E.set(n,z),!j)var Z=o?cn(n):Tt(n);return pe(Z||n,function(le,de){Z&&(de=le,le=n[de]),At(z,de,Dt(le,s,o,c,de,n,E))}),z}function Rt(n){return Me(n)?Ie(n):{}}function nn(n,s,o){var c=s(n);return St(n)?c:Ce(c,o(n))}function rn(n){return ze.call(n)}function on(n){if(!Me(n)||fn(n))return!1;var s=st(n)||Ee(n)?tt:Q;return s.test(ge(n))}function an(n){if(!ft(n))return w(n);var s=[];for(var o in Object(n))Ne.call(n,o)&&o!="constructor"&&s.push(o);return s}function xt(n,s){if(s)return n.slice();var o=new n.constructor(n.length);return n.copy(o),o}function Et(n){var s=new n.constructor(n.byteLength);return new Oe(s).set(new Oe(n)),s}function dt(n,s){var o=s?Et(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}function Pt(n,s,o){var c=s?o(O(n),!0):O(n);return De(c,We,new n.constructor)}function Ut(n){var s=new n.constructor(n.source,ee.exec(n));return s.lastIndex=n.lastIndex,s}function sn(n,s,o){var c=s?o(Fe(n),!0):Fe(n);return De(c,ne,new n.constructor)}function bt(n){return R?Object(R.call(n)):{}}function Bt(n,s){var o=s?Et(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}function ln(n,s){var o=-1,c=n.length;for(s||(s=Array(c));++o<c;)s[o]=n[o];return s}function Lt(n,s,o,c){o||(o={});for(var _=-1,N=s.length;++_<N;){var E=s[_],z=c?c(o[E],n[E],E,o,n):void 0;At(o,E,z===void 0?n[E]:z)}return o}function It(n,s){return Lt(n,Je(n),s)}function cn(n){return nn(n,Tt,Je)}function pt(n,s){var o=n.__data__;return pn(s)?o[typeof s=="string"?"string":"hash"]:o.map}function je(n,s){var o=qe(n,s);return on(o)?o:void 0}var Je=Ge?be(Ge,Object):hn,it=rn;(T&&it(new T(new ArrayBuffer(1)))!=F||k&&it(new k)!=A||U&&it(U.resolve())!=$||Se&&it(new Se)!=D||$e&&it(new $e)!=M)&&(it=function(n){var s=ze.call(n),o=s==f?n.constructor:void 0,c=o?ge(o):void 0;if(c)switch(c){case Te:return F;case ue:return A;case ht:return $;case mt:return D;case p:return M}return s});function un(n){var s=n.length,o=n.constructor(s);return s&&typeof n[0]=="string"&&Ne.call(n,"index")&&(o.index=n.index,o.input=n.input),o}function Ze(n){return typeof n.constructor=="function"&&!ft(n)?Rt(oe(n)):{}}function zt(n,s,o,c){var _=n.constructor;switch(s){case P:return Et(n);case m:case b:return new _(+n);case F:return dt(n,c);case ce:case L:case ye:case we:case S:case Y:case xe:case X:case W:return Bt(n,c);case A:return Pt(n,c,o);case d:case I:return new _(n);case V:return Ut(n);case D:return sn(n,c,o);case g:return bt(n)}}function dn(n,s){return s=s??i,!!s&&(typeof n=="number"||te.test(n))&&n>-1&&n%1==0&&n<s}function pn(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function fn(n){return!!Le&&Le in n}function ft(n){var s=n&&n.constructor,o=typeof s=="function"&&s.prototype||ke;return n===o}function ge(n){if(n!=null){try{return he.call(n)}catch{}try{return n+""}catch{}}return""}function vt(n){return Dt(n,!0,!0)}function Ct(n,s){return n===s||n!==n&&s!==s}function Nt(n){return Ft(n)&&Ne.call(n,"callee")&&(!nt.call(n,"callee")||ze.call(n)==u)}var St=Array.isArray;function lt(n){return n!=null&&jt(n.length)&&!st(n)}function Ft(n){return Mt(n)&&lt(n)}var Ye=ot||mn;function st(n){var s=Me(n)?ze.call(n):"";return s==v||s==x}function jt(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=i}function Me(n){var s=typeof n;return!!n&&(s=="object"||s=="function")}function Mt(n){return!!n&&typeof n=="object"}function Tt(n){return lt(n)?at(n):an(n)}function hn(){return[]}function mn(){return!1}e.exports=vt})(lodash_clonedeep,lodash_clonedeep.exports);lodash_clonedeep.exports;var lodash_isequal={exports:{}};lodash_isequal.exports;(function(e,t){var r=200,a="__lodash_hash_undefined__",i=1,u=2,l=9007199254740991,m="[object Arguments]",b="[object Array]",y="[object AsyncFunction]",v="[object Boolean]",x="[object Date]",A="[object Error]",d="[object Function]",f="[object GeneratorFunction]",$="[object Map]",V="[object Number]",D="[object Null]",I="[object Object]",g="[object Promise]",M="[object Proxy]",P="[object RegExp]",F="[object Set]",ce="[object String]",L="[object Symbol]",ye="[object Undefined]",we="[object WeakMap]",S="[object ArrayBuffer]",Y="[object DataView]",xe="[object Float32Array]",X="[object Float64Array]",W="[object Int8Array]",ie="[object Int16Array]",ee="[object Int32Array]",Q="[object Uint8Array]",te="[object Uint8ClampedArray]",G="[object Uint16Array]",Pe="[object Uint32Array]",He=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,K={};K[xe]=K[X]=K[W]=K[ie]=K[ee]=K[Q]=K[te]=K[G]=K[Pe]=!0,K[m]=K[b]=K[S]=K[v]=K[Y]=K[x]=K[A]=K[d]=K[$]=K[V]=K[I]=K[P]=K[F]=K[ce]=K[we]=!1;var ve=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,We=typeof self=="object"&&self&&self.Object===Object&&self,ne=ve||We||Function("return this")(),pe=t&&!t.nodeType&&t,Ce=pe&&!0&&e&&!e.nodeType&&e,De=Ce&&Ce.exports===pe,Ve=De&&ve.process,qe=function(){try{return Ve&&Ve.binding&&Ve.binding("util")}catch{}}(),Ee=qe&&qe.isTypedArray;function O(n,s){for(var o=-1,c=n==null?0:n.length,_=0,N=[];++o<c;){var E=n[o];s(E,o,n)&&(N[_++]=E)}return N}function be(n,s){for(var o=-1,c=s.length,_=n.length;++o<c;)n[_+o]=s[o];return n}function Fe(n,s){for(var o=-1,c=n==null?0:n.length;++o<c;)if(s(n[o],o,n))return!0;return!1}function ct(n,s){for(var o=-1,c=Array(n);++o<n;)c[o]=s(o);return c}function et(n){return function(s){return n(s)}}function ke(n,s){return n.has(s)}function Be(n,s){return n==null?void 0:n[s]}function Le(n){var s=-1,o=Array(n.size);return n.forEach(function(c,_){o[++s]=[_,c]}),o}function he(n,s){return function(o){return n(s(o))}}function Ne(n){var s=-1,o=Array(n.size);return n.forEach(function(c){o[++s]=c}),o}var ze=Array.prototype,tt=Function.prototype,Ue=Object.prototype,me=ne["__core-js_shared__"],Oe=tt.toString,oe=Ue.hasOwnProperty,Ie=function(){var n=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),nt=Ue.toString,rt=RegExp("^"+Oe.call(oe).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=De?ne.Buffer:void 0,ot=ne.Symbol,w=ne.Uint8Array,T=Ue.propertyIsEnumerable,k=ze.splice,U=ot?ot.toStringTag:void 0,Se=Object.getOwnPropertySymbols,$e=Ge?Ge.isBuffer:void 0,_e=he(Object.keys,Object),Te=Je(ne,"DataView"),ue=Je(ne,"Map"),ht=Je(ne,"Promise"),mt=Je(ne,"Set"),p=Je(ne,"WeakMap"),C=Je(Object,"create"),R=ge(Te),J=ge(ue),Re=ge(ht),_t=ge(mt),gt=ge(p),Vt=ot?ot.prototype:void 0,ut=Vt?Vt.valueOf:void 0;function ae(n){var s=-1,o=n==null?0:n.length;for(this.clear();++s<o;){var c=n[s];this.set(c[0],c[1])}}function Ht(){this.__data__=C?C(null):{},this.size=0}function Wt(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function qt(n){var s=this.__data__;if(C){var o=s[n];return o===a?void 0:o}return oe.call(s,n)?s[n]:void 0}function Gt(n){var s=this.__data__;return C?s[n]!==void 0:oe.call(s,n)}function Kt(n,s){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=C&&s===void 0?a:s,this}ae.prototype.clear=Ht,ae.prototype.delete=Wt,ae.prototype.get=qt,ae.prototype.has=Gt,ae.prototype.set=Kt;function se(n){var s=-1,o=n==null?0:n.length;for(this.clear();++s<o;){var c=n[s];this.set(c[0],c[1])}}function Jt(){this.__data__=[],this.size=0}function Zt(n){var s=this.__data__,o=xt(s,n);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():k.call(s,o,1),--this.size,!0}function Yt(n){var s=this.__data__,o=xt(s,n);return o<0?void 0:s[o][1]}function Qt(n){return xt(this.__data__,n)>-1}function Xt(n,s){var o=this.__data__,c=xt(o,n);return c<0?(++this.size,o.push([n,s])):o[c][1]=s,this}se.prototype.clear=Jt,se.prototype.delete=Zt,se.prototype.get=Yt,se.prototype.has=Qt,se.prototype.set=Xt;function Ae(n){var s=-1,o=n==null?0:n.length;for(this.clear();++s<o;){var c=n[s];this.set(c[0],c[1])}}function kt(){this.size=0,this.__data__={hash:new ae,map:new(ue||se),string:new ae}}function en(n){var s=je(this,n).delete(n);return this.size-=s?1:0,s}function yt(n){return je(this,n).get(n)}function $t(n){return je(this,n).has(n)}function tn(n,s){var o=je(this,n),c=o.size;return o.set(n,s),this.size+=o.size==c?0:1,this}Ae.prototype.clear=kt,Ae.prototype.delete=en,Ae.prototype.get=yt,Ae.prototype.has=$t,Ae.prototype.set=tn;function at(n){var s=-1,o=n==null?0:n.length;for(this.__data__=new Ae;++s<o;)this.add(n[s])}function At(n){return this.__data__.set(n,a),this}function wt(n){return this.__data__.has(n)}at.prototype.add=at.prototype.push=At,at.prototype.has=wt;function Ke(n){var s=this.__data__=new se(n);this.size=s.size}function Dt(){this.__data__=new se,this.size=0}function Rt(n){var s=this.__data__,o=s.delete(n);return this.size=s.size,o}function nn(n){return this.__data__.get(n)}function rn(n){return this.__data__.has(n)}function on(n,s){var o=this.__data__;if(o instanceof se){var c=o.__data__;if(!ue||c.length<r-1)return c.push([n,s]),this.size=++o.size,this;o=this.__data__=new Ae(c)}return o.set(n,s),this.size=o.size,this}Ke.prototype.clear=Dt,Ke.prototype.delete=Rt,Ke.prototype.get=nn,Ke.prototype.has=rn,Ke.prototype.set=on;function an(n,s){var o=Nt(n),c=!o&&Ct(n),_=!o&&!c&&lt(n),N=!o&&!c&&!_&&Mt(n),E=o||c||_||N,z=E?ct(n.length,String):[],j=z.length;for(var B in n)(s||oe.call(n,B))&&!(E&&(B=="length"||_&&(B=="offset"||B=="parent")||N&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||zt(B,j)))&&z.push(B);return z}function xt(n,s){for(var o=n.length;o--;)if(vt(n[o][0],s))return o;return-1}function Et(n,s,o){var c=s(n);return Nt(n)?c:be(c,o(n))}function dt(n){return n==null?n===void 0?ye:D:U&&U in Object(n)?it(n):ft(n)}function Pt(n){return Me(n)&&dt(n)==m}function Ut(n,s,o,c,_){return n===s?!0:n==null||s==null||!Me(n)&&!Me(s)?n!==n&&s!==s:sn(n,s,o,c,Ut,_)}function sn(n,s,o,c,_,N){var E=Nt(n),z=Nt(s),j=E?b:Ze(n),B=z?b:Ze(s);j=j==m?I:j,B=B==m?I:B;var q=j==I,re=B==I,Z=j==B;if(Z&&lt(n)){if(!lt(s))return!1;E=!0,q=!1}if(Z&&!q)return N||(N=new Ke),E||Mt(n)?Lt(n,s,o,c,_,N):It(n,s,j,o,c,_,N);if(!(o&i)){var le=q&&oe.call(n,"__wrapped__"),de=re&&oe.call(s,"__wrapped__");if(le||de){var Qe=le?n.value():n,Xe=de?s.value():s;return N||(N=new Ke),_(Qe,Xe,o,c,N)}}return Z?(N||(N=new Ke),cn(n,s,o,c,_,N)):!1}function bt(n){if(!jt(n)||pn(n))return!1;var s=Ye(n)?rt:H;return s.test(ge(n))}function Bt(n){return Me(n)&&st(n.length)&&!!K[dt(n)]}function ln(n){if(!fn(n))return _e(n);var s=[];for(var o in Object(n))oe.call(n,o)&&o!="constructor"&&s.push(o);return s}function Lt(n,s,o,c,_,N){var E=o&i,z=n.length,j=s.length;if(z!=j&&!(E&&j>z))return!1;var B=N.get(n);if(B&&N.get(s))return B==s;var q=-1,re=!0,Z=o&u?new at:void 0;for(N.set(n,s),N.set(s,n);++q<z;){var le=n[q],de=s[q];if(c)var Qe=E?c(de,le,q,s,n,N):c(le,de,q,n,s,N);if(Qe!==void 0){if(Qe)continue;re=!1;break}if(Z){if(!Fe(s,function(Xe,Ot){if(!ke(Z,Ot)&&(le===Xe||_(le,Xe,o,c,N)))return Z.push(Ot)})){re=!1;break}}else if(!(le===de||_(le,de,o,c,N))){re=!1;break}}return N.delete(n),N.delete(s),re}function It(n,s,o,c,_,N,E){switch(o){case Y:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case S:return!(n.byteLength!=s.byteLength||!N(new w(n),new w(s)));case v:case x:case V:return vt(+n,+s);case A:return n.name==s.name&&n.message==s.message;case P:case ce:return n==s+"";case $:var z=Le;case F:var j=c&i;if(z||(z=Ne),n.size!=s.size&&!j)return!1;var B=E.get(n);if(B)return B==s;c|=u,E.set(n,s);var q=Lt(z(n),z(s),c,_,N,E);return E.delete(n),q;case L:if(ut)return ut.call(n)==ut.call(s)}return!1}function cn(n,s,o,c,_,N){var E=o&i,z=pt(n),j=z.length,B=pt(s),q=B.length;if(j!=q&&!E)return!1;for(var re=j;re--;){var Z=z[re];if(!(E?Z in s:oe.call(s,Z)))return!1}var le=N.get(n);if(le&&N.get(s))return le==s;var de=!0;N.set(n,s),N.set(s,n);for(var Qe=E;++re<j;){Z=z[re];var Xe=n[Z],Ot=s[Z];if(c)var yn=E?c(Ot,Xe,Z,s,n,N):c(Xe,Ot,Z,n,s,N);if(!(yn===void 0?Xe===Ot||_(Xe,Ot,o,c,N):yn)){de=!1;break}Qe||(Qe=Z=="constructor")}if(de&&!Qe){var _n=n.constructor,gn=s.constructor;_n!=gn&&"constructor"in n&&"constructor"in s&&!(typeof _n=="function"&&_n instanceof _n&&typeof gn=="function"&&gn instanceof gn)&&(de=!1)}return N.delete(n),N.delete(s),de}function pt(n){return Et(n,Tt,un)}function je(n,s){var o=n.__data__;return dn(s)?o[typeof s=="string"?"string":"hash"]:o.map}function Je(n,s){var o=Be(n,s);return bt(o)?o:void 0}function it(n){var s=oe.call(n,U),o=n[U];try{n[U]=void 0;var c=!0}catch{}var _=nt.call(n);return c&&(s?n[U]=o:delete n[U]),_}var un=Se?function(n){return n==null?[]:(n=Object(n),O(Se(n),function(s){return T.call(n,s)}))}:hn,Ze=dt;(Te&&Ze(new Te(new ArrayBuffer(1)))!=Y||ue&&Ze(new ue)!=$||ht&&Ze(ht.resolve())!=g||mt&&Ze(new mt)!=F||p&&Ze(new p)!=we)&&(Ze=function(n){var s=dt(n),o=s==I?n.constructor:void 0,c=o?ge(o):"";if(c)switch(c){case R:return Y;case J:return $;case Re:return g;case _t:return F;case gt:return we}return s});function zt(n,s){return s=s??l,!!s&&(typeof n=="number"||fe.test(n))&&n>-1&&n%1==0&&n<s}function dn(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function pn(n){return!!Ie&&Ie in n}function fn(n){var s=n&&n.constructor,o=typeof s=="function"&&s.prototype||Ue;return n===o}function ft(n){return nt.call(n)}function ge(n){if(n!=null){try{return Oe.call(n)}catch{}try{return n+""}catch{}}return""}function vt(n,s){return n===s||n!==n&&s!==s}var Ct=Pt(function(){return arguments}())?Pt:function(n){return Me(n)&&oe.call(n,"callee")&&!T.call(n,"callee")},Nt=Array.isArray;function St(n){return n!=null&&st(n.length)&&!Ye(n)}var lt=$e||mn;function Ft(n,s){return Ut(n,s)}function Ye(n){if(!jt(n))return!1;var s=dt(n);return s==d||s==f||s==y||s==M}function st(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=l}function jt(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Me(n){return n!=null&&typeof n=="object"}var Mt=Ee?et(Ee):Bt;function Tt(n){return St(n)?an(n):ln(n)}function hn(){return[]}function mn(){return!1}e.exports=Ft})(lodash_isequal,lodash_isequal.exports);lodash_isequal.exports;var lodash_merge={exports:{}};lodash_merge.exports;(function(e,t){var r=200,a="__lodash_hash_undefined__",i=800,u=16,l=9007199254740991,m="[object Arguments]",b="[object Array]",y="[object AsyncFunction]",v="[object Boolean]",x="[object Date]",A="[object Error]",d="[object Function]",f="[object GeneratorFunction]",$="[object Map]",V="[object Number]",D="[object Null]",I="[object Object]",g="[object Proxy]",M="[object RegExp]",P="[object Set]",F="[object String]",ce="[object Undefined]",L="[object WeakMap]",ye="[object ArrayBuffer]",we="[object DataView]",S="[object Float32Array]",Y="[object Float64Array]",xe="[object Int8Array]",X="[object Int16Array]",W="[object Int32Array]",ie="[object Uint8Array]",ee="[object Uint8ClampedArray]",Q="[object Uint16Array]",te="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,Pe=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,H={};H[S]=H[Y]=H[xe]=H[X]=H[W]=H[ie]=H[ee]=H[Q]=H[te]=!0,H[m]=H[b]=H[ye]=H[v]=H[we]=H[x]=H[A]=H[d]=H[$]=H[V]=H[I]=H[M]=H[P]=H[F]=H[L]=!1;var fe=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,K=typeof self=="object"&&self&&self.Object===Object&&self,ve=fe||K||Function("return this")(),We=t&&!t.nodeType&&t,ne=We&&!0&&e&&!e.nodeType&&e,pe=ne&&ne.exports===We,Ce=pe&&fe.process,De=function(){try{var o=ne&&ne.require&&ne.require("util").types;return o||Ce&&Ce.binding&&Ce.binding("util")}catch{}}(),Ve=De&&De.isTypedArray;function qe(o,c,_){switch(_.length){case 0:return o.call(c);case 1:return o.call(c,_[0]);case 2:return o.call(c,_[0],_[1]);case 3:return o.call(c,_[0],_[1],_[2])}return o.apply(c,_)}function Ee(o,c){for(var _=-1,N=Array(o);++_<o;)N[_]=c(_);return N}function O(o){return function(c){return o(c)}}function be(o,c){return o==null?void 0:o[c]}function Fe(o,c){return function(_){return o(c(_))}}var ct=Array.prototype,et=Function.prototype,ke=Object.prototype,Be=ve["__core-js_shared__"],Le=et.toString,he=ke.hasOwnProperty,Ne=function(){var o=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),ze=ke.toString,tt=Le.call(Object),Ue=RegExp("^"+Le.call(he).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=pe?ve.Buffer:void 0,Oe=ve.Symbol,oe=ve.Uint8Array,Ie=me?me.allocUnsafe:void 0,nt=Fe(Object.getPrototypeOf,Object),rt=Object.create,Ge=ke.propertyIsEnumerable,ot=ct.splice,w=Oe?Oe.toStringTag:void 0,T=function(){try{var o=Bt(Object,"defineProperty");return o({},"",{}),o}catch{}}(),k=me?me.isBuffer:void 0,U=Math.max,Se=Date.now,$e=Bt(ve,"Map"),_e=Bt(Object,"create"),Te=function(){function o(){}return function(c){if(!Ye(c))return{};if(rt)return rt(c);o.prototype=c;var _=new o;return o.prototype=void 0,_}}();function ue(o){var c=-1,_=o==null?0:o.length;for(this.clear();++c<_;){var N=o[c];this.set(N[0],N[1])}}function ht(){this.__data__=_e?_e(null):{},this.size=0}function mt(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function p(o){var c=this.__data__;if(_e){var _=c[o];return _===a?void 0:_}return he.call(c,o)?c[o]:void 0}function C(o){var c=this.__data__;return _e?c[o]!==void 0:he.call(c,o)}function R(o,c){var _=this.__data__;return this.size+=this.has(o)?0:1,_[o]=_e&&c===void 0?a:c,this}ue.prototype.clear=ht,ue.prototype.delete=mt,ue.prototype.get=p,ue.prototype.has=C,ue.prototype.set=R;function J(o){var c=-1,_=o==null?0:o.length;for(this.clear();++c<_;){var N=o[c];this.set(N[0],N[1])}}function Re(){this.__data__=[],this.size=0}function _t(o){var c=this.__data__,_=yt(c,o);if(_<0)return!1;var N=c.length-1;return _==N?c.pop():ot.call(c,_,1),--this.size,!0}function gt(o){var c=this.__data__,_=yt(c,o);return _<0?void 0:c[_][1]}function Vt(o){return yt(this.__data__,o)>-1}function ut(o,c){var _=this.__data__,N=yt(_,o);return N<0?(++this.size,_.push([o,c])):_[N][1]=c,this}J.prototype.clear=Re,J.prototype.delete=_t,J.prototype.get=gt,J.prototype.has=Vt,J.prototype.set=ut;function ae(o){var c=-1,_=o==null?0:o.length;for(this.clear();++c<_;){var N=o[c];this.set(N[0],N[1])}}function Ht(){this.size=0,this.__data__={hash:new ue,map:new($e||J),string:new ue}}function Wt(o){var c=bt(this,o).delete(o);return this.size-=c?1:0,c}function qt(o){return bt(this,o).get(o)}function Gt(o){return bt(this,o).has(o)}function Kt(o,c){var _=bt(this,o),N=_.size;return _.set(o,c),this.size+=_.size==N?0:1,this}ae.prototype.clear=Ht,ae.prototype.delete=Wt,ae.prototype.get=qt,ae.prototype.has=Gt,ae.prototype.set=Kt;function se(o){var c=this.__data__=new J(o);this.size=c.size}function Jt(){this.__data__=new J,this.size=0}function Zt(o){var c=this.__data__,_=c.delete(o);return this.size=c.size,_}function Yt(o){return this.__data__.get(o)}function Qt(o){return this.__data__.has(o)}function Xt(o,c){var _=this.__data__;if(_ instanceof J){var N=_.__data__;if(!$e||N.length<r-1)return N.push([o,c]),this.size=++_.size,this;_=this.__data__=new ae(N)}return _.set(o,c),this.size=_.size,this}se.prototype.clear=Jt,se.prototype.delete=Zt,se.prototype.get=Yt,se.prototype.has=Qt,se.prototype.set=Xt;function Ae(o,c){var _=vt(o),N=!_&&ge(o),E=!_&&!N&&St(o),z=!_&&!N&&!E&&Me(o),j=_||N||E||z,B=j?Ee(o.length,String):[],q=B.length;for(var re in o)(c||he.call(o,re))&&!(j&&(re=="length"||E&&(re=="offset"||re=="parent")||z&&(re=="buffer"||re=="byteLength"||re=="byteOffset")||It(re,q)))&&B.push(re);return B}function kt(o,c,_){(_!==void 0&&!ft(o[c],_)||_===void 0&&!(c in o))&&$t(o,c,_)}function en(o,c,_){var N=o[c];(!(he.call(o,c)&&ft(N,_))||_===void 0&&!(c in o))&&$t(o,c,_)}function yt(o,c){for(var _=o.length;_--;)if(ft(o[_][0],c))return _;return-1}function $t(o,c,_){c=="__proto__"&&T?T(o,c,{configurable:!0,enumerable:!0,value:_,writable:!0}):o[c]=_}var tn=sn();function at(o){return o==null?o===void 0?ce:D:w&&w in Object(o)?ln(o):un(o)}function At(o){return st(o)&&at(o)==m}function wt(o){if(!Ye(o)||je(o))return!1;var c=lt(o)?Ue:Pe;return c.test(fn(o))}function Ke(o){return st(o)&&Ft(o.length)&&!!H[at(o)]}function Dt(o){if(!Ye(o))return it(o);var c=Je(o),_=[];for(var N in o)N=="constructor"&&(c||!he.call(o,N))||_.push(N);return _}function Rt(o,c,_,N,E){o!==c&&tn(c,function(z,j){if(E||(E=new se),Ye(z))nn(o,c,j,_,Rt,N,E);else{var B=N?N(zt(o,j),z,j+"",o,c,E):void 0;B===void 0&&(B=z),kt(o,j,B)}},Tt)}function nn(o,c,_,N,E,z,j){var B=zt(o,_),q=zt(c,_),re=j.get(q);if(re){kt(o,_,re);return}var Z=z?z(B,q,_+"",o,c,j):void 0,le=Z===void 0;if(le){var de=vt(q),Qe=!de&&St(q),Xe=!de&&!Qe&&Me(q);Z=q,de||Qe||Xe?vt(B)?Z=B:Nt(B)?Z=dt(B):Qe?(le=!1,Z=an(q,!0)):Xe?(le=!1,Z=Et(q,!0)):Z=[]:jt(q)||ge(q)?(Z=B,ge(B)?Z=Mt(B):(!Ye(B)||lt(B))&&(Z=Lt(q))):le=!1}le&&(j.set(q,Z),E(Z,q,N,z,j),j.delete(q)),kt(o,_,Z)}function rn(o,c){return dn(Ze(o,c,n),o+"")}var on=T?function(o,c){return T(o,"toString",{configurable:!0,enumerable:!1,value:mn(c),writable:!0})}:n;function an(o,c){if(c)return o.slice();var _=o.length,N=Ie?Ie(_):new o.constructor(_);return o.copy(N),N}function xt(o){var c=new o.constructor(o.byteLength);return new oe(c).set(new oe(o)),c}function Et(o,c){var _=c?xt(o.buffer):o.buffer;return new o.constructor(_,o.byteOffset,o.length)}function dt(o,c){var _=-1,N=o.length;for(c||(c=Array(N));++_<N;)c[_]=o[_];return c}function Pt(o,c,_,N){var E=!_;_||(_={});for(var z=-1,j=c.length;++z<j;){var B=c[z],q=N?N(_[B],o[B],B,_,o):void 0;q===void 0&&(q=o[B]),E?$t(_,B,q):en(_,B,q)}return _}function Ut(o){return rn(function(c,_){var N=-1,E=_.length,z=E>1?_[E-1]:void 0,j=E>2?_[2]:void 0;for(z=o.length>3&&typeof z=="function"?(E--,z):void 0,j&&cn(_[0],_[1],j)&&(z=E<3?void 0:z,E=1),c=Object(c);++N<E;){var B=_[N];B&&o(c,B,N,z)}return c})}function sn(o){return function(c,_,N){for(var E=-1,z=Object(c),j=N(c),B=j.length;B--;){var q=j[o?B:++E];if(_(z[q],q,z)===!1)break}return c}}function bt(o,c){var _=o.__data__;return pt(c)?_[typeof c=="string"?"string":"hash"]:_.map}function Bt(o,c){var _=be(o,c);return wt(_)?_:void 0}function ln(o){var c=he.call(o,w),_=o[w];try{o[w]=void 0;var N=!0}catch{}var E=ze.call(o);return N&&(c?o[w]=_:delete o[w]),E}function Lt(o){return typeof o.constructor=="function"&&!Je(o)?Te(nt(o)):{}}function It(o,c){var _=typeof o;return c=c??l,!!c&&(_=="number"||_!="symbol"&&He.test(o))&&o>-1&&o%1==0&&o<c}function cn(o,c,_){if(!Ye(_))return!1;var N=typeof c;return(N=="number"?Ct(_)&&It(c,_.length):N=="string"&&c in _)?ft(_[c],o):!1}function pt(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function je(o){return!!Ne&&Ne in o}function Je(o){var c=o&&o.constructor,_=typeof c=="function"&&c.prototype||ke;return o===_}function it(o){var c=[];if(o!=null)for(var _ in Object(o))c.push(_);return c}function un(o){return ze.call(o)}function Ze(o,c,_){return c=U(c===void 0?o.length-1:c,0),function(){for(var N=arguments,E=-1,z=U(N.length-c,0),j=Array(z);++E<z;)j[E]=N[c+E];E=-1;for(var B=Array(c+1);++E<c;)B[E]=N[E];return B[c]=_(j),qe(o,this,B)}}function zt(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var dn=pn(on);function pn(o){var c=0,_=0;return function(){var N=Se(),E=u-(N-_);if(_=N,E>0){if(++c>=i)return arguments[0]}else c=0;return o.apply(void 0,arguments)}}function fn(o){if(o!=null){try{return Le.call(o)}catch{}try{return o+""}catch{}}return""}function ft(o,c){return o===c||o!==o&&c!==c}var ge=At(function(){return arguments}())?At:function(o){return st(o)&&he.call(o,"callee")&&!Ge.call(o,"callee")},vt=Array.isArray;function Ct(o){return o!=null&&Ft(o.length)&&!lt(o)}function Nt(o){return st(o)&&Ct(o)}var St=k||s;function lt(o){if(!Ye(o))return!1;var c=at(o);return c==d||c==f||c==y||c==g}function Ft(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=l}function Ye(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function st(o){return o!=null&&typeof o=="object"}function jt(o){if(!st(o)||at(o)!=I)return!1;var c=nt(o);if(c===null)return!0;var _=he.call(c,"constructor")&&c.constructor;return typeof _=="function"&&_ instanceof _&&Le.call(_)==tt}var Me=Ve?O(Ve):Ke;function Mt(o){return Pt(o,Tt(o))}function Tt(o){return Ct(o)?Ae(o,!0):Dt(o)}var hn=Ut(function(o,c,_){Rt(o,c,_)});function mn(o){return function(){return o}}function n(o){return o}function s(){return!1}e.exports=hn})(lodash_merge,lodash_merge.exports);lodash_merge.exports;function makeError(){return new DOMException("The request is not allowed","NotAllowedError")}async function copyClipboardApi(e){if(!navigator.clipboard)throw makeError();return navigator.clipboard.writeText(e)}async function copyExecCommand(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const r=window.getSelection(),a=window.document.createRange();r.removeAllRanges(),a.selectNode(t),r.addRange(a);let i=!1;try{i=window.document.execCommand("copy")}finally{r.removeAllRanges(),window.document.body.removeChild(t)}if(!i)throw makeError()}async function clipboardCopy(e){try{await copyClipboardApi(e)}catch(t){try{await copyExecCommand(e)}catch(r){throw r||t||makeError()}}}var useClipboard=(e=3e3)=>{const t=ref(!1);return{copied:t,copy:a=>{const i=unref(a);clipboardCopy(i).then(()=>{t.value=!0;const u=setTimeout(()=>{t.value=!1,clearTimeout(u)},e)})}}};function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var can_use_dom_default=canUseDom,animationEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",animation:"animationend"},transitionEventNames={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"};function supportEnd(e){const t=document.createElement("div");for(const r in e)if(e.hasOwnProperty(r)&&t.style[r]!==void 0)return{end:e[r]};return!1}can_use_dom_default()&&supportEnd(animationEndEventNames);can_use_dom_default()&&supportEnd(transitionEventNames);const getList=async(e,t)=>{const{message:r}=useGlobalConfig();let a=await useGet(e,t);if(typeof a=="string"){const m=/Infinity/g,b=a.replace(m,'"∞"');a=JSON.parse(b)}const{code:i,msg:u,data:l}=a;return i!==0?(r==null||r.warning(u,{keepAliveOnHover:!0}),!1):(u.length>0&&(r==null||r.success(u,{keepAliveOnHover:!0})),l)},{message:message$1}=useGlobalConfig(),downloadSpeedUrl="download/downloaders/speed",$getDownloadSpeedList=async(e=0)=>await getList(downloadSpeedUrl,{downloader_id:e}),$getDownloaderList=async()=>await getList("download/downloaders"),$getDownloader=async e=>await getList("download/downloader",e),$getTorrentList=async e=>await getList("download/downloaders/downloading",e),$getRepeatTorrentList=async e=>await getList("download/repeat_torrent",e),$getCategoryList=async e=>await getList("download/downloaders/categories",{downloader_id:e}),$removeBrush=async e=>{const{msg:t,code:r}=await useGet("download/brush_remove",{downloader_id:e});switch(r){case 0:return message$1==null||message$1.success(t),!0;default:return message$1==null||message$1.error(t),!1}},$controlTorrent=async e=>{const{msg:t,code:r}=await usePost("download/control",e);switch(r){case 0:return message$1==null||message$1.success(t),!0;default:return message$1==null||message$1.error(t),!1}},$addTorrent=async e=>{const{msg:t,code:r}=await usePost("download/add_torrent",e);switch(r){case 0:return message$1==null||message$1.success(t),!0;default:return message$1==null||message$1.error(t),!1}},$getTorrentProp=async e=>await getList("download/downloaders/torrent/props",e),$addDownloader=async e=>{const{msg:t,code:r}=await usePost("download/downloader",e);switch(r){case 0:return message$1==null||message$1.success(t),!0;default:return message$1==null||message$1.error(t),!1}},$editDownloader=async e=>{const{msg:t,code:r}=await usePut("download/downloader",e);switch(r){case 0:return message$1==null||message$1.success(t),!0;default:return message$1==null||message$1.error(t),!1}},$removeDownloader=async e=>{const{msg:t,code:r}=await useDelete("download/downloader",e);switch(r){case 0:return message$1==null||message$1.success(t),!0;default:return message$1==null||message$1.error(t),!1}},formatSize=e=>{const t=["","W","E"];let r=0;for(;e>=1e4&&r<t.length-1;)e/=1e4,r++;return`${e.toFixed(2)}${t[r]}`},numberFormat=e=>{if(!isFinite(e))return"∞";const t=parseFloat(`${e}`);return formatSize(t)},{message}=useGlobalConfig(),$mySiteList=async()=>await getList("mysite/mysite"),$torrentList=async e=>await getList("mysite/torrents",e),$siteInfoNewList=async()=>await getList("website/website/new"),$siteStatusNewestList=async()=>await getList("mysite/status/newest"),$siteList=async()=>await getList("website/website"),$getMySite=async e=>await getList("mysite/mysite/get",e),$removeMySite=async e=>{const{msg:t,code:r}=await useDelete("mysite/mysite",e);switch(r){case 0:return message==null||message.success(t),!0;default:return message==null||message.error(t),!1}},$editMySite=async e=>{const{msg:t,code:r}=await usePut("mysite/mysite",e);switch(r){case 0:return message==null||message.success(t),!0;default:return message==null||message.error(t),!1}},$saveMySite=async e=>{const{msg:t,code:r}=await usePost("mysite/mysite",e);switch(r){case 0:return message==null||message.success(t),!0;default:return message==null||message.error(t),!1}},$signSite=async e=>{const t=await usePost("mysite/signin",{site_id:e}),{code:r,msg:a}=t;switch(r){case 0:return message==null||message.success(a),!0;default:return message==null||message.error(a),!1}},$signAllSite=async()=>{const e=await usePost("mysite/sign/do"),{code:t,msg:r}=e;switch(t){case 0:return message==null||message.success(r),!0;default:return message==null||message.error(r),!1}},$getNewestStatus=async e=>{const t=await usePost("mysite/status/get",{site_id:e}),{code:r,msg:a,data:i}=t;switch(r){case 0:return a.length>0&&(message==null||message.success(a)),i;default:return message==null||message.error(a),!1}},$refreshSite=async e=>{let t=await usePost("mysite/status",{site_id:e});if(typeof t=="string"){const i=/Infinity/g,u=t.replace(i,'"∞"');t=JSON.parse(u)}const{code:r,msg:a}=t;switch(r){case 0:return message==null||message.success(a),!0;default:return message==null||message.error(a),!1}},$refreshAllSite=async()=>{const{msg:e,code:t,data:r}=await usePost("mysite/status/do");switch(t){case 0:return message==null||message.success(e),r;default:return message==null||message.error(e),!1}},$sortSite=async(e,t)=>{const{msg:r,code:a}=await usePost("mysite/sort",{site_id:e,sort_id:t});switch(a){case 0:return message==null||message.success(r),!0;default:return message==null||message.error(r),!1}},$getSignList=async e=>await getList("mysite/signin",e),$getHistoryList=async e=>await getList("mysite/status/chart",e),$parseSiteHistory=async siteHistoryList=>{const{uploaded_list,downloaded_list,diff_uploaded_list,diff_downloaded_list,bonus_list,score_list,ratio_list,seeding_size_list,seeding_list,leeching_list,invitation_list,bonus_hour_list,date_list}=siteHistoryList,option={tooltip:{show:!0,trigger:"axis",textStyle:{align:"left"},valueFormatter(e){return renderSize(Number(e))}},legend:{show:!0,top:"3%",left:"center"},grid:{left:"3%",right:"4%",bottom:"3%",top:"25%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!0,data:date_list},yAxis:[{type:"value",axisLabel:{formatter(e){return renderSize(Number(e))}}},{type:"value",axisLabel:{formatter(e,t){return t===0&&(e="0"),t===1&&(e="1"),t===2&&(e="3"),t===3&&(e="5"),t===4&&(e="30"),t===5&&(e="1000"),t===6&&(e="5000"),t===7&&(e="12000"),e}}}],series:[{name:"邀请",type:"line",yAxisIndex:1,smooth:!0,data:invitation_list,tooltip:{show:!0,trigger:"axis",valueFormatter(e){return e}}},{name:"正在做种",type:"line",yAxisIndex:1,data:seeding_list,smooth:!0,tooltip:{show:!0,trigger:"axis",valueFormatter(e){return e}}},{name:"正在下载",type:"line",yAxisIndex:1,smooth:!0,data:leeching_list,tooltip:{show:!0,trigger:"axis",valueFormatter(e){return e}}},{name:"保种量",type:"line",smooth:!0,yAxisIndex:0,data:seeding_size_list},{name:"下载量",type:"line",yAxisIndex:0,smooth:!0,data:downloaded_list},{name:"上传量",type:"line",yAxisIndex:0,smooth:!0,data:uploaded_list},{name:"上传增量",type:"bar",yAxisIndex:0,barMaxWidth:"60%",data:diff_uploaded_list},{name:"下载增量",type:"line",yAxisIndex:0,smooth:!0,barMaxWidth:"60%",data:diff_downloaded_list},{name:"分享率",type:"line",yAxisIndex:1,smooth:!0,tooltip:{show:!0,trigger:"axis",valueFormatter(e){return e}},data:ratio_list},{name:"时魔",type:"line",yAxisIndex:1,smooth:!0,data:bonus_hour_list,tooltip:{show:!0,trigger:"axis",valueFormatter(e){return e}}},{name:"魔力值",type:"line",yAxisIndex:1,smooth:!0,tooltip:{show:!0,trigger:"axis",valueFormatter(e){return numberFormat(e)}},data:bonus_list}]};return eval(score_list.join("+"))>0&&option.series.push({name:"积分",type:"line",yAxisIndex:1,smooth:!0,tooltip:{show:!0,trigger:"axis",valueFormatter(e){return numberFormat(e)}},data:score_list}),option},$todayDataList=async()=>await getList("mysite/status/today"),$searchTorrent=async e=>{const{msg:t,code:r,data:a}=await usePost("mysite/search",e);switch(r){case 0:return message==null||message.success(t),a;default:return message==null||message.error(t),!1}},$pushTorrent=async e=>{const{msg:t,code:r}=await useGet(`mysite/push_torrent?${e}`);switch(r){case 0:return message==null||message.success(t),!0;default:return message==null||message.error(t),!1}},timeFormat=e=>{const t={day:0,hour:0,minute:0,second:0};return e<1?"0秒":e>=60?(t.second=Math.floor(e%60),t.minute=Math.floor(e/60%60),e>=3600?(t.hour=Math.floor(e/3600%24),e>=86400?(t.day=Math.floor(e/86400),`${t.day}天${t.hour}小时`):`${t.hour}小时${t.minute}分`):`${t.minute}分${parseInt(t.second.toString())}秒`):`${parseInt(e.toString())}秒`},TimestampToBeijingTime=e=>e?new Date(e*1e3).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"}):"",_sfc_main$k=defineComponent({__name:"torrent",props:{torrent:{},downloader_id:{}},setup(e){const t=useDownloadStore(),{handleSelected:r,handleDeleteModal:a,handleRepeat:i}=t,{categories:u,deleteModal:l,trackerStatus:m,categoryFlag:b}=storeToRefs(t),{isMobile:y,isPad:v,isDesktop:x}=useQueryBreakPoints(),A=ref(3);return watchEffect(()=>{v.value?A.value=2:x.value&&(A.value=3),y.value&&(A.value=1)}),(d,f)=>{const $=__unplugin_components_0$6,V=__unplugin_components_9,D=__unplugin_components_0$7,I=__unplugin_components_1$3,g=__unplugin_components_4$1,M=__unplugin_components_5,P=__unplugin_components_0$2,F=__unplugin_components_3,ce=__unplugin_components_2$2,L=__unplugin_components_9$1,ye=__unplugin_components_1$4,we=__unplugin_components_11;return openBlock(),createBlock(we,null,{default:withCtx(()=>[createVNode($,{span:24}),createVNode(ye,{class:"w-100%"},{header:withCtx(()=>[createVNode(V,{class:"w-100% text-10px"},{default:withCtx(()=>[createTextVNode(toDisplayString(d.torrent.name),1)]),_:1})]),"header-extra":withCtx(()=>[]),description:withCtx(()=>[unref(b)?(openBlock(),createBlock(I,{key:0,justify:"center"},{default:withCtx(()=>[createVNode(D,{size:"tiny",type:"success",onClick:f[0]||(f[0]=S=>unref(r)("resume"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Play"})]),default:withCtx(()=>[createTextVNode(" 开始 ")]),_:1}),createVNode(D,{size:"tiny",type:"warning",onClick:f[1]||(f[1]=S=>unref(r)("pause"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Pause"})]),default:withCtx(()=>[createTextVNode(" 暂停 ")]),_:1}),createVNode(D,{size:"tiny",type:"success",secondary:"",onClick:f[2]||(f[2]=S=>unref(r)("set_auto_management"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Car"})]),default:withCtx(()=>[createTextVNode(" 自动 ")]),_:1}),createVNode(D,{size:"tiny",type:"warning",secondary:"",onClick:f[3]||(f[3]=S=>unref(r)("set_force_start"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"PlayForward"})]),default:withCtx(()=>[createTextVNode(" 强制 ")]),_:1}),createVNode(D,{size:"tiny",type:"info",onClick:f[4]||(f[4]=S=>unref(r)("recheck"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"CheckmarkDone"})]),default:withCtx(()=>[createTextVNode(" 校验 ")]),_:1}),createVNode(D,{size:"tiny",type:"info",secondary:"",onClick:f[5]||(f[5]=S=>unref(r)("reannounce"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Mic"})]),default:withCtx(()=>[createTextVNode(" 汇报 ")]),_:1}),createVNode(D,{size:"tiny",type:"primary",onClick:unref(i)},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Copy"})]),default:withCtx(()=>[createTextVNode(" 辅种 ")]),_:1},8,["onClick"]),createVNode(D,{size:"tiny",type:"error",onClick:f[6]||(f[6]=S=>unref(a)(!0))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Trash"})]),default:withCtx(()=>[createTextVNode(" 删除 ")]),_:1})]),_:1})):(openBlock(),createBlock(I,{key:1,justify:"center"},{default:withCtx(()=>[createVNode(D,{size:"tiny",type:"success",onClick:f[7]||(f[7]=S=>unref(r)("start_torrent"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Play"})]),default:withCtx(()=>[createTextVNode(" 开始 ")]),_:1}),createVNode(D,{size:"tiny",type:"warning",onClick:f[8]||(f[8]=S=>unref(r)("stop_torrent"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Pause"})]),default:withCtx(()=>[createTextVNode(" 停止 ")]),_:1}),createVNode(D,{size:"tiny",type:"info",onClick:f[9]||(f[9]=S=>unref(r)("verify_torrent"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"CheckmarkDone"})]),default:withCtx(()=>[createTextVNode(" 校验 ")]),_:1}),createVNode(D,{size:"tiny",type:"info",secondary:"",onClick:f[10]||(f[10]=S=>unref(r)("reannounce_torrent"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Mic"})]),default:withCtx(()=>[createTextVNode(" 汇报 ")]),_:1}),createVNode(D,{size:"tiny",type:"info",secondary:"",onClick:f[11]||(f[11]=S=>unref(r)("queue_top"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Mic"})]),default:withCtx(()=>[createTextVNode(" 队列顶部 ")]),_:1}),createVNode(D,{size:"tiny",type:"info",secondary:"",onClick:f[12]||(f[12]=S=>unref(r)("queue_bottom"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Mic"})]),default:withCtx(()=>[createTextVNode(" 队列底部 ")]),_:1}),createVNode(D,{size:"tiny",type:"info",secondary:"",onClick:f[13]||(f[13]=S=>unref(r)("queue_up"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Mic"})]),default:withCtx(()=>[createTextVNode(" 上移 ")]),_:1}),createTextVNode(),createVNode(D,{size:"tiny",type:"info",secondary:"",onClick:f[14]||(f[14]=S=>unref(r)("queue_down"))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Mic"})]),default:withCtx(()=>[createTextVNode(" 下移 ")]),_:1}),createVNode(D,{size:"tiny",type:"primary"},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Copy"})]),default:withCtx(()=>[createTextVNode(" 辅种 ")]),_:1}),createVNode(D,{size:"tiny",type:"error",onClick:f[15]||(f[15]=S=>unref(a)(!0))},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"Trash"})]),default:withCtx(()=>[createTextVNode(" 删除 ")]),_:1})]),_:1}))]),footer:withCtx(()=>[]),action:withCtx(()=>[]),default:withCtx(()=>[createBaseVNode("div",null,[unref(b)?(openBlock(),createBlock(L,{key:0},{default:withCtx(()=>[createVNode(ce,{type:"line",size:"small","justify-content":"center"},{default:withCtx(()=>[createVNode(P,{name:"信息"},{default:withCtx(()=>[createVNode(M,{"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",title:d.torrent.name,bordered:""},{default:withCtx(()=>[createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 总大小 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.total_size)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 区块 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${d.torrent.peers_total}x${unref(renderSize)(d.torrent.piece_size)}(已下载：${d.torrent.pieces_have})`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 创建 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.created_by),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 添加于 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.addition_date)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 完成于 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.completion_date)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 创建于 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.creation_date)),1)]),_:1}),d.torrent.category?(openBlock(),createBlock(g,{key:0},{label:withCtx(()=>[createTextVNode(" 分类 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.category),1)]),_:1})):createCommentVNode("",!0),d.torrent.tags?(openBlock(),createBlock(g,{key:1},{label:withCtx(()=>[createTextVNode(" 标签 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.tags),1)]),_:1})):createCommentVNode("",!0),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 保存路径 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.save_path),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" HASH ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"200px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d.torrent.hash),1)]),_:1})]),_:1}),d.torrent.comment?(openBlock(),createBlock(g,{key:2},{label:withCtx(()=>[createTextVNode(" 注释 ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"200px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d.torrent.comment),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1},8,["columns","title"]),createVNode(M,{"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",title:"传输",bordered:""},{default:withCtx(()=>[createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 活动时间 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.time_active?unref(timeFormat)(d.torrent.time_active):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 剩余时间 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(timeFormat)(d.torrent.amount_left/d.torrent.dl_speed)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 连接 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${d.torrent.nb_connections}(链接限制：${d.torrent.nb_connections_limit})`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已下载 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${unref(renderSize)(d.torrent.total_downloaded)}(会话：${unref(renderSize)(d.torrent.total_downloaded_session)})`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已上传 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${unref(renderSize)(d.torrent.total_uploaded)}(会话：${unref(renderSize)(d.torrent.total_uploaded_session)})`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 种子： ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${d.torrent.seeds}(${d.torrent.seeds_total})`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下载速度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${unref(renderSize)(d.torrent.dl_speed)}/s(平均：${unref(renderSize)(d.torrent.dl_speed_avg)}/s)`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 上传速度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${unref(renderSize)(d.torrent.up_speed)}/s(平均：${unref(renderSize)(d.torrent.up_speed_avg)}/s)`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 用户 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(`${d.torrent.num_leechs}(总计：${d.torrent.num_incomplete})`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已丢弃 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.total_wasted?unref(renderSize)(d.torrent.total_wasted):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 分享率 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.ratio?d.torrent.ratio.toFixed(2):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下次汇报 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.reannounce?unref(timeFormat)(d.torrent.reannounce):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 最后完整可见 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.last_seen?unref(TimestampToBeijingTime)(d.torrent.last_seen):0),1)]),_:1})]),_:1},8,["columns"])]),_:1}),createVNode(P,{name:"连接"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.torrent.trackers,(S,Y)=>(openBlock(),createBlock(M,{key:S.url,title:`Tracker${Y+1}`,"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",bordered:""},{default:withCtx(()=>[S.tier?(openBlock(),createBlock(g,{key:0},{label:withCtx(()=>[createTextVNode(" 层级 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.tier),1)]),_:2},1024)):createCommentVNode("",!0),S.url?(openBlock(),createBlock(g,{key:1},{label:withCtx(()=>[createTextVNode(" url ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"200px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(S.url),1)]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0),S.status?(openBlock(),createBlock(g,{key:2},{label:withCtx(()=>[createTextVNode(" 状态 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(m)[S.status]),1)]),_:2},1024)):createCommentVNode("",!0),S.num_peers?(openBlock(),createBlock(g,{key:3},{label:withCtx(()=>[createTextVNode(" 用户 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.num_peers),1)]),_:2},1024)):createCommentVNode("",!0),S.num_seeds?(openBlock(),createBlock(g,{key:4},{label:withCtx(()=>[createTextVNode(" 种子 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.num_seeds),1)]),_:2},1024)):createCommentVNode("",!0),S.num_leeches?(openBlock(),createBlock(g,{key:5},{label:withCtx(()=>[createTextVNode(" 下载 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.num_leeches),1)]),_:2},1024)):createCommentVNode("",!0),S.num_downloaded?(openBlock(),createBlock(g,{key:6},{label:withCtx(()=>[createTextVNode(" 吸血 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.num_downloaded),1)]),_:2},1024)):createCommentVNode("",!0),S.msg?(openBlock(),createBlock(g,{key:7},{label:withCtx(()=>[createTextVNode(" 消息 ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"200px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(S.msg),1)]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0)]),_:2},1032,["title","columns"]))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(d.torrent.peerList,(S,Y)=>(openBlock(),createBlock(M,{key:S.ip,title:`Peer${Y+1}`,"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",bordered:""},{default:withCtx(()=>[createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 国家/地区 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.country),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" IP ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.ip)+":"+toDisplayString(S.port),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 客户端 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.client),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 进度 ")]),default:withCtx(()=>[createVNode(F,{type:"line",percentage:Number((S.progress*100).toFixed(2)),height:20,"indicator-placement":"inside","border-radius":4,"fill-border-radius":0},null,8,["percentage"])]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下载速度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(S.dl_speed))+"/s ",1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 上传速度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(S.up_speed))+"/s ",1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已下载 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(S.downloaded)),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已上传 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(S.uploaded)),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 文件关联 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(numberFormat)(S.relevance)*100)+"% ",1)]),_:2},1024),S.files?(openBlock(),createBlock(g,{key:0},{label:withCtx(()=>[createTextVNode(" 文件 ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"120px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(S.files),1)]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0)]),_:2},1032,["title","columns"]))),128))]),_:1}),createVNode(P,{name:"文件","display-directive":"show:lazy"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.torrent.files,(S,Y)=>(openBlock(),createBlock(M,{key:S.ip,title:`Peer${Y+1}`,"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",bordered:""},{default:withCtx(()=>[createVNode(g,{span:"2"},{label:withCtx(()=>[createTextVNode(" 文件名 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.name),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" index ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.index),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 可用性 ")]),default:withCtx(()=>[createVNode(F,{type:"line",percentage:Number((S.availability*100).toFixed(2)),height:20,"indicator-placement":"inside","border-radius":4,"fill-border-radius":0},null,8,["percentage"])]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 优先级 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.priority),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 大小 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(S.size)),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 进度 ")]),default:withCtx(()=>[createVNode(F,{type:"line",percentage:Number((S.progress*100).toFixed(2)),height:20,"indicator-placement":"inside","border-radius":4,"fill-border-radius":0},null,8,["percentage"])]),_:2},1024)]),_:2},1032,["title","columns"]))),128))]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(L,{key:1},{default:withCtx(()=>[createVNode(ce,{type:"line",size:"small","justify-content":"center"},{default:withCtx(()=>[createVNode(P,{name:"信息"},{default:withCtx(()=>[createVNode(M,{"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",title:d.torrent.name,bordered:""},{default:withCtx(()=>[createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 总大小 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.totalSize)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" hash ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"150px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d.torrent.hash),1)]),_:1})]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 注释 ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"150px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d.torrent.comment),1)]),_:1})]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 最后活动 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.activityDate)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 添加时间 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.addedDate)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 带宽优先级 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.bandwidthPriority),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 丢弃 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.corruptEver>0?unref(renderSize)(d.torrent.corruptEver):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 创建者 ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"150px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d.torrent.creator),1)]),_:1})]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 创建日期 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.dateCreated)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 未下载 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.desiredAvailable>0?unref(renderSize)(d.torrent.desiredAvailable):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 完成时间 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.doneDate)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已下载 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.downloadedEver)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 修改日期 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.editDate)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 错误码 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.error),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 错误信息 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.errorString),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" eta Idle ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.etaIdle),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 未校验 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.haveUnchecked>0?unref(renderSize)(d.torrent.haveUnchecked):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已校验 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.haveValid)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 会话限制 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.honorsSessionLimits),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已完成 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.isFinished),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 私有 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.isPrivate),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 等待中 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.isStalled),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 标签 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.labels.length>0?d.torrent.labels:""),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 未下载 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.leftUntilDone>0?unref(renderSize)(d.torrent.leftUntilDone):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 磁力链接 ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"150px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d.torrent.magnetLink),1)]),_:1})]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 手动汇报 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.manualAnnounceTime>0?unref(timeFormat)(d.torrent.manualAnnounceTime):""),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 元数据 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.metadataPercentComplete*100)+"% ",1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 进度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.percentDone*100)+"% ",1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 块数量 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.pieceCount),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 块大小 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.pieceSize)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 队列 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.queuePosition),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下载速度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.rateDownload>0?unref(renderSize)(d.torrent.rateDownload):0),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 上传速度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.rateUpload>0?unref(renderSize)(d.torrent.rateUpload):0),1)]),_:1}),d.torrent.recheckProgress>0?(openBlock(),createBlock(g,{key:0},{label:withCtx(()=>[createTextVNode(" 校验进度 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.recheckProgress),1)]),_:1})):createCommentVNode("",!0),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下载耗时 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(timeFormat)(d.torrent.secondsDownloading)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 做种时间 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(timeFormat)(d.torrent.secondsSeeding)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 完成时大小 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.sizeWhenDone)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 开始时间 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(TimestampToBeijingTime)(d.torrent.startDate)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 状态 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.status),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 分享率 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.uploadRatio),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已上传 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.uploadedEver)),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" webseeds ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.webseeds),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" webseedsSendingToUs ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.webseedsSendingToUs),1)]),_:1})]),_:1},8,["columns","title"])]),_:1}),createVNode(P,{name:"peer"},{default:withCtx(()=>[createVNode(M,{"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",title:d.torrent.name,bordered:""},{default:withCtx(()=>[createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 最大连接数 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.maxConnectedPeers),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" peer-limit ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent["peer-limit"]),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已连接节点 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.peersConnected),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" peersGettingFromUs ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.peersGettingFromUs),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" peersSendingToUs ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.peersSendingToUs),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" peersFrom ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.peersFrom),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" peers ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.peers),1)]),_:1})]),_:1},8,["columns","title"])]),_:1}),createVNode(P,{name:"tracker"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.torrent.trackerStats,(S,Y)=>(openBlock(),createBlock(M,{key:S.url,title:`Tracker${Y+1}`,"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",bordered:""},{default:withCtx(()=>[createVNode(g,null,{label:withCtx(()=>[createTextVNode(" scrape ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.scrape),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" announce ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.announce),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" announceState ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.announceState),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" downloadCount ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.downloadCount),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" hasAnnounced ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.hasAnnounced),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" hasScraped ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.hasScraped),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" host ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.host),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" isBackup ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.isBackup),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastAnnouncePeerCount ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastAnnouncePeerCount),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastAnnounceResult ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastAnnounceResult),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastAnnounceStartTime ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastAnnounceStartTime),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastAnnounceSucceeded ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastAnnounceSucceeded),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastAnnounceTime ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastAnnounceTime),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastAnnounceTimedOut ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastAnnounceTimedOut),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastScrapeResult ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastScrapeResult),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastScrapeStartTime ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastScrapeStartTime),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastScrapeSucceeded ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastScrapeSucceeded),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastScrapeStartTime ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastScrapeStartTime),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastScrapeTime ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastScrapeTime),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" lastScrapeTimedOut ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.lastScrapeTimedOut),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" leecherCount ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.leecherCount),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" nextAnnounceTime ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.nextAnnounceTime),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" nextScrapeTime ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.nextScrapeTime),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" scrapeState ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.scrapeState),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" seederCount ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(S.seederCount),1)]),_:2},1024)]),_:2},1032,["title","columns"]))),128))]),_:1}),createVNode(P,{name:"files"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.torrent.files,(S,Y)=>(openBlock(),createBlock(M,{key:S.name,title:`File${Y+1}`,"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",bordered:""},{default:withCtx(()=>[createVNode(g,{span:"2"},{label:withCtx(()=>[createTextVNode(" 文件名 ")]),default:withCtx(()=>[createVNode(V,{style:{"max-width":"200px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(S.name),1)]),_:2},1024)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 大小 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(S.length)),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 已下载 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(S.bytesCompleted)),1)]),_:2},1024),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 进度 ")]),default:withCtx(()=>[createVNode(F,{type:"line",percentage:Number((S.bytesCompleted/S.length*100).toFixed(2)),height:20,"indicator-placement":"inside","border-radius":4,"fill-border-radius":0},null,8,["percentage"])]),_:2},1024)]),_:2},1032,["title","columns"]))),128))]),_:1}),createVNode(P,{name:"设置"},{default:withCtx(()=>[createVNode(M,{"label-placement":"left",size:"small",columns:unref(A),class:"text-8px!",title:d.torrent.name,bordered:""},{default:withCtx(()=>[createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下载限速 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(unref(renderSize)(d.torrent.downloadLimit))+"/s ",1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下载限速 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.downloadLimited),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 下载限制 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.dl_limit&&d.torrent.dl_limit<0?"":`${unref(renderSize)(d.torrent.dl_limit*1024)}/s`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 上传限制 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.up_limit&&d.torrent.up_limit<0?"":`${unref(renderSize)(d.torrent.up_limit)}/s`),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 种子空闲限制 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.seedIdleLimit),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" seedIdleMode ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.seedIdleMode),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" seedRatioLimit ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.seedRatioLimit),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" seedRatioMode ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.seedRatioMode),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 上传限制 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.uploadLimit*1024),1)]),_:1}),createVNode(g,null,{label:withCtx(()=>[createTextVNode(" 开启上传限制 ")]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(d.torrent.uploadLimited),1)]),_:1})]),_:1},8,["columns","title"])]),_:1})]),_:1})]),_:1}))])]),_:1})]),_:1})}}}),torrent_vue_vue_type_style_index_0_scoped_16d3459b_lang="",torrent=_export_sfc(_sfc_main$k,[["__scopeId","data-v-16d3459b"]]),_sfc_main$j=defineComponent({__name:"downloader-form",setup(e){const t=useDownloadStore(),{getDownloaderList:r,editDownloader:a,removeDownloader:i,saveDownloader:u}=t,{downloaderForm:l,refDownloaderForm:m,categorySelectList:b,addDownloaderFormRules:y}=storeToRefs(t);return(v,x)=>{const A=__unplugin_components_0$8,d=__unplugin_components_1$5,f=__unplugin_components_2$3,$=__unplugin_components_15,V=NSwitch,D=__unplugin_components_5$1,I=__unplugin_components_0$7,g=__unplugin_components_7,M=__unplugin_components_1$3;return openBlock(),createElementBlock(Fragment,null,[createVNode(D,{ref:unref(m),model:unref(l),rules:unref(y),class:"site-form","inline-message":"","label-placement":"left","status-icon":"",size:"small"},{default:withCtx(()=>[createVNode(d,{label:"类型",path:"category"},{default:withCtx(()=>[createVNode(A,{value:unref(l).category,"onUpdate:value":x[0]||(x[0]=P=>unref(l).category=P),placeholder:unref(l).id!==0?"":"请选择要添加的下载器",options:unref(b),filterable:""},null,8,["value","placeholder","options"])]),_:1}),createVNode(d,{label:"名称",path:"name"},{default:withCtx(()=>[createVNode(f,{value:unref(l).name,"onUpdate:value":x[1]||(x[1]=P=>unref(l).name=P),clearable:"",placeholder:"请为你的下载器命名","show-word-limit":""},null,8,["value"])]),_:1}),createVNode(d,{label:"协议",path:"http",required:""},{default:withCtx(()=>[createVNode(A,{value:unref(l).http,"onUpdate:value":x[2]||(x[2]=P=>unref(l).http=P),options:[{label:"http",value:"http"},{label:"https",value:"https"}],"default-value":"http",filterable:""},null,8,["value"])]),_:1}),createVNode(d,{label:"地址",path:"host",required:""},{default:withCtx(()=>[createVNode(f,{value:unref(l).host,"onUpdate:value":x[3]||(x[3]=P=>unref(l).host=P),clearable:"",placeholder:"下载器地址","show-word-limit":""},null,8,["value"])]),_:1}),createVNode(d,{label:"端口",path:"port",required:""},{default:withCtx(()=>[createVNode($,{value:unref(l).port,"onUpdate:value":x[4]||(x[4]=P=>unref(l).port=P),clearable:"",placeholder:"下载器端口","show-word-limit":""},null,8,["value"])]),_:1}),createVNode(d,{label:"账户",path:"username"},{default:withCtx(()=>[createVNode(f,{value:unref(l).username,"onUpdate:value":x[5]||(x[5]=P=>unref(l).username=P),clearable:"",placeholder:"下载器用户名","show-word-limit":""},null,8,["value"])]),_:1}),createVNode(d,{label:"密码",path:"password"},{default:withCtx(()=>[createVNode(f,{value:unref(l).password,"onUpdate:value":x[6]||(x[6]=P=>unref(l).password=P),type:"password",clearable:"",placeholder:"下载器密码","show-word-limit":"","show-password-on":"mousedown"},null,8,["value"])]),_:1}),createVNode(d,{label:"首页展示",path:"enable","label-placement":"left",required:"",inline:""},{default:withCtx(()=>[createVNode(V,{value:unref(l).enable,"onUpdate:value":x[7]||(x[7]=P=>unref(l).enable=P),round:!1},{checked:withCtx(()=>[createTextVNode(" 在首页和下载器管理中展示 ")]),unchecked:withCtx(()=>[createTextVNode(" 不展示 ")]),_:1},8,["value"])]),_:1}),createVNode(d,{label:"刷流专用",path:"brush","label-placement":"left",required:"",inline:""},{default:withCtx(()=>[createVNode(V,{value:unref(l).brush,"onUpdate:value":x[8]||(x[8]=P=>unref(l).brush=P),round:!1},{checked:withCtx(()=>[createTextVNode(" 刷流专用 ")]),unchecked:withCtx(()=>[createTextVNode(" 刷流专用才会触发删种规则 ")]),_:1},8,["value"])]),_:1}),createVNode(d,{label:"拆包刷流",path:"package_files","label-placement":"left",required:"",inline:""},{default:withCtx(()=>[createVNode(V,{value:unref(l).package_files,"onUpdate:value":x[9]||(x[9]=P=>unref(l).package_files=P),round:!1},{checked:withCtx(()=>[createTextVNode(" 种子过大时拆包下载 ")]),unchecked:withCtx(()=>[createTextVNode(" 不拆包下载 ")]),_:1},8,["value"])]),_:1}),createVNode(d,{label:"删除单种",path:"delete_one_file","label-placement":"left",required:"",inline:""},{default:withCtx(()=>[createVNode(V,{value:unref(l).delete_one_file,"onUpdate:value":x[10]||(x[10]=P=>unref(l).delete_one_file=P),round:!1},{checked:withCtx(()=>[createTextVNode(" 拆包下载时删除单种 ")]),unchecked:withCtx(()=>[createTextVNode(" 拆包下载时不删除单种 ")]),_:1},8,["value"])]),_:1}),createVNode(d,{label:"限制数量",path:"count_torrents","label-placement":"left",required:""},{default:withCtx(()=>[createVNode($,{value:unref(l).count_torrents,"onUpdate:value":x[11]||(x[11]=P=>unref(l).count_torrents=P),clearable:"",placeholder:"限制下载器正在运行的种子数量，达到此数字则不再添加任务","show-word-limit":"",min:1,step:1},null,8,["value"])]),_:1}),createVNode(d,{label:"拆包大小",path:"package_size","label-placement":"left",required:""},{default:withCtx(()=>[createVNode($,{value:unref(l).package_size,"onUpdate:value":x[12]||(x[12]=P=>unref(l).package_size=P),clearable:"",placeholder:"多大的包才拆？单位：GB","show-word-limit":"",min:"1",step:1},null,8,["value"])]),_:1}),createVNode(d,{label:"拆包比例",path:"package_percent","label-placement":"left",required:""},{default:withCtx(()=>[createVNode($,{value:unref(l).package_percent,"onUpdate:value":x[13]||(x[13]=P=>unref(l).package_percent=P),clearable:"",placeholder:"拆包百分比，填写0-1之间的小数","show-word-limit":"",precision:2,min:.1,max:.99,step:.01},null,8,["value"])]),_:1}),createVNode(d,{label:"预留空间",path:"reserved_space","label-placement":"left",required:""},{default:withCtx(()=>[createVNode($,{value:unref(l).reserved_space,"onUpdate:value":x[14]||(x[14]=P=>unref(l).reserved_space=P),clearable:"",placeholder:"磁盘预留空间","show-word-limit":"",min:1,step:1},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),createVNode(M,{justify:"center"},{default:withCtx(()=>[unref(l).id!==0?(openBlock(),createBlock(g,{key:0,onPositiveClick:x[15]||(x[15]=P=>unref(i)(unref(l).id))},{trigger:withCtx(()=>[createVNode(I,{type:"error"},{default:withCtx(()=>[createTextVNode(" 删 除 ")]),_:1})]),default:withCtx(()=>[createTextVNode(" 确定删除此下载器吗？ ")]),_:1})):createCommentVNode("",!0),createVNode(I,{type:"primary",onClick:unref(u)},{default:withCtx(()=>[createTextVNode(" 保存 ")]),_:1},8,["onClick"])]),_:1})],64)}}}),useDownloadStore=defineStore("download",()=>{const{dialog:e,message:t}=useGlobalConfig(),r=ref([]),a=ref([]),i=ref(),u=ref(!1),l=ref({id:0,name:"",category:"Tr"}),{copy:m}=useClipboard(),b=ref([]),y=ref(!1),v=ref(!1),x=ref([]),A=ref([]),d=ref(null),f=ref(!1),$=ref(),V=ref(!1),D={uploading:"正在上传",downloading:"正在下载",pausedUP:"完成上传",pausedDL:"暂停下载",checkingUP:"正在校验",forcedDL:"强制下载",stalledUP:"正在做种",stalledDL:"等待下载",missingFiles:"文件丢失",forcedUP:"强制做种",moving:"正在移动",queuedDL:"下载队列中",queuedUP:"上传队列中",error:"错误",unknown:"未知",allocating:"分配",metaDL:"下载元数据",checkingDL:"下载校验中",checkingResumeData:"校验恢复数据",forcedMetaDL:"强制下载元数据"},I=["停止","等待校验","校验中","等待下载","下载中","等待做种","做种中"],g=ref(["已禁用","未联系","工作中","更新中","出错啦"]),M=ref([]),P=ref(),F=ref([{label:"分类/路径",value:"无"}]),ce=ref([]),L=ref(""),ye=ref([{label:"清除分类",key:"clearCategory"},{label:"移除未使用",key:"removeCategories"}]),we=async()=>{M.value=await $siteList(),M.value.forEach(p=>{ce.value.push({label:p.name,value:p.tracker})})},S=p=>{r.value=p},Y=async(p,C)=>await $getTorrentProp({downloader_id:p,torrent_hash:C}),{isMobile:xe}=useQueryBreakPoints(),X=ref({pageSize:xe.value?20:25,size:"small",showQuickJumper:!0,itemCount:x.value.length,showSizePicker:!0,pageSizes:[10,20,25,30,40],pageSlot:5,simple:xe.value}),W=async()=>{a.value=await $getDownloaderList()},ie=async p=>{await $pushTorrent(p)},ee=reactive({name:"总速度",connection_status:!1,dl_info_data:0,dl_info_speed:0,up_info_data:0,up_info_speed:0,category:"none"}),Q={id:0,name:"",username:"",password:"",http:"http",host:"",port:8999,category:"Qb",enable:!0,brush:!1,package_files:!1,delete_one_file:!1,count_torrents:30,package_size:30,package_percent:.3,reserved_space:30},te=ref({...Q}),G=ref([{label:"qBittorrent",value:"Qb"},{label:"Transmission",value:"Tr"}]),Pe=ref(),He=reactive({urls:[{required:!0,message:"链接必填",trigger:"blur"}]}),H=reactive({category:[{required:!0,message:"请选择要添加的下载器",trigger:"change"}],name:[{required:!0,message:"请为你的下载器命名",trigger:"blur"}],username:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}],host:[{required:!0,message:"请填写下载器地址",trigger:"blur"}],port:[{required:!0,message:"请填写下载器端口",trigger:"blur"}],reserved_space:[{required:!0,message:"请填写预留空间",trigger:"blur"}]}),fe=()=>{ee.dl_info_data=0,ee.dl_info_speed=0,ee.up_info_data=0,ee.up_info_speed=0,r.value.forEach(p=>{ee.dl_info_data+=p.dl_info_data,ee.dl_info_speed+=p.dl_info_speed,ee.up_info_speed+=p.up_info_speed,ee.up_info_data+=p.up_info_data})},K=async p=>{var C;p!==0&&(te.value=await $getDownloader({downloader_id:p})),e==null||e.info({title:p===0?"添加下载器":`编辑下载器：${(C=te.value)==null?void 0:C.name}`,content:()=>h(_sfc_main$j),closable:!0})},ve=async()=>{var C,R;await((C=Pe.value)==null?void 0:C.validate()),(((R=te.value)==null?void 0:R.id)===0?await $addDownloader(te.value):await $editDownloader(te.value))&&(e==null||e.destroyAll(),te.value={...Q},await W())},We=async p=>{await $removeDownloader({downloader_id:p})&&(e==null||e.destroyAll(),await W())},ne=async()=>{r.value=await $getDownloadSpeedList(0),fe()},pe=()=>{clearInterval(i.value),i.value=null},Ce=async(p,C=!1,R="")=>await $getTorrentList({downloader_id:p,prop:C,torrent_hashes:R}),De=ref([]),Ve=async(p="")=>{De.value=await $getRepeatTorrentList({torrent_hashes:p})},qe=async(p,C)=>await $addTorrent({downloader_id:p,new_torrent:C}),Ee=ref(5),O=ref(10),be=p=>{Ee.value=p},Fe=p=>{O.value=p},ct=async()=>{pe(),i.value=setInterval(async()=>{r.value=await $getDownloadSpeedList(0),fe()},Ee.value*1e3),setTimeout(()=>{pe()},O.value*1e3*60)},et=async()=>{clearInterval(i.value),i.value=null},ke=async p=>{$.value=await $getDownloadSpeedList(p)},Be=ref(""),Le=async()=>{if(Be.value.length<=0)A.value=x.value;else{const p=Be.value.trim().toLowerCase();A.value=x.value.filter(C=>C.name.toLowerCase().includes(p)||C.category&&C.category.toLowerCase().includes(p)||C.downloadDir&&C.downloadDir.toLowerCase().includes(p)||C.host&&C.host.toLowerCase().includes(p))}},he=async()=>{i.value=setInterval(async()=>{await ke(l.value.id);const p=d.value.paginatedData.map(R=>R.key);(await Ce(l.value.id,!0,p.join("|"))).forEach(R=>{if(V.value){const J=x.value.findIndex(Re=>Re.hash===R.hash);x.value.splice(J,1,R)}else{const J=x.value.findIndex(Re=>Re.id===R.id);x.value.splice(J,1,R)}}),await Le()},2500),setTimeout(async()=>{await et()},O.value*1e3*60)},Ne=async p=>{P.value=await $getCategoryList(p)},ze=async()=>{await Ve(b.value.join("|"))},tt=p=>{b.value=p},Ue=async p=>{tt([p]);const C=await Y(l.value.id,p);e==null||e.info({title:"种子详情",content:()=>h(torrent,{torrent:C,downloader_id:l.value.id}),style:{width:"100%",height:"80%"},closable:!0})},me=ref(),Oe=async(p,C)=>{let R="";C==="hash"?R=p.join(`
`):R=x.value.filter(Re=>p.includes(Re.hash)).map(Re=>Re[C]).join(`
`),await m(R)},oe=async(p,C="",R=!1,J=!0)=>{var gt;!V.value&&C.length>0&&(C=((gt=P.value)==null?void 0:gt.find(ut=>ut.name===C)).savePath);const Re={ids:b.value,command:p,enable:J,category:C,delete_files:R,downloader_id:l.value.id};y.value=!1;const _t=await $controlTorrent(Re);return _t&&await Ce(l.value.id),_t},Ie=ref(!1),nt=()=>{Ie.value=!1},rt=p=>{me.value=p},Ge=p=>{y.value=p},ot=p=>{Ie.value=p},w=async p=>{var C,R,J;switch(b.value.length<=0&&b.value.push(me.value.hash),p){case"prop":await Ue(me.value.hash);break;case"copy":case"name":await Oe(b.value,"name");break;case"hash":await Oe(b.value,"hash");break;case"magnet_uri":await Oe(b.value,"magnet_uri");break;case"resume":case"set_force_start":case"pause":case"set_auto_management":case"recheck":case"reannounce":await oe(p);break;case"repeat":await ze();break;case"set_super_seeding":await oe(p,"",!1,!((C=me.value)!=null&&C.super_seeding)||!1);break;case"deleteForm":Ge(!0);break;case"clearSort":(R=d.value)==null||R.clearSorter();break;case"clearFilter":(J=d.value)==null||J.clearFilters();break;case"clearChecked":b.value.length=0;break;case"clearCategory":await oe("set_category","");break;case"removeCategories":t==null||t.warning("正在开发哦！");break;case"setAllCheckboxRow":t==null||t.warning("正在开发哦！");break;case"filterSelect":t==null||t.warning("正在开发哦！");break;default:if(p.startsWith("setCategory")){await oe("set_category",p.replace("setCategory?",""));break}await oe(p)}Ie.value=!1},T=ref([{label:"详情",key:"prop",icon:()=>h(_sfc_main$s,{icon:"Information"})},{label:"继续",key:"resume",icon:()=>h(_sfc_main$s,{icon:"Play"})},{label:"强制继续",key:"set_force_start",icon:()=>h(_sfc_main$s,{icon:"PlayForward"})},{label:"暂停",key:"pause",icon:()=>h(_sfc_main$s,{icon:"Pause"})},{label:"辅种",key:"repeat",icon:()=>h(_sfc_main$s,{icon:"Copy"})},{type:"divider",key:"d1"},{label:"删除",key:"deleteForm",icon:()=>h(_sfc_main$s,{icon:"Trash"})},{label:"分类",key:"categoryForm",icon:()=>h(_sfc_main$s,{icon:"Document"}),children:ye.value},{label:"自动管理",key:"set_auto_management",icon:()=>h(_sfc_main$s,{icon:"Car"})},{label:"超级做种",key:"set_super_seeding",icon:()=>h(_sfc_main$s,{icon:"Flash"})},{type:"divider",key:"d2"},{label:"重新校验",key:"recheck",icon:()=>h(_sfc_main$s,{icon:"CheckmarkDoneCircle"})},{label:"重新汇报",key:"reannounce",icon:()=>h(_sfc_main$s,{icon:"Mic"})},{type:"divider",key:"d3"},{label:"清除",key:"clear",icon:()=>h(_sfc_main$s,{icon:"CalendarClear"}),children:[{label:"清除排序",key:"clearSort",icon:()=>h(_sfc_main$s,{icon:"SwapVertical"})},{label:"清除筛选",key:"clearFilter",icon:()=>h(_sfc_main$s,{icon:"Filter"})},{label:"清除选中",key:"clearChecked",icon:()=>h(_sfc_main$s,{icon:"Checkbox"})}]},{label:"复制",key:"copy",icon:()=>h(_sfc_main$s,{icon:"Copy"}),children:[{label:"名称",key:"name",icon:()=>h(_sfc_main$s,{icon:"Duplicate"})},{label:"HASH",key:"hash",icon:()=>h(_sfc_main$s,{icon:"DuplicateOutline"})},{label:"链接",key:"magnet_uri",icon:()=>h(_sfc_main$s,{icon:"Magnet"})}]}]),k=ref([{label:"详情",key:"prop",icon:()=>h(_sfc_main$s,{icon:"Information"})},{label:"开始",key:"start_torrent",icon:()=>h(_sfc_main$s,{icon:"Play"})},{label:"全部开始",key:"start_all",icon:()=>h(_sfc_main$s,{icon:"PlayForward"})},{label:"停止",key:"stop_torrent",icon:()=>h(_sfc_main$s,{icon:"Pause"})},{type:"divider",key:"d1"},{label:"删除",key:"deleteForm",icon:()=>h(_sfc_main$s,{icon:"Trash"})},{label:"路径",key:"categoryForm",icon:()=>h(_sfc_main$s,{icon:"Document"}),children:ye.value},{type:"divider",key:"d2"},{label:"校验",key:"verify_torrent",icon:()=>h(_sfc_main$s,{icon:"CheckmarkDoneCircle"})},{label:"汇报",key:"reannounce_torrent",icon:()=>h(_sfc_main$s,{icon:"Mic"})},{type:"divider",key:"d4"},{label:"队列顶部",key:"queue_top",icon:()=>h(_sfc_main$s,{icon:"Mic"})},{label:"队列底部",key:"queue_bottom",icon:()=>h(_sfc_main$s,{icon:"Mic"})},{label:"队列向上",key:"queue_up",icon:()=>h(_sfc_main$s,{icon:"Mic"})},{label:"队列向下",key:"queue_down",icon:()=>h(_sfc_main$s,{icon:"Mic"})},{type:"divider",key:"d3"},{label:"清除",key:"clear",icon:()=>h(_sfc_main$s,{icon:"CalendarClear"}),children:[{label:"清除排序",key:"clearSort",icon:()=>h(_sfc_main$s,{icon:"SwapVertical"})},{label:"清除筛选",key:"clearFilter",icon:()=>h(_sfc_main$s,{icon:"Filter"})},{label:"清除选中",key:"clearChecked",icon:()=>h(_sfc_main$s,{icon:"Checkbox"})}]},{label:"复制",key:"copy",icon:()=>h(_sfc_main$s,{icon:"Copy"}),children:[{label:"名称",key:"name",icon:()=>h(_sfc_main$s,{icon:"Duplicate"})},{label:"HASH",key:"hash",icon:()=>h(_sfc_main$s,{icon:"DuplicateOutline"})},{label:"链接",key:"magnet_uri",icon:()=>h(_sfc_main$s,{icon:"Magnet"})}]}]),U=async p=>{l.value=await $getDownloader({downloader_id:p}),V.value=l.value.category==="Qb"},Se=async p=>{var C;isNaN(p)||await U(p),await et(),f.value=!0,d.value.clearSorter(),d.value.clearFilters(),b.value.length=0,F.value.length=1,x.value.length=0,ye.value.length=V.value?2:0,await we(),await Ne(l.value.id),await ke(l.value.id),x.value=await Ce(l.value.id),(C=P.value)==null||C.forEach(R=>{F.value.push({label:R.name,value:V?R.name:R.savePath}),ye.value.push({label:R.name,key:`setCategory?${R.name}`})}),await Le(),f.value=!1,await he()},$e=async()=>{y.value=!1,await oe("delete","",v.value)},_e=ref([{type:"selection",fixed:"left"},{title:"#",key:"index",fixed:"left",width:35,render(p,C){return`${C+1}`}},{title:"名称",key:"name",fixed:"left",minWidth:120,width:150,maxWidth:300,resizable:!0,sorter:"default",ellipsis:{tooltip:!0}},{title:"分类",key:"category",minWidth:150,width:150,maxWidth:200,sorter:"default",resizable:!0,filter(p,C){return!!~C.category.indexOf(p.toString())},filterOptions:F.value,render:p=>{if(p.category)return h(NTag,{type:"info",size:"small",bordered:!1},{default:()=>p.category})}},{title:"大小",key:"size",minWidth:80,width:80,maxWidth:150,resizable:!0,sorter:"default",render(p){return h(NTag,{type:"info",size:"small"},{default:()=>renderSize(p.size)})}},{title:"host",key:"host",width:100,sorter:"default",filter(p,C){return!!~p.toString().indexOf(C.host)},filterOptions:ce.value,render(p){const C=M.value.find(R=>R.tracker.includes(p.host));return h(NTag,{type:"info",size:"small"},{default:()=>C?C.name:p.host})}},{title:"tracker",key:"status",width:80,sorter:(p,C)=>p.trackers&&C.trackers?p.trackers[0].status-C.trackers[0].status:-1,filter(p,C){return(C.trackers&&C.trackers[0]?C.trackers[0].status:3)===p},filterOptions:g.value.map((p,C)=>({label:p,value:C})),render(p){const C=p.trackers,R=C?C[0].status:3;return R===4?h(__unplugin_components_5$2,{trigger:"hover"},{trigger:()=>h(NTag,{type:"error",size:"small"},{default:()=>g.value[C[0].status]}),default:()=>C[0].msg}):h(NTag,{type:(()=>R===2?"success":"warning")(),size:"small"},{default:()=>g.value[R]})}},{filter(p,C){return!!~C.state.indexOf(p.toString())},filterOptions:Object.entries(D).map(([p,C])=>({value:p,label:C})),key:"state",maxWidth:150,minWidth:80,render(p){return h(NTag,{type:(()=>{const C=p.state;return["error","missingFiles","unknown","metaDL","forcedMetaDL",""].includes(C)?"error":["queuedUP","queuedDL","forcedDL","stalledUP","uploading","downloading","checkingUP"].includes(C)?"success":"warning"})(),size:"small"},{default:()=>D[p.state]})},resizable:!0,sorter:"default",title:"状态",width:80},{title:"进度",key:"progress",minWidth:80,width:88,maxWidth:120,resizable:!0,sorter:(p,C)=>p.progress-C.progress,render(p){return h(__unplugin_components_3,{type:"line","indicator-placement":"inside",percentage:Number((p.progress*100).toFixed(2)),height:20,borderRadius:4,"fill-border-radius":0})}},{title:"下载速度",key:"dlspeed",minWidth:80,maxWidth:150,width:100,resizable:!0,sorter:(p,C)=>p.dlspeed-C.dlspeed,render(p){return`${renderSize(p.dlspeed)}/s`}},{title:"已下载",key:"completed",minWidth:80,maxWidth:150,width:80,resizable:!0,sorter:(p,C)=>p.completed-C.completed,render(p){return renderSize(p.completed)}},{title:"上传速度",key:"upspeed",minWidth:80,maxWidth:150,width:100,resizable:!0,sorter:(p,C)=>p.upspeed-C.upspeed,render(p){return`${renderSize(p.upspeed)}/s`}},{title:"已上传",key:"uploaded",minWidth:80,maxWidth:150,width:80,resizable:!0,sorter:(p,C)=>p.uploaded-C.uploaded,render(p){return renderSize(p.uploaded)}},{title:"分享率",key:"ratio",width:75,minWidth:75,maxWidth:100,resizable:!0,sorter:(p,C)=>p.ratio-C.ratio,render(p){return numberFormat(p.ratio)}},{title:"总大小",key:"total_size",sorter:(p,C)=>p.total_size-C.total_size,minWidth:80,maxWidth:150,width:80,resizable:!0,render(p){return renderSize(p.uploaded)}},{title:"种子",key:"num_complete",sorter:(p,C)=>p.num_complete-C.num_complete,width:85,minWidth:85,maxWidth:150,resizable:!0,render(p){return`${p.num_complete}(${p.num_seeds})`}},{title:"未完成",key:"num_incomplete",sorter:(p,C)=>p.num_incomplete-C.num_incomplete,width:65,minWidth:65,maxWidth:100,resizable:!0},{title:"下载中",key:"num_leechs",sorter:(p,C)=>p.num_leechs-C.num_leechs,width:65,minWidth:65,maxWidth:100,resizable:!0},{title:"最后活动",key:"last_activity",width:100,minWidth:100,maxWidth:250,resizable:!0,render(p){return timeFormat(new Date().getTime()/1e3-p.last_activity)}},{title:"完成于",key:"completion_on",width:150,minWidth:100,maxWidth:300,resizable:!0,sorter:"default",render(p){return TimestampToBeijingTime(p.completion_on)}},{title:"添加时间",key:"added_on",width:150,minWidth:100,maxWidth:300,resizable:!0,sorter:"default",render(p){return TimestampToBeijingTime(p.added_on)}}]),Te=ref([{type:"selection",fixed:"left"},{title:"#",key:"id",fixed:"left",width:35},{title:"名称",key:"name",fixed:"left",minWidth:120,width:150,maxWidth:300,resizable:!0,sorter:"default",ellipsis:{tooltip:!0}},{title:"分类",key:"downloadDir",minWidth:150,width:150,maxWidth:200,sorter:"default",resizable:!0,filter(p,C){return!!~C.downloadDir.indexOf(p.toString())},filterOptions:F.value,render:p=>{if(p.downloadDir)return h(NTag,{type:"info",size:"small",bordered:!1},{default:()=>{var J;const R=((J=p.downloadDir)!=null&&J.endsWith("/")?p.downloadDir.slice(0,-1):p.downloadDir).split("/");return R[R.length-1]}})}},{title:"队列",key:"queuePosition",fixed:"left",width:35},{title:"状态",key:"status",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,filter(p,C){return(C.trackers&&C.trackers[0]?C.trackers[0].status:3)===p},filterOptions:I.map((p,C)=>({label:p,value:C})),render(p){return h(NTag,{type:"info",size:"small"},{default:()=>I[p.status]})}},{title:"host",key:"host",width:100,sorter:"default",filter(p,C){return!!~p.toString().indexOf(C.host)},filterOptions:ce.value,render(p){const C=M.value.find(R=>R.tracker.includes(p.host));return C?h(NTag,{type:"info",size:"small"},{default:()=>C.name}):""}},{title:"大小",key:"totalSize",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,render(p){return h(NTag,{type:"info",size:"small"},{default:()=>renderSize(p.totalSize)})}},{title:"进度",key:"percentDone",minWidth:80,width:88,maxWidth:120,resizable:!0,sorter:(p,C)=>p.recheckProgress?p.recheckProgress-C.recheckProgress:p.percentDone-C.percentDone,render(p){return h(__unplugin_components_3,{type:"line","indicator-placement":"inside",percentage:p.recheckProgress?Number((p.recheckProgress*100).toFixed(2)):Number((p.percentDone*100).toFixed(2)),height:20,borderRadius:4,"fill-border-radius":0})}},{title:"分享率",key:"uploadRatio",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,render(p){return h(NTag,{type:"info",size:"small"},{default:()=>p.uploadRatio})}},{title:"下载速度",key:"rateDownload",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,render(p){return h(NTag,{type:"info",size:"small"},{default:()=>`${renderSize(p.rateDownload)}/s`})}},{title:"上传速度",key:"rateUpload",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,render(p){return h(NTag,{type:"info",size:"small"},{default:()=>`${renderSize(p.rateUpload)}/s`})}},{title:"剩余时间",key:"eta",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,render(p){return p.eta>0?timeFormat(p.eta):""}},{title:"已上传",key:"uploadedEver",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,render(p){return h(NTag,{type:"info",size:"small"},{default:()=>renderSize(p.uploadedEver)})}},{title:"已下载",key:"downloadedEver",sorter:"default",width:100,minWidth:100,maxWidth:150,resizable:!0,render(p){return h(NTag,{type:"info",size:"small"},{default:()=>renderSize(p.downloadedEver)})}},{title:"创建时间",key:"addedDate",sorter:"default",width:150,minWidth:100,maxWidth:250,resizable:!0,render(p){return TimestampToBeijingTime(p.addedDate)}},{title:"完成时间",key:"doneDate",sorter:"default",width:150,minWidth:100,maxWidth:250,resizable:!0,render(p){return TimestampToBeijingTime(p.doneDate)}},{title:"完成时间",key:"activityDate",sorter:"default",width:150,minWidth:100,maxWidth:250,resizable:!0,render(p){return TimestampToBeijingTime(p.activityDate)}},{title:"上传速率限制",key:"uploadLimit",sorter:"default",width:150,minWidth:150,maxWidth:200,resizable:!0},{title:"下载速率限制",key:"downloadLimit",sorter:"default",width:150,minWidth:150,maxWidth:200,resizable:!0}]),ue=ref([{title:"名称",key:"name",minWidth:100,width:150,fixed:"left"},{title:"地址",key:"host",minWidth:100,width:100,align:"center",render(p){const C=`${p.http}://${p.host}:${p.port}`;return h(__unplugin_components_0$7,{tag:"a",href:C,target:"_blank",secondary:!0,type:"primary",size:"small"},{default:()=>"访问"})}},{title:"类型",key:"category",align:"center",minWidth:60,width:100},{title:"展示",key:"enable",minWidth:80,width:100,align:"center",render(p){return h(NSwitch,{size:"small",round:!1,"checked-value":!0,"unchecked-value":!1,value:p.enable,"onUpdate:value":async C=>{const R=await $getDownloader({downloader_id:p.id});R.enable=C,await $editDownloader(R)&&await W()}},{checked:()=>"展示",unchecked:()=>"关闭","checked-icon":()=>"✅","unchecked-icon":()=>h(_sfc_main$s,{icon:"CloseSharp",color:"red",size:16})})}},{title:"刷流专用",key:"brush",minWidth:80,width:100,align:"center",render(p){return h(NSwitch,{size:"small",round:!1,"checked-value":!0,"unchecked-value":!1,value:p.brush,"onUpdate:value":async C=>{const R=await $getDownloader({downloader_id:p.id});R.brush=C,await $editDownloader(R)&&await W()}},{checked:()=>"开启",unchecked:()=>"关闭","checked-icon":()=>"✅","unchecked-icon":()=>h(_sfc_main$s,{icon:"CloseSharp",color:"red",size:16})})}},{title:"拆包下载",key:"package_files",minWidth:80,width:100,align:"center",render(p){return h(NSwitch,{size:"small",round:!1,"checked-value":!0,"unchecked-value":!1,value:p.package_files,"onUpdate:value":async C=>{const R=await $getDownloader({downloader_id:p.id});R.package_files=C,await $editDownloader(R)&&await W()}},{checked:()=>"开启",unchecked:()=>"关闭","checked-icon":()=>"✅","unchecked-icon":()=>h(_sfc_main$s,{icon:"CloseSharp",color:"red",size:16})})}},{title:"删除单种",key:"delete_one_file",minWidth:80,width:100,align:"center",render(p){return h(NSwitch,{size:"small",round:!1,"checked-value":!0,"unchecked-value":!1,value:p.delete_one_file,"onUpdate:value":async C=>{const R=await $getDownloader({downloader_id:p.id});R.delete_one_file=C,await $editDownloader(R)&&await W()}},{checked:()=>"开启",unchecked:()=>"关闭","checked-icon":()=>"✅","unchecked-icon":()=>h(_sfc_main$s,{icon:"CloseSharp",color:"red",size:16})})}},{key:"actions",title:"操作",minWidth:80,width:100,align:"center",render(p){return h(__unplugin_components_0$7,{size:"small",onClick:()=>K(p.id)},{default:()=>"编辑"})}}]);return{addDownloaderFormRules:H,addTorrent:qe,addTorrentRules:He,categories:F,categoryFlag:V,categorySelectList:G,checkedRowKeys:b,clearSpeedListTimer:pe,clearTimer:et,columns:ue,currentCategory:L,currentRow:me,defaultDownloader:l,deleteFiles:v,deleteModal:y,downloadLoading:f,downloaderForm:te,downloaderList:a,downloaderSpeed:$,downloadingFlag:u,downloadingTableRef:d,editDownloader:K,getDownloaderList:W,getDownloading:Ce,getRepeatTorrentList:Ve,getSpeedList:ne,getSpeedListTimer:ct,getSpeedTotal:fe,getTorrentProp:Y,handleCheckRows:tt,handleDefaultDownloader:U,handleDelete:$e,handleDeleteModal:Ge,handleDownloadLoading:p=>{f.value=p},handleRepeat:ze,handleSelect:w,handleSelected:oe,handleCurrentRow:rt,handleShowDropdown:ot,handleUpdateDownloading:Se,interval:Ee,onClickOutside:nt,openTorrentInfo:Ue,pushTorrent:ie,qBitTorrentColumns:_e,qbHandleOptions:T,refDownloaderForm:Pe,removeBrush:async()=>{await $removeBrush(l.value.id)&&await Se(l.value.id)},removeDownloader:We,repeatTorrentList:De,saveDownloader:ve,searchKey:Be,searchTorrent:Le,setDownloadSpeedList:S,setIntervalValue:be,setTimeoutValue:Fe,showDropdown:Ie,showTorrentList:A,speedList:r,speedTotal:ee,startFresh:he,timeout:O,timer:i,torrentList:x,torrentPagination:X,trHandleOptions:k,trackerStatus:g,transmissionColumns:Te}}),_sfc_main$i=defineComponent({__name:"MySiteForm",setup(e){const t=useWebsiteStore(),{refMySiteForm:r,mySiteForm:a,siteInfoList:i,addMySiteFormRules:u}=storeToRefs(t),{saveMySite:l,removeMySite:m}=t,b=useDownloadStore(),{downloaderList:y}=storeToRefs(b),{getDownloaderList:v}=b,x=ref(!1),A=async()=>{x.value=!0;try{await l()}catch(d){console.error(d)}x.value=!1};return onMounted(async()=>{await v()}),(d,f)=>{const $=__unplugin_components_0$8,V=__unplugin_components_1$5,D=__unplugin_components_2$3,I=NSwitch,g=__unplugin_components_1$3,M=__unplugin_components_5$1,P=__unplugin_components_14,F=__unplugin_components_0$7,ce=__unplugin_components_7;return openBlock(),createElementBlock("div",null,[createVNode(M,{ref:unref(r),model:unref(a),rules:unref(u),class:"site-form","show-label":!1,"inline-message":"","label-position":"top",size:"small","status-icon":""},{default:withCtx(()=>[unref(a).id===0?(openBlock(),createBlock(V,{key:0,label:"选择站点",path:"site"},{default:withCtx(()=>[createVNode($,{value:unref(a).site,"onUpdate:value":f[0]||(f[0]=L=>unref(a).site=L),disabled:unref(a).id!==0,placeholder:unref(a).id!==0?"":"请选择要添加的站点",options:unref(i),filterable:""},null,8,["value","disabled","placeholder","options"])]),_:1})):createCommentVNode("",!0),createVNode(V,{label:"站点昵称",path:"nickname"},{default:withCtx(()=>[createVNode(D,{value:unref(a).nickname,"onUpdate:value":f[1]||(f[1]=L=>unref(a).nickname=L),clearable:"",maxlength:"8","show-count":"",placeholder:"自定义站点名称，必填","show-word-limit":""},null,8,["value"])]),_:1}),createVNode(V,{label:"功能开关",required:""},{default:withCtx(()=>[createVNode(g,null,{default:withCtx(()=>[createVNode(I,{value:unref(a).get_info,"onUpdate:value":f[2]||(f[2]=L=>unref(a).get_info=L),round:!1,border:""},{checked:withCtx(()=>[createTextVNode(" 数据 ")]),unchecked:withCtx(()=>[createTextVNode(" 数据 ")]),"checked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"Checkbox",size:"24",color:"green"})]),"unchecked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"CloseSharp",size:"18",color:"darkred"})]),_:1},8,["value"]),createVNode(I,{value:unref(a).sign_in,"onUpdate:value":f[3]||(f[3]=L=>unref(a).sign_in=L),round:!1,border:"",label:""},{checked:withCtx(()=>[createTextVNode(" 签到 ")]),unchecked:withCtx(()=>[createTextVNode(" 签到 ")]),"checked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"Checkbox",size:"24",color:"green"})]),"unchecked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"CloseSharp",size:"18",color:"darkred"})]),_:1},8,["value"]),createVNode(I,{value:unref(a).search,"onUpdate:value":f[4]||(f[4]=L=>unref(a).search=L),round:!1,border:"",label:""},{checked:withCtx(()=>[createTextVNode(" 搜索 ")]),unchecked:withCtx(()=>[createTextVNode(" 搜索 ")]),"checked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"Checkbox",size:"24",color:"green"})]),"unchecked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"CloseSharp",size:"18",color:"darkred"})]),_:1},8,["value"]),createVNode(I,{value:unref(a).brush_free,"onUpdate:value":f[5]||(f[5]=L=>unref(a).brush_free=L),round:!1,border:"",label:""},{checked:withCtx(()=>[createTextVNode(" Free刷流 ")]),unchecked:withCtx(()=>[createTextVNode(" Free刷流 ")]),"checked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"Checkbox",size:"24",color:"green"})]),"unchecked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"CloseSharp",size:"18",color:"darkred"})]),_:1},8,["value"]),createVNode(I,{value:unref(a).brush_rss,"onUpdate:value":f[6]||(f[6]=L=>unref(a).brush_rss=L),round:!1,border:"",label:""},{checked:withCtx(()=>[createTextVNode(" RSS刷流 ")]),unchecked:withCtx(()=>[createTextVNode(" RSS刷流 ")]),"checked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"Checkbox",size:"24",color:"green"})]),"unchecked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"CloseSharp",size:"18",color:"darkred"})]),_:1},8,["value"]),createVNode(I,{value:unref(a).repeat_torrents,"onUpdate:value":f[7]||(f[7]=L=>unref(a).repeat_torrents=L),round:!1,border:"",label:""},{checked:withCtx(()=>[createTextVNode(" 辅种 ")]),unchecked:withCtx(()=>[createTextVNode(" 辅种 ")]),"checked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"Checkbox",size:"24",color:"green"})]),"unchecked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"CloseSharp",size:"18",color:"darkred"})]),_:1},8,["value"]),createVNode(I,{value:unref(a).hr,"onUpdate:value":f[8]||(f[8]=L=>unref(a).hr=L),round:!1,border:"",label:""},{checked:withCtx(()=>[createTextVNode(" H&R ")]),unchecked:withCtx(()=>[createTextVNode(" H&R ")]),"checked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"Checkbox",size:"24",color:"green"})]),"unchecked-icon":withCtx(()=>[createVNode(_sfc_main$s,{icon:"CloseSharp",size:"18",color:"darkred"})]),_:1},8,["value"])]),_:1})]),_:1}),createVNode(V,{label:"用户UID",path:"user_id"},{default:withCtx(()=>[createVNode(D,{value:unref(a).user_id,"onUpdate:value":f[9]||(f[9]=L=>unref(a).user_id=L),clearable:"",placeholder:"请输入数字UID，AZ,CZ,EZ,Reel，莫妮卡、普斯特等请填写用户名","show-word-limit":"",maxlength:"10","show-count":""},null,8,["value"])]),_:1}),createVNode(V,{label:"Passkey",path:"passkey"},{default:withCtx(()=>[createVNode(D,{value:unref(a).passkey,"onUpdate:value":f[10]||(f[10]=L=>unref(a).passkey=L),clearable:"",placeholder:"Passkey",maxlength:"32","show-count":"","show-word-limit":""},null,8,["value"])]),_:1}),createVNode(V,{label:"Cookies",path:"cookie"},{default:withCtx(()=>[createVNode(D,{value:unref(a).cookie,"onUpdate:value":f[11]||(f[11]=L=>unref(a).cookie=L),autosize:{minRows:2,maxRows:6},autocomplete:"off",placeholder:"请输入站点Cookies，与UA搭配使用效果更佳",type:"textarea"},null,8,["value"])]),_:1}),createVNode(V,{label:"UserAgent",path:"user_agent",required:""},{default:withCtx(()=>[createVNode(D,{value:unref(a).user_agent,"onUpdate:value":f[12]||(f[12]=L=>unref(a).user_agent=L),autosize:{minRows:2,maxRows:6},autocomplete:"off",type:"textarea"},null,8,["value"])]),_:1}),createVNode(V,{label:"删种规则",path:"remove_torrent_rules",required:""},{default:withCtx(()=>[createVNode(D,{value:unref(a).remove_torrent_rules,"onUpdate:value":f[13]||(f[13]=L=>unref(a).remove_torrent_rules=L),autosize:{minRows:2,maxRows:6},autocomplete:"off",placeholder:"JSON格式，请参照教程填写",type:"textarea"},null,8,["value"])]),_:1}),createVNode(V,{label:"RSS",path:"rss",required:""},{default:withCtx(()=>[createVNode(D,{value:unref(a).rss,"onUpdate:value":f[14]||(f[14]=L=>unref(a).rss=L),placeholder:"请输入站点RSS订阅地址",autocomplete:"off"},null,8,["value"])]),_:1}),createVNode(V,{label:"Free种",path:"torrents",required:""},{default:withCtx(()=>[createVNode(D,{value:unref(a).torrents,"onUpdate:value":f[15]||(f[15]=L=>unref(a).torrents=L),placeholder:"请输入站点免费种刷流地址",autocomplete:"off"},null,8,["value"])]),_:1}),createVNode(V,{label:"下载器",path:"downloader",required:""},{default:withCtx(()=>[createVNode($,{value:unref(a).downloader,"onUpdate:value":f[16]||(f[16]=L=>unref(a).downloader=L),placeholder:"请选择刷流使用的下载器",options:unref(y).map(L=>({label:L.name,value:L.id})),filterable:""},null,8,["value","options"])]),_:1}),createVNode(V,{label:"代理服务器",path:"custom_server",required:""},{default:withCtx(()=>[createVNode(D,{value:unref(a).custom_server,"onUpdate:value":f[17]||(f[17]=L=>unref(a).custom_server=L),placeholder:"请输入代理服务器地址，部分站点需要",autocomplete:"off"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),createVNode(P),createVNode(g,{justify:"center"},{default:withCtx(()=>[unref(a).id!==0?(openBlock(),createBlock(ce,{key:0,onPositiveClick:f[18]||(f[18]=L=>unref(m)(unref(a).id))},{trigger:withCtx(()=>[createVNode(F,{type:"error"},{default:withCtx(()=>[createTextVNode(" 删 除 ")]),_:1})]),default:withCtx(()=>[createTextVNode(" 确定删除此站点信息吗？ ")]),_:1})):createCommentVNode("",!0),createVNode(F,{type:"primary",loading:unref(x),onClick:A},{default:withCtx(()=>[createTextVNode(" 保存 ")]),_:1},8,["loading"])]),_:1})])}}}),MySiteForm_vue_vue_type_style_index_0_scoped_c1be59c0_lang="",MySiteForm=_export_sfc(_sfc_main$i,[["__scopeId","data-v-c1be59c0"]]),railStyle=({focused:e,checked:t})=>{const r={};return t?(r.background="#1fcc6b",e&&(r.boxShadow="0 0 0 2px #d0305040")):(r.background="#cc1a1a",e&&(r.boxShadow="0 0 0 2px #2080f040")),r},useWebsiteStore=defineStore("website",()=>{const{dialog:e}=useGlobalConfig(),t=ref(""),r=ref(!1),a=ref(!1),i=ref(!1),u=ref("详情"),l=ref(1),m=ref(8),b=ref([{title:"id",key:"id",minWidth:35},{title:"名称",key:"name",minWidth:65,render(w){return h(__unplugin_components_0$7,{tag:"a",href:w.url,target:"_blank",secondary:!0,type:"primary",size:"small"},{default:()=>`${w.name} - ${w.nickname}`})}},{title:"标签",key:"tags",minWidth:85,render(w){return w.tags.split(",").map(k=>h(NTag,{style:{marginRight:"6px"},type:"info",bordered:!1},{default:()=>k}))}},{title:"支持功能",key:"ability",render(w){const T=[{name:"签到",key:"sign_in",support:w.sign_in},{name:"数据",key:"get_info",support:w.get_info},{name:"Free刷流",key:"brush_free",support:w.brush_free},{name:"RSS刷流",key:"brush_rss",support:w.brush_rss},{name:"辅种",key:"repeat_torrents",support:w.repeat_torrents},{name:"搜索",key:"search_torrents",support:w.search_torrents},{name:"H&R",key:"hr_discern",support:w.hr_discern}];return h(__unplugin_components_1$3,()=>T.map(k=>k.support?h(NSwitch,{size:"small",round:!1,value:k.support,"onUpdate:value":async()=>{}},{checked:()=>k.name,unchecked:()=>k.name,"checked-icon":()=>"✅","unchecked-icon":()=>h(_sfc_main$s,{icon:"CloseSharp",color:"red",size:16})}):null))}}]),y={id:0,sort_id:1,site:void 0,nickname:"",passkey:"",get_info:!0,sign_in:!0,brush_rss:!1,brush_free:!1,package_file:!1,repeat_torrents:!1,hr_discern:!1,search_torrents:!1,user_id:"",joined:"2023-01-01 12:00:00",user_agent:window.navigator.userAgent,cookie:"",rss:"",torrents:"",downloader:void 0,custom_server:"",remove_torrent_rules:'{"push":{"size":{"min":1,"max":100},"published":1800,"seeders":3,"sale_expire":3600},"remove":{"upload_speed_avg":{"time":600,"upload_speed":2048},"progress_check":{"0.05":2048,"0.5":2048,"0.8":2048,"0.9":2048},"ratio_check":{"600":0.1,"1800":0.5},"num_completer":{"completers":5,"upspeed":2048},"timeout":3600,"max_ratio":3}}'},v=ref({site:[{required:!0,message:"请选择要添加的站点",trigger:"blur",validator:(w,T)=>T>0}],user_id:[{required:!0,message:"请输入数字UID，指定站点请输入用户名",trigger:["blur","input"],min:1}],cookie:[{required:!0,message:"请输入站点Cookies，与UA搭配使用效果更佳",trigger:["blur","input"],min:32}],user_agent:[{required:!0,message:"请输入浏览器UA，使用效果更佳",trigger:["blur","input"]}]}),x=ref(!1),A=ref(),d=ref([]),f=ref([]),$=ref([]),V=ref([]),D=ref({...y}),I=ref([{label:"请选择站点",value:0}]),g=ref([]),M=ref(),F=ref({bonus_hour:0,seed_days:0,site:0,id:0,my_bonus:0,my_score:0,uploaded:0,downloaded:0,ratio:1,seed_volume:0,leech:0,seed:0,publish:0,invitation:0,my_level:"",my_hr:"",mail:0}),ce=ref(!1),L=ref(),ye=ref(0),we=ref([]),S=ref([]),Y=ref(),xe=ref([]),X=ref([]),W=ref(),ie=ref(),ee=ref(),Q=ref([]),te=ref([]),G=ref(-7),Pe=ref([{label:"7天",value:-7},{label:"半月",value:-15},{label:"30天",value:-30},{label:"半年",value:-184},{label:"一年",value:-366},{label:"全部",value:0}]),He=async()=>{var T;xe.value.length=0,X.value.length=0,ie.value={};let w=0;Y.value=await $todayDataList(),(T=Y.value)==null||T.data.forEach(k=>{k.uploaded>0&&xe.value.push({name:k.name,value:k.uploaded}),k.downloaded>0&&(X.value.push({name:k.name,value:k.downloaded}),w+=k.downloaded)}),w<=0&&X.value.push({name:"今日无下载",value:0}),xe.value.sort((k,U)=>k.value-U.value),X.value.sort((k,U)=>k.value-U.value),ie.value={title:{text:`⬆${renderSize(Y.value.total_upload)} ⬇${renderSize(Y.value.total_download)}`,top:15,left:"center",textStyle:{fontSize:18,color:"orangered"}},bottom:0,toolbox:{feature:{saveAsImage:{},restore:{}}},tooltip:{show:!1,formatter(k){return`${k.name}：	${renderSize(k.data.value)}`},valueFormatter(k){return renderSize(k)}},legend:{show:!1},series:[{name:"下载量",type:"pie",radius:["25%","45%"],itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:1},label:{show:!1,position:"center",formatter(k){if(k.data.value>0)return`${k.name} ⬇${renderSize(k.data.value)}`},itemHeight:16,itemWidth:20,fontSize:14},emphasis:{label:{show:!0,fontSize:24,fontWeight:"bold"}},labelLine:{show:!1},data:X},{name:"上传量",type:"pie",radius:["50%","70%"],itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:1},label:{position:"center",formatter(k){if(k.data.value>0)return`${k.name} ⬆${renderSize(k.data.value)}`},itemHeight:16,itemWidth:20,fontSize:14,show:!1},emphasis:{label:{show:!0,fontSize:24,fontWeight:"bold"}},labelLine:{show:!1},data:xe.value}]}},H=async w=>{var T,k;L.value=await $getHistoryList({days:w}),we.value.length=0,S.value.length=0,(T=L.value)==null||T.diff.forEach(U=>{we.value.push({name:U.name,type:"bar",emphasis:{focus:"series"},stack:"uploaded",data:U.diff_uploaded_list}),S.value.push({name:U.name,type:"bar",emphasis:{focus:"series"},stack:"downloaded",data:U.diff_downloaded_list})}),W.value={title:{text:"每日上传",textStyle:{color:"orangered"},left:"center",top:"12"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter(U){let Se="",$e=0;U.sort((Te,ue)=>ue.value-Te.value),U.forEach(Te=>{const ue=Te.value===0?"":`<div style="display: block;height:14px;width: 48%;float:left;padding: 1%;font-size: 10px;">
                <span style="float:left;"><i style="width: 8px;height: 8px;display: inline-block;background: ${Te.color};border-radius: 8px;"></i>${Te.seriesName}: </span>
                <span style="float:right;">${renderSize(Te.value)}</span>
              </div>`;Se+=ue,$e+=Te.value});let _e=`<div style="display: block;height:14px;text-align: left;padding: 1%;font-size: 12px;">
                              <span style="float: left;">
                                    <i style="width: 8px;height: 8px;display: inline-block;background: darkorange;border-radius: 8px;">
                                    </i>总计：${renderSize($e)}</span>
                              <text style="float: right;">${U[0].axisValue}</text>
                            </div>
                            <hr>`;return _e+=Se,`<div style="width: 280px;">${_e}</div>`},position(U){return window.innerWidth-U[0]<768&&(U[0]=12),[12,8]},order:"valueDesc",confine:!1,extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);"},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{},dataZoom:{}}},xAxis:{type:"category",boundaryGap:!0,axisLine:{onZero:!1},data:(k=L.value)==null?void 0:k.date_list},yAxis:{type:"value",axisLabel:{formatter(U){return renderSize(U)}}},series:we.value}},fe=async()=>{d.value=await $siteList()},K=async()=>{V.value.sort((w,T)=>T.status.mail===w.status.mail?T.my_site.sort_id===w.my_site.sort_id?T.my_site.id-w.my_site.id:T.my_site.sort_id-w.my_site.sort_id:T.status.mail-w.status.mail),t.value===""?$.value=V.value:$.value=V.value.filter(w=>{const{site:T,my_site:k}=w;return T.url.toLowerCase().includes(t.value.toLowerCase())||T.name.toLowerCase().includes(t.value.toLowerCase())||T.nickname.toLowerCase().includes(t.value.toLowerCase())||k.nickname.toLowerCase().includes(t.value.toLowerCase())||k.user_id.toLowerCase().includes(t.value.toLowerCase())})},ve=async()=>{a.value=!0,V.value.length=0,V.value=await $siteStatusNewestList(),await K(),a.value=!1},We=async()=>{V.value.length=0,te.value.length=0,Q.value.length=0,V.value=await $siteStatusNewestList(),F.value={bonus_hour:0,seed_days:0,site:0,id:0,my_bonus:0,my_score:0,uploaded:0,downloaded:0,ratio:1,seed_volume:0,leech:0,seed:0,publish:0,invitation:0,my_level:"",my_hr:"",mail:0},V.value.forEach(w=>{const T=w.status;F.value.bonus_hour+=T.bonus_hour,F.value.seed_days+=T.seed_days,F.value.my_bonus+=T.my_bonus,F.value.my_score+=T.my_score,F.value.uploaded+=T.uploaded,F.value.downloaded+=T.downloaded,F.value.seed_volume+=T.seed_volume,F.value.leech+=T.leech,F.value.seed+=T.seed,F.value.publish+=T.publish,F.value.invitation+=T.invitation,F.value.mail+=T.mail;const k=w.my_site;Q.value.push({name:k.nickname,value:T.uploaded}),te.value.push({name:k.nickname,value:T.downloaded})}),F.value.ratio=F.value.downloaded>0?F.value.uploaded/F.value.downloaded:0,ee.value={title:{text:`⬆${renderSize(F.value.uploaded)} ⬇${renderSize(F.value.downloaded)}`,top:5,left:"center",textStyle:{fontSize:18,color:"orangered"}},bottom:0,toolbox:{feature:{saveAsImage:{},restore:{}}},tooltip:{show:!1,formatter(w){return`${w.name}：	${renderSize(w.data.value)}`},valueFormatter(w){return renderSize(w)}},legend:{show:!1},series:[{name:"下载量",type:"pie",radius:["25%","45%"],itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:1},label:{show:!1,position:"center",formatter(w){if(w.data.value>0)return`${w.name} ⬇${renderSize(w.data.value)}`},itemHeight:16,itemWidth:20,fontSize:14},emphasis:{label:{show:!0,fontSize:24,fontWeight:"bold"}},labelLine:{show:!1},data:te.value},{name:"上传量",type:"pie",radius:["50%","70%"],itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:1},label:{position:"center",formatter(w){if(w.data.value>0)return`${w.name} ⬆${renderSize(w.data.value)}`},itemHeight:16,itemWidth:20,fontSize:14,show:!1},emphasis:{label:{show:!0,fontSize:24,fontWeight:"bold"}},labelLine:{show:!1},data:Q.value}]}},ne=async w=>{const T=V.value.findIndex(U=>U.my_site.id===w),k=await $getNewestStatus(w);V.value.splice(T,1,k),await K()},pe=async()=>{f.value=await $mySiteList(),f.value.sort((w,T)=>T.sort_id-w.sort_id)},Ce=async w=>{await $sortSite(w.id,w.sort_id)&&await ne(w.id)},De=async(w,T)=>{await $sortSite(w.id,T)&&await pe()},Ve=async w=>{const T=w===0?await $siteInfoNewList():await $siteList();I.value.length=0,T.forEach(k=>{I.value.push({label:String(k.name),value:k.id})}),D.value=w===0?{...y}:await $getMySite({mysite_id:w}),e==null||e.info({title:w===0?"添加站点":`编辑站点：${D.value.nickname}`,content:()=>h(MySiteForm),closable:!0})},qe=async()=>{var T;await((T=A.value)==null?void 0:T.validate()),(D.value.id===0?await $saveMySite(D.value):await $editMySite(D.value))&&(e==null||e.destroyAll(),await pe(),await ne(D.value.id),D.value={...y})},Ee=async w=>{await $signSite(w)&&await ne(w)},O=async()=>{await $signAllSite()},be=w=>V.value.find(T=>T.my_site.id===w),Fe=w=>{const T=V.value.findIndex(k=>k.my_site.id===w);V.value.splice(T,1)},ct=async w=>{await $removeMySite({site_id:w})&&(Fe(w),e==null||e.destroyAll())},et=async w=>{const T=await $getSignList({site_id:w,page:1,limit:5});g.value=T.items;const k=be(w);u.value=`${k==null?void 0:k.my_site.nickname}  签到信息`,i.value=!0,r.value=!0},ke=async w=>{await $refreshSite(w)&&await ne(w)},Be=async()=>{a.value=!0,await $refreshAllSite(),a.value=!1},Le=async(w,T=-7)=>{const k=await $getHistoryList({site_id:w,days:T}),U=be(w);u.value=`${U==null?void 0:U.my_site.nickname}  历史数据`,M.value=await $parseSiteHistory(k),ye.value=w,i.value=!1,r.value=!0},he=()=>{M.value.length=0},Ne=async()=>{await ve(),x.value=!1},ze=ref([]),tt=computed(()=>ze.value.reduce((w,{columnKey:T,order:k})=>(w[T]=k,w),{})),Ue=w=>{ze.value=[].concat(w)},me=computed(()=>[{title:"id",key:"id",minWidth:50,width:55,align:"center",fixed:"left",sorter:"default",sortOrder:tt.value.id||!1},{title:"名称",key:"nickname",minWidth:65,width:125,fixed:"left",sorter:"default",render(w){const T=d.value.find(k=>k.id===w.site);return h(__unplugin_components_0$7,{tag:"a",href:T==null?void 0:T.url,target:"_blank",secondary:!0,type:"primary",size:"small"},{default:()=>`${w.nickname}`})}},{title:"排序",key:"sort_id",minWidth:95,width:110,sorter:"default",align:"center",sortOrder:tt.value.sort_id||"descend",render(w){return h(__unplugin_components_15,{status:"warning",bordered:!1,"button-placement":"both",class:"text-#3b5769",size:"small",min:1,max:200,step:5,value:w.sort_id,"update-value-on-input":!1,"onUpdate:value":async T=>await De(w,T)},{"minus-icon":()=>h(_sfc_main$s,{icon:"ArrowDownCircleOutline"}),"add-icon":()=>h(_sfc_main$s,{icon:"ArrowUpCircleOutline"})})}},{title:"支持功能",key:"ability",minWidth:255,width:315,align:"center",render(w){const T=[{name:"签到",key:"sign_in",support:w.sign_in},{name:"数据",key:"get_info",support:w.get_info},{name:"辅种",key:"repeat_torrents",support:w.repeat_torrents},{name:"搜索",key:"search_torrents",support:w.search_torrents},{name:"H&R",key:"hr_discern",support:w.hr_discern},{name:"Free刷流",key:"brush_free",support:w.brush_free},{name:"RSS刷流",key:"brush_rss",support:w.brush_rss},{name:"拆包刷流",key:"package_file",support:w.package_file}],k=d.value.find(U=>U.id===w.site);return h(__unplugin_components_1$3,()=>T.map(U=>k[U.key]?h(NSwitch,{size:"small",round:!1,value:U.support,"rail-style":railStyle,"onUpdate:value":async Se=>{const $e=await $getMySite({mysite_id:w.id});$e[U.key]=Se,await $editMySite($e)&&await pe()}},{checked:()=>U.name,unchecked:()=>U.name,"checked-icon":()=>"✅","unchecked-icon":()=>h(_sfc_main$s,{icon:"CloseSharp",color:"red",size:16})}):null))}},{title:"拆包刷流",key:"package_file",minWidth:95,width:95,render(w){return h(NSwitch,{size:"small",round:!1,value:w.package_file,"rail-style":railStyle,"onUpdate:value":async T=>{const k=await $getMySite({mysite_id:w.id});k.package_file=T,await $editMySite(k)&&await pe()}},{checked:()=>"拆包",unchecked:()=>"不拆包","checked-icon":()=>"✅","unchecked-icon":()=>h(_sfc_main$s,{icon:"CloseSharp",color:"red",size:16})})}},{key:"actions",title:"操作",minWidth:85,width:85,render(w){return h(__unplugin_components_0$7,{size:"small",type:"warning",onClick:async()=>await Ve(w.id)},{default:()=>"编辑"})},align:"center"}]),Oe=ref({total:0,items:[],per_page:1}),oe=ref([]),Ie=async(w,T)=>{Oe.value=await $torrentList({page:w,limit:T})},nt=async()=>{oe.value=await $getDownloaderList()},rt=["未推送","已推送","免费过期","下载器已删种","站点已删种","已存档"],Ge=computed(()=>[{title:"名称",key:"title",minWidth:200,width:225,fixed:"left",sorter:"default",ellipsis:{tooltip:!0}},{title:"副标题",key:"subtitle",minWidth:200,width:225,align:"center",sorter:"default",ellipsis:{tooltip:!0}},{title:"分类",key:"category",minWidth:65,width:125,align:"center",sorter:"default"},{title:"站点",key:"site",minWidth:65,width:125,fixed:"left",align:"center",sorter:"default",render(w){return d.value.find(k=>k.id===w.site).name}},{title:"状态",key:"state",minWidth:65,width:125,align:"center",sorter:"default",filter(w,T){return T.state===w},filterOptions:rt.map((w,T)=>({label:w,value:T})),render(w){return rt[w.state]}},{title:"资源地区",key:"area",minWidth:65,width:125,align:"center",sorter:"default"},{title:"种子大小",key:"size",minWidth:65,width:125,align:"center",sorter:"default",render(w){return renderSize(w.size)}},{title:"H&R",key:"hr",minWidth:65,width:125,align:"center",sorter:"default"},{title:"促销状态",key:"sale_status",minWidth:65,width:125,align:"center",sorter:"default"},{title:"促销时间",key:"sale_expire",minWidth:200,width:225,align:"center",sorter:"default"},{title:"发布时间",key:"published",minWidth:200,width:225,align:"center",sorter:"default"},{title:"做种数",key:"seeders",minWidth:65,width:125,align:"center",sorter:"default"},{title:"下载数",key:"leechers",minWidth:65,width:125,align:"center",sorter:"default"},{title:"完成数",key:"completers",minWidth:65,width:125,align:"center",sorter:"default"},{title:"种子HASH",key:"hash_string",minWidth:65,width:125,align:"center",sorter:"default",ellipsis:{tooltip:!0}},{title:"文件列表HASH",key:"filelist",minWidth:65,width:125,align:"center",sorter:"default",ellipsis:{tooltip:!0}},{title:"豆瓣链接",key:"douban_url",minWidth:65,width:125,align:"center",sorter:"default"},{title:"发行年份",key:"year_publish",minWidth:65,width:125,align:"center",sorter:"default"},{title:"种子文件数",key:"files_count",minWidth:65,width:125,align:"center",sorter:"default"},{title:"已下载",key:"completed",minWidth:65,width:125,align:"center",sorter:"default",render(w){if(w.completed>0)return renderSize(w.completed)}},{title:"已上传",key:"uploaded",minWidth:65,width:125,align:"center",sorter:"default",render(w){if(w.uploaded>0)return renderSize(w.uploaded)}},{title:"下载器",key:"downloader",minWidth:65,width:125,align:"center",sorter:(w,T)=>w.downloader&&T.downloader?w.downloader-T.downloader:(w.downloader||T.downloader)&&w.downloader?1:-1,render(w){if(w.downloader){const T=oe.value.find(k=>k.id===w.downloader);return T==null?void 0:T.name}}}]);return{searchTorrent:async(w,T)=>await $searchTorrent({key:w,site_list:T}),addMySiteFormRules:v,barOption:W,getTorrentList:Ie,getDownloaderList:nt,torrentColumns:Ge,torrentList:Oe,closeEditForm:Ne,columns:b,currentSite:ye,dataLength:G,days:Pe,drawerTitle:u,eDrawer:r,editMysite:Ve,getMySiteList:pe,getPerDayData:H,getSignList:et,getSiteList:fe,getTodayDataList:He,getTotalData:We,initData:ve,initSomeData:he,mySite:y,mySiteColumns:me,handleUpdateSorter:Ue,mySiteForm:D,mySiteList:f,page:l,pageSize:m,perDayData:L,pieOption:ie,pieTotalOption:ee,refMySiteForm:A,refreshAllSite:Be,refreshSite:ke,removeMySite:ct,saveMySite:qe,searchKey:t,showAddMySite:x,showList:$,signAllSite:O,signInList:g,signSite:Ee,sign_today:i,siteEChart:Le,siteHistory:M,siteInfoFlag:ce,siteInfoList:I,siteList:d,siteSearch:K,siteStatusList:V,sortMySite:Ce,spinShow:a,todayDataList:Y,todayDownloadedDataList:X,todayUploadedDataList:xe,totalData:F,updateMySiteStatus:ne}}),_hoisted_1$b=["textContent"],_hoisted_2$6={key:0},_hoisted_3$2={key:1},_hoisted_4$1=["textContent"],_sfc_main$h=defineComponent({__name:"search",setup(e){const{isMobile:t,isPad:r,isDesktop:a}=useQueryBreakPoints(),i=useWebsiteStore(),{mySiteList:u,siteList:l}=storeToRefs(i),{getMySiteList:m,searchTorrent:b,getSiteList:y}=i,v=useDownloadStore(),{downloaderList:x}=storeToRefs(v),{getDownloaderList:A,pushTorrent:d}=v,f=ref(""),$=ref([]),V=ref([]),D=ref([]),I=ref(!1),g=ref({results:[],warning:[],success:[]}),M=ref({page:1,pageSize:t.value?20:25,showQuickJumper:!0,pageSizes:[10,20,25,30,40],pageSlot:t.value?5:11,simple:t.value}),P=async()=>{const X=l.value.reduce((W,ie)=>(W[ie.id]=ie,W),{});V.value=g.value.results.map(W=>{const ie=X[W.site];return ie?{...W,siteName:ie.name,siteLogo:ie.logo}:W})},F=computed(()=>{const X=(M.value.page-1)*M.value.pageSize,W=X+M.value.pageSize;return V.value.slice(X,W)}),ce=computed(()=>u.value.filter(X=>X.search_torrents)),L=ref(!1),ye=async X=>{await d(X)},we=async()=>{await m(),await y(),await A(),I.value=!0},S=ref(null),Y=async X=>{const W=new URL("/api/ws/search",window.location.href);W.protocol=W.protocol.replace("http","ws"),S.value=new WebSocket(W.href),S.value.onopen=()=>{X()},S.value.onclose=()=>{L.value=!1};let ie=0;const ee=l.value.reduce((Q,te)=>(Q[te.id]=te,Q),{});S.value.onmessage=async Q=>{const te=JSON.parse(Q.data);if(ie+=1,te.code===0){Array.prototype.push.apply(g.value.results,te.data.torrents),g.value.success.push(te.msg);const G=ee[te.site];D.value.push({siteId:te.data.site,siteName:G.name,siteLogo:G.logo,total:te.data.torrents.length})}else g.value.warning.push(te.msg);ie>=ce.value.length&&(L.value=!1),await P()}};onUnmounted(()=>{S.value&&S.value.close()});const xe=()=>{L.value=!0,S.value?S.value.send(JSON.stringify({key:f.value,site_list:$.value})):Y(()=>{var X;(X=S.value)==null||X.send(JSON.stringify({key:f.value,site_list:$.value}))})};return(X,W)=>{const ie=__unplugin_components_2$3,ee=__unplugin_components_0$7,Q=__unplugin_components_1$3,te=__unplugin_components_3$1,G=__unplugin_components_4$2,Pe=__unplugin_components_9$1,He=__unplugin_components_4$3,H=__unplugin_components_10$1,fe=NTag,K=__unplugin_components_5$3,ve=__unplugin_components_4$4,We=__unplugin_components_0$9,ne=__unplugin_components_1$6,pe=__unplugin_components_9,Ce=__unplugin_components_5$2,De=__unplugin_components_10,Ve=__unplugin_components_1$4,qe=__unplugin_components_20,Ee=__unplugin_components_21;return openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$s,{icon:"Search",size:"22",class:"cursor-pointer",onClick:we}),createVNode(Ee,{show:unref(I),"onUpdate:show":W[4]||(W[4]=O=>isRef(I)?I.value=O:null),placement:"top",height:"100%","trap-focus":!1,onFocus:Y},{default:withCtx(()=>[createVNode(qe,{title:`正在搜索：${unref(f)}`,closable:""},{default:withCtx(()=>[createVNode(K,{"default-expanded-names":"1",accordion:"",class:"mt-2","arrow-placement":"right"},{default:withCtx(()=>[createVNode(He,{name:"1",title:"选择站点"},{"header-extra":withCtx(()=>[createVNode(Q,{justify:"end",class:"mt--2"},{default:withCtx(()=>[createVNode(ie,{value:unref(f),"onUpdate:value":W[0]||(W[0]=O=>isRef(f)?f.value=O:null),maxlength:"64",placeholder:"无输入拉取第一页种子",size:"small","show-count":"",autofocus:"",clearable:"",onKeyup:withKeys(xe,["enter"])},null,8,["value","onKeyup"]),createVNode(ee,{type:"success",size:"small",ghost:"",loading:unref(L),onClick:xe},{default:withCtx(()=>[createTextVNode(" 搜索 ")]),_:1},8,["loading"])]),_:1})]),default:withCtx(()=>[createVNode(Pe,{size:"small",hoverable:"",embedded:"",class:"mt-1"},{default:withCtx(()=>[createVNode(G,{value:unref($),"onUpdate:value":W[1]||(W[1]=O=>isRef($)?$.value=O:null)},{default:withCtx(()=>[createVNode(Q,{"item-style":"display: flex;",align:"center"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ce),O=>(openBlock(),createBlock(te,{key:O.id,value:O.id,label:O.nickname},null,8,["value","label"]))),128))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),unref(g).success.length+unref(g).warning.length>0?(openBlock(),createBlock(He,{key:0,name:"2"},{header:withCtx(()=>[createVNode(H,{type:"error"},{default:withCtx(()=>[createTextVNode(" 无结果或出错信息 ")]),_:1})]),default:withCtx(()=>[createVNode(Q,{vertical:""},{default:withCtx(()=>[unref(g).success.length>0?(openBlock(),createBlock(Q,{key:0,vertical:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g).success,(O,be)=>(openBlock(),createBlock(fe,{key:be,type:"success",size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(O),1)]),_:2},1024))),128))]),_:1})):createCommentVNode("",!0),unref(g).warning.length>0?(openBlock(),createBlock(Q,{key:1,vertical:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g).warning,(O,be)=>(openBlock(),createBlock(fe,{key:be,type:"warning",size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(O),1)]),_:2},1024))),128))]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1}),unref(V).length>0?(openBlock(),createBlock(ve,{key:0,page:unref(M).page,"onUpdate:page":W[2]||(W[2]=O=>unref(M).page=O),"page-size":unref(M).pageSize,"onUpdate:pageSize":W[3]||(W[3]=O=>unref(M).pageSize=O),class:"z-998 mt-1",size:"small","item-count":unref(V).length,"show-size-picker":"","page-sizes":unref(M).pageSizes,"page-slot":unref(M).pageSlot},{prefix:withCtx(({itemCount:O})=>[createTextVNode(" 共 "+toDisplayString(O)+" 项 ",1)]),_:1},8,["page","page-size","item-count","page-sizes","page-slot"])):createCommentVNode("",!0),createVNode(Pe,{size:"small",hoverable:"",class:"mt-1"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(F),(O,be)=>(openBlock(),createBlock(Pe,{key:be,size:"small",hoverable:"",class:"mt-1"},{default:withCtx(()=>[createVNode(Ve,null,{avatar:withCtx(()=>[createVNode(Q,{vertical:""},{default:withCtx(()=>[createVNode(ne,{value:O.siteName,offset:[-20,36],type:"info"},{default:withCtx(()=>[createVNode(We,{size:"large",round:"",src:O.poster_url?O.poster_url:O.siteLogo,"fallback-src":"/ptools.svg"},null,8,["src"])]),_:2},1032,["value"])]),_:2},1024)]),header:withCtx(()=>[createVNode(ee,{text:"",type:"primary",target:"_blank",size:"small",tag:"a",href:O.detail_url},{default:withCtx(()=>[createVNode(pe,{style:normalizeStyle(unref(t)?"max-width: 240px":"max-width: 100%")},{default:withCtx(()=>[createTextVNode(toDisplayString(O.title),1)]),_:2},1032,["style"])]),_:2},1032,["href"])]),"header-extra":withCtx(()=>[]),description:withCtx(()=>[createVNode(Q,{justify:"space-between"},{default:withCtx(()=>[createVNode(Q,{justify:"start",vertical:""},{default:withCtx(()=>[createVNode(Q,null,{default:withCtx(()=>[O.subtitle?(openBlock(),createBlock(ee,{key:0,size:"tiny",secondary:""},{default:withCtx(()=>[createVNode(pe,{style:normalizeStyle(unref(t)?"max-width: 240px":"max-width: 100%")},{default:withCtx(()=>[createTextVNode(toDisplayString(O.subtitle),1)]),_:2},1032,["style"])]),_:2},1024)):createCommentVNode("",!0)]),_:2},1024),createVNode(Q,null,{default:withCtx(()=>[O.category?(openBlock(),createBlock(fe,{key:0,size:"small",type:"primary",secondary:""},{default:withCtx(()=>[createTextVNode(toDisplayString(O.category),1)]),_:2},1024)):createCommentVNode("",!0),createVNode(fe,{size:"small",type:"success",ghost:""},{default:withCtx(()=>[createBaseVNode("span",{textContent:toDisplayString(unref(renderSize)(O.size))},null,8,_hoisted_1$b)]),_:2},1024),O.sale_status?(openBlock(),createBlock(Ce,{key:1,trigger:"hover"},{trigger:withCtx(()=>[createVNode(ee,{size:"tiny",color:"#8a2be2",secondary:""},{default:withCtx(()=>[createTextVNode(toDisplayString(O.sale_status),1)]),_:2},1024)]),default:withCtx(()=>[O.sale_expire?(openBlock(),createElementBlock("span",_hoisted_2$6,toDisplayString(O.sale_expire),1)):(openBlock(),createElementBlock("span",_hoisted_3$2,"未知"))]),_:2},1024)):createCommentVNode("",!0),O.hr?createCommentVNode("",!0):(openBlock(),createBlock(fe,{key:2,type:"error",size:"small"},{default:withCtx(()=>[createTextVNode(" HR ")]),_:1}))]),_:2},1024)]),_:2},1024),createVNode(Q,{justify:"end",vertical:""},{default:withCtx(()=>[createVNode(Q,{justify:"end"},{default:withCtx(()=>[createVNode(ee,{size:"tiny",type:"info",ghost:""},{default:withCtx(()=>[createTextVNode(" 发布于："),createBaseVNode("span",{textContent:toDisplayString(O.published)},null,8,_hoisted_4$1)]),_:2},1024)]),_:2},1024),createVNode(Q,{justify:"end"},{default:withCtx(()=>[createVNode(ee,{size:"tiny",type:"success",secondary:""},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"ArrowUpCircleSharp"})]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(O.seeders),1)]),_:2},1024),createVNode(ee,{size:"tiny",type:"error",secondary:""},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"ArrowDownCircle"})]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(O.leechers),1)]),_:2},1024),createVNode(ee,{size:"tiny",type:"info",secondary:""},{icon:withCtx(()=>[createVNode(_sfc_main$s,{icon:"CheckmarkCircle"})]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(O.completers),1)]),_:2},1024),createVNode(De,{placement:"bottom-start",trigger:"click",size:"small",options:[{label:"直接下载",key:O.magnet_url},{label:"下载到",key:"to",children:unref(x).map(Fe=>({label:Fe.name,key:`downloader_id=${Fe.id}&site=${O.site}&url=${O.magnet_url}&category=${O.category}`}))}],onSelect:ye},{default:withCtx(()=>[createVNode(ee,{size:"tiny",type:"warning",secondary:""},{default:withCtx(()=>[createTextVNode(" 下载 ")]),_:1})]),_:2},1032,["options"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["title"])]),_:1},8,["show"])],64)}}}),_hoisted_1$a={class:"flex items-center cursor-pointer"},_hoisted_2$5={key:0,class:"ml-2"},_sfc_main$g=defineComponent({__name:"select-user",props:{avatar:{default:"/ptools.svg"},nickname:{default:"ptools"},options:{},onSelect:{}},setup(e){return(t,r)=>{const a=__unplugin_components_0$9,i=__unplugin_components_10;return openBlock(),createBlock(i,{options:t.options,onSelect:t.onSelect},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$a,[createVNode(a,{round:"",size:"small",src:t.avatar},null,8,["src"]),t.nickname?(openBlock(),createElementBlock("span",_hoisted_2$5,toDisplayString(t.nickname),1)):createCommentVNode("",!0)])]),_:1},8,["options","onSelect"])}}}),_sfc_main$f={},_hoisted_1$9={class:"w-336px"};function _sfc_render(e,t){const r=__unplugin_components_0$a;return openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode(r,{style:{background:"transparent"},hoverable:"",clickable:""},{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3})])}const NotifyContainer=_export_sfc(_sfc_main$f,[["render",_sfc_render]]),_hoisted_1$8={class:"text-16px"},_hoisted_2$4={key:0,class:"text-12px"},_hoisted_3$1={key:1,class:"text-14px"},_sfc_main$e=defineComponent({__name:"message-item",props:{read:{type:Boolean},avatar:{},title:{},timer:{},desc:{}},setup(e){return(t,r)=>{const a=__unplugin_components_0$9,i=__unplugin_components_1$4,u=__unplugin_components_2$4;return openBlock(),createBlock(u,{class:normalizeClass(t.read?"op-40":"")},{default:withCtx(()=>[createVNode(i,null,createSlots({description:withCtx(()=>[t.desc?(openBlock(),createElementBlock("span",_hoisted_2$4,toDisplayString(t.desc),1)):createCommentVNode("",!0),t.timer?(openBlock(),createElementBlock("div",_hoisted_3$1,toDisplayString(t.timer),1)):createCommentVNode("",!0)]),_:2},[t.avatar?{name:"avatar",fn:withCtx(()=>[createVNode(a,{round:"",src:t.avatar},null,8,["src"])]),key:"0"}:void 0,t.title?{name:"header",fn:withCtx(()=>[createBaseVNode("span",_hoisted_1$8,toDisplayString(t.title),1)]),key:"1"}:void 0]),1024)]),_:1},8,["class"])}}}),_hoisted_1$7={class:"text-16px"},_hoisted_2$3={class:"text-14px"},_sfc_main$d=defineComponent({__name:"notify-item",props:{read:{type:Boolean},avatar:{},title:{},timer:{}},setup(e){return(t,r)=>{const a=__unplugin_components_0$9,i=__unplugin_components_1$4,u=__unplugin_components_2$4;return openBlock(),createBlock(u,{class:normalizeClass(t.read?"op-40":"")},{default:withCtx(()=>[createVNode(i,null,createSlots({_:2},[t.avatar?{name:"avatar",fn:withCtx(()=>[createVNode(a,{round:"",src:t.avatar},null,8,["src"])]),key:"0"}:void 0,t.title?{name:"header",fn:withCtx(()=>[createBaseVNode("span",_hoisted_1$7,toDisplayString(t.title),1)]),key:"1"}:void 0,t.timer?{name:"description",fn:withCtx(()=>[createBaseVNode("span",_hoisted_2$3,toDisplayString(t.timer),1)]),key:"2"}:void 0]),1024)]),_:1},8,["class"])}}}),_hoisted_1$6={class:"text-16px"},_hoisted_2$2={class:"text-14px"},_sfc_main$c=defineComponent({__name:"upcoming-item",props:{read:{type:Boolean},type:{},tag:{},title:{},content:{}},setup(e){return(t,r)=>{const a=NTag,i=__unplugin_components_1$4,u=__unplugin_components_2$4;return openBlock(),createBlock(u,{class:normalizeClass(t.read?"op-40":"")},{default:withCtx(()=>[createVNode(i,null,createSlots({_:2},[t.title?{name:"header",fn:withCtx(()=>[createBaseVNode("span",_hoisted_1$6,toDisplayString(t.title),1)]),key:"0"}:void 0,t.tag?{name:"header-extra",fn:withCtx(()=>[createVNode(a,{size:"small",type:t.type},{default:withCtx(()=>[createTextVNode(toDisplayString(t.tag),1)]),_:1},8,["type"])]),key:"1"}:void 0,t.content?{name:"description",fn:withCtx(()=>[createBaseVNode("span",_hoisted_2$2,toDisplayString(t.content),1)]),key:"2"}:void 0]),1024)]),_:1},8,["class"])}}}),_sfc_main$b=defineComponent({__name:"notify-content",setup(e){return(t,r)=>{const a=__unplugin_components_0$2,i=__unplugin_components_2$2;return openBlock(),createBlock(i,{"default-value":"notify","justify-content":"center",type:"line"},{default:withCtx(()=>[createVNode(a,{name:"notify",tab:"通知"},{default:withCtx(()=>[createVNode(NotifyContainer,null,{default:withCtx(()=>[createVNode(_sfc_main$d)]),_:1})]),_:1}),createVNode(a,{name:"message",tab:"消息"},{default:withCtx(()=>[createVNode(NotifyContainer,null,{default:withCtx(()=>[createVNode(_sfc_main$e)]),_:1})]),_:1}),createVNode(a,{name:"upcoming",tab:"待办"},{default:withCtx(()=>[createVNode(NotifyContainer,null,{default:withCtx(()=>[createVNode(_sfc_main$c)]),_:1})]),_:1})]),_:1})}}}),_sfc_main$a=defineComponent({__name:"notify",props:{count:{default:0},maxCount:{default:99}},setup(e){const t=ref([{key:"content",type:"render",render:()=>h(_sfc_main$b)}]);return(r,a)=>{const i=NIcon,u=__unplugin_components_1$6,l=__unplugin_components_1$7,m=__unplugin_components_10;return openBlock(),createBlock(m,{trigger:"click",options:unref(t)},{default:withCtx(()=>[createVNode(l,{class:"flex cursor-pointer"},{default:withCtx(()=>[createVNode(u,{value:r.count,max:r.maxCount},{default:withCtx(()=>[createVNode(i,{class:"text-[var(--n-text-color)]",size:"22"},{default:withCtx(()=>[createVNode(unref(NotificationsOutline))]),_:1})]),_:1},8,["value","max"])]),_:1})]),_:1},8,["options"])}}}),_sfc_main$9=defineComponent({__name:"right-content",setup(e){const t=useAppStore(),r=useAppLocale(),a=useUserStore(),{userInfo:i}=storeToRefs(a),u=l=>{l==="logout"&&a.logout()};return(l,m)=>{const b=__unplugin_components_1$3;return openBlock(),createBlock(b,{class:"flex justify-center items-baseline h-30px"},{default:withCtx(()=>[createVNode(_sfc_main$h),createVNode(_sfc_main$l,{value:unref(r),"onUpdate:value":m[0]||(m[0]=y=>isRef(r)?r.value=y:null),class:"py--3px mt-2px",options:unref(t).localeOptions},null,8,["value","options"]),createVNode(_sfc_main$a),createVNode(_sfc_main$g,{options:unref(t).userOptions,nickname:unref(i).user,onSelect:u},null,8,["options","nickname"])]),_:1})}}}),_hoisted_1$5=createBaseVNode("div",{class:"flex-1"},null,-1),_sfc_main$8=defineComponent({__name:"layout-header",props:{logo:{},title:{},side:{type:Boolean,default:!1},inverted:{type:Boolean},options:{},menuVisible:{type:Boolean},expandedKeys:{}},emits:["update:collapsed","update:active","update:expandedKeys"],setup(e,{emit:t}){const r=useUserStore(),a=computed(()=>r.menusData),{active:i}=useMenuState();return(u,l)=>{const m=__unplugin_components_1$8;return openBlock(),createBlock(m,{inverted:u.inverted,position:"absolute",class:"flex justify-between items-center z-99"},{default:withCtx(()=>[renderSlot(u.$slots,"logo"),createBaseVNode("div",null,[u.menuVisible?(openBlock(),createBlock(_sfc_main$o,{key:0,value:unref(i),options:unref(a),inverted:u.inverted,"expanded-keys":u.expandedKeys,mode:"horizontal","onUpdate:value":l[0]||(l[0]=b=>u.$emit("update:active",b)),"onUpdate:expandedKeys":l[1]||(l[1]=b=>u.$emit("update:expandedKeys",b))},null,8,["value","options","inverted","expanded-keys"])):createCommentVNode("",!0)]),_hoisted_1$5,createVNode(_sfc_main$9)]),_:3},8,["inverted"])}}}),_hoisted_1$4={class:"flex items-center"},_hoisted_2$1={key:0,class:"h-48px flex justify-center items-center b-b"},_sfc_main$7=defineComponent({__name:"index",props:{headerHeight:{default:48},logo:{},title:{},inverted:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},logoVisible:{type:Boolean,default:!0},expandedKeys:{}},emits:["update:visible","update:active","update:expandedKeys"],setup(e,{emit:t}){const r=e;useCssVars(v=>({"14bbe5c2":unref(a),b99eb6d0:unref(i)}));const a=computed(()=>`${r.headerHeight}px`),i=computed(()=>`calc(100vh - ${r.headerHeight}px)`),u=useUserStore(),l=computed(()=>u.menusData),{active:m}=useMenuState(),b=()=>{t("update:visible",!0)},y=v=>{t("update:active",v),t("update:visible",!1)};return(v,x)=>{const A=NIcon,d=__unplugin_components_1$8,f=__unplugin_components_20,$=__unplugin_components_21;return openBlock(),createElementBlock(Fragment,null,[createVNode(unref(LayoutBase),{class:"h-screen"},{default:withCtx(()=>[createVNode(unref(_sfc_main$8),{inverted:v.inverted,class:"pro-admin-mix-header flex justify-between items-center px-4"},{logo:withCtx(()=>[createBaseVNode("div",_hoisted_1$4,[createVNode(A,{size:"24",onClick:b},{default:withCtx(()=>[createVNode(unref(MenuOutline))]),_:1})])]),default:withCtx(()=>[createVNode(_sfc_main$9)]),_:1},8,["inverted"]),createVNode(unref(_sfc_main$p),{class:"pro-admin-mix-content"},{default:withCtx(()=>[renderSlot(v.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),createVNode($,{show:v.visible,width:240,placement:"left","onUpdate:show":x[1]||(x[1]=V=>v.$emit("update:visible",V))},{default:withCtx(()=>[createVNode(f,{"body-content-style":"padding:0;"},{default:withCtx(()=>[createVNode(d,{inverted:v.inverted,class:"h-100%"},{default:withCtx(()=>[v.logoVisible?(openBlock(),createElementBlock("div",_hoisted_2$1,[createVNode(unref(_sfc_main$t),{src:v.logo,size:24},null,8,["src"]),createVNode(unref(_sfc_main$u),{title:v.title,size:18},null,8,["title"])])):createCommentVNode("",!0),createVNode(_sfc_main$o,{inverted:v.inverted,value:unref(m),options:unref(l),"expanded-keys":v.expandedKeys,"onUpdate:value":y,"onUpdate:expandedKeys":x[0]||(x[0]=V=>v.$emit("update:expandedKeys",V))},null,8,["inverted","value","options","expanded-keys"])]),_:1},8,["inverted"])]),_:1})]),_:1},8,["show"])],64)}}}),index_vue_vue_type_style_index_0_scoped_cd895174_lang="",MobileLayout=_export_sfc(_sfc_main$7,[["__scopeId","data-v-cd895174"]]),_hoisted_1$3={key:1,class:"absolute bottom--1 right-1"},_sfc_main$6=defineComponent({__name:"checkbox-layout",props:{layout:{default:"top"},inverted:{type:Boolean,default:!1},checked:{type:Boolean,default:!0},title:{},dark:{type:Boolean,default:!1}},setup(e){const t=e,r=computed(()=>t.dark?["bg-dark"]:[]),a=computed(()=>{if(t.inverted||t.dark){if(t.layout==="mix"||t.layout==="top")return["bg-[var(--inverted-color)]"];if(t.layout==="side")return["bg-[var(--inverted-color)]","ml-32%","w-68%"]}return["bg-neutral-200"]}),i=computed(()=>{if(t.layout==="mix")return["h-73%","bottom-0","mt-5px",t.inverted||t.dark?"bg-[var(--inverted-color)]":"bg-neutral-200"];if(t.layout==="side")return["h-100%",t.inverted||t.dark?"bg-[var(--inverted-color)]":"bg-neutral-200"]});return(u,l)=>{const m=NIcon,b=__unplugin_components_1$7,y=__unplugin_components_5$2,v=__unplugin_components_1$3;return openBlock(),createBlock(v,{class:"p-3"},{default:withCtx(()=>[createVNode(y,{placement:"bottom",trigger:"hover"},{trigger:withCtx(()=>[createVNode(b,{tag:"div",class:normalizeClass([unref(r),"cursor-pointer inline-block relative w-44px h-36px b-rd-2px overflow-hidden bg-[var(--pro-admin-layout-content-bg)] shadow-[var(--pro-admin-layout-box-shadow)]"])},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref(a),"h-25% absolute top-0 w-100%"])},null,2),u.layout!=="top"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(i),"w-30% absolute left-0 h-100"])},null,2)):createCommentVNode("",!0),u.checked?(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(m,{color:"#0e7a0d",depth:"1.0",size:"20"},{default:withCtx(()=>[createVNode(unref(Checkbox))]),_:1})])):createCommentVNode("",!0)]),_:1},8,["class"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(typeof u.title=="function"?u.title():u.title),1)]),_:1})]),_:1})}}}),_hoisted_1$2={class:"pb-2"},_sfc_main$5=defineComponent({__name:"container",props:{title:{}},setup(e){return(t,r)=>{const a=__unplugin_components_1$3;return openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(a,{class:"text-14px font-500 w-100%"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.title),1)]),_:1}),createVNode(a,{class:"flex gap-0 justify-center"},{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3})])}}}),_sfc_main$4=defineComponent({__name:"color-layout",props:{color:{},title:{},checked:{type:Boolean}},setup(e){return(t,r)=>{const a=NIcon,i=__unplugin_components_5$2,u=__unplugin_components_1$3;return openBlock(),createBlock(u,{class:"p-3"},{default:withCtx(()=>[createVNode(i,{placement:"bottom",trigger:"hover"},{trigger:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle({background:t.color}),class:"cursor-pointer flex w-20px h-20px items-center justify-center"},[t.checked?(openBlock(),createBlock(a,{key:0,size:"16"},{default:withCtx(()=>[createVNode(unref(CheckboxOutline))]),_:1})):createCommentVNode("",!0)],4)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(t.title),1)]),_:1})]),_:1})}}}),_sfc_main$3=defineComponent({__name:"index",props:{floatTop:{default:240},drawerWidth:{default:300},layout:{default:"top"},layoutStyle:{default:"light"},themeList:{},theme:{}},emits:["update:layout","update:layoutStyle","update:theme"],setup(e,{emit:t}){const r=e,a=ref(!1),i=computed(()=>({"--pro-admin-float-top":`${r.floatTop}px`,"--pro-admin-drawer-width":`${r.drawerWidth}px`})),u=ref([{key:"side",title:"global.layout.setting.drawer.layout.side"}]),l=ref([{id:"light",key:r.layout,title:"global.layout.setting.drawer.style.light"},{id:"inverted",key:r.layout,inverted:!0,title:"global.layout.setting.drawer.style.inverted"},{id:"dark",key:r.layout,dark:!0,title:"global.layout.setting.drawer.style.dark"}]);return(m,b)=>{const y=NIcon,v=__unplugin_components_0$7,x=__unplugin_components_1$3,A=__unplugin_components_20,d=__unplugin_components_21;return openBlock(),createElementBlock(Fragment,null,[(openBlock(),createBlock(Teleport,{to:"body"},[createBaseVNode("div",{style:normalizeStyle(unref(i)),class:"fixed top-[var(--pro-admin-float-top)] right-0"},[createVNode(v,{text:"",size:"large",type:"tertiary",class:"b-rd-tr-0! b-rd-br-0!",onClick:b[0]||(b[0]=f=>a.value=!0)},{icon:withCtx(()=>[createVNode(y,{size:"24"},{default:withCtx(()=>[createVNode(unref(SettingsSharp))]),_:1})]),_:1})],4)])),createVNode(d,{show:unref(a),"onUpdate:show":b[2]||(b[2]=f=>isRef(a)?a.value=f:null),width:m.drawerWidth},{default:withCtx(()=>[createVNode(A,{title:m.$t("global.layout.setting.drawer.custom")},{default:withCtx(()=>[createVNode(x,null,{default:withCtx(()=>[createVNode(_sfc_main$5,{title:m.$t("global.layout.setting.drawer.style")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(l),f=>(openBlock(),createBlock(_sfc_main$6,{key:f.id,layout:m.layout,checked:f.id===m.layoutStyle,title:m.$t(f.title),inverted:f.inverted,dark:f.dark,onClick:()=>m.$emit("update:layoutStyle",f.id)},null,8,["layout","checked","title","inverted","dark","onClick"]))),128))]),_:1},8,["title"])]),_:1}),createVNode(x,null,{default:withCtx(()=>[createVNode(_sfc_main$5,{title:m.$t("global.layout.setting.drawer.layout")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u),f=>(openBlock(),createBlock(_sfc_main$6,{key:f.key,layout:f.key,checked:f.key===m.layout,title:m.$t(f.title),inverted:m.layoutStyle==="inverted",onClick:()=>m.$emit("update:layout",f.key)},null,8,["layout","checked","title","inverted","onClick"]))),128))]),_:1},8,["title"])]),_:1}),createVNode(x,null,{default:withCtx(()=>[m.themeList?(openBlock(),createBlock(_sfc_main$5,{key:0,title:m.$t("global.layout.setting.drawer.theme")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.themeList,f=>(openBlock(),createBlock(_sfc_main$4,{key:f.key,color:f.color,title:m.$t(`global.layout.setting.drawer.theme.${f.key}`),checked:f.key===m.theme,onClick:()=>m.$emit("update:theme",f.key)},null,8,["color","title","checked","onClick"]))),128))]),_:1},8,["title"])):createCommentVNode("",!0)]),_:1})]),_:1},8,["title"]),createBaseVNode("div",{style:normalizeStyle(unref(i)),class:"absolute top-[var(--pro-admin-float-top)] right-[var(--pro-admin-drawer-width)]"},[createVNode(v,{ghost:"",size:"large",type:"error",class:"b-rd-tr-0! b-rd-br-0! right-0",onClick:b[1]||(b[1]=f=>a.value=!1)},{icon:withCtx(()=>[createVNode(y,{size:"24"},{default:withCtx(()=>[createVNode(unref(ArrowForward))]),_:1})]),_:1})],4)]),_:1},8,["show","width"])],64)}}}),_hoisted_1$1={class:"flex items-center justify-center"},_hoisted_2={class:"flex items-center justify-center pro-admin-mix-header w-100%"},_hoisted_3={class:"flex items-center justify-center"},_hoisted_4={class:"flex items-center justify-center h-48px"},_sfc_main$2=defineComponent({__name:"basic-layout",props:{headerHeight:{default:48},logo:{},title:{},siderWidth:{},siderCollapsedWidth:{},showSiderTrigger:{type:[Boolean,String]},inverted:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},isMobile:{type:Boolean},layout:{}},emits:["update:collapsed","update:visible"],setup(e,{emit:t}){const r=e;useCssVars(l=>({"46bdc988":unref(a),"501bc344":unref(i)}));const a=computed(()=>`${r.headerHeight}px`),i=computed(()=>`calc(100vh - ${r.headerHeight}px)`),u=()=>{t("update:visible",!0)};return(l,m)=>{const b=NIcon,y=__unplugin_components_1$2;return openBlock(),createBlock(y,{class:"h-screen","has-sider":l.layout==="side"},{default:withCtx(()=>[l.layout!=="side"?(openBlock(),createBlock(unref(_sfc_main$8),{key:0,inverted:l.inverted,"menu-visible":l.layout==="top",class:"pro-admin-mix-header flex justify-between items-center px-4 z-99"},createSlots({_:2},[l.layout!=="side"?{name:"logo",fn:withCtx(()=>[createBaseVNode("div",_hoisted_1$1,[l.isMobile?(openBlock(),createBlock(b,{key:0,size:"24",onClick:u},{default:withCtx(()=>[createVNode(unref(MenuOutline))]),_:1})):createCommentVNode("",!0),createVNode(unref(_sfc_main$t),{src:l.logo,size:30},null,8,["src"]),l.collapsed?createCommentVNode("",!0):(openBlock(),createBlock(unref(_sfc_main$u),{key:1,title:l.title,size:20},null,8,["title"]))])]),key:"0"}:void 0]),1032,["inverted","menu-visible"])):createCommentVNode("",!0),l.layout==="side"?(openBlock(),createBlock(unref(_sfc_main$n),{key:1,"show-trigger":l.showSiderTrigger,collapsed:l.collapsed,inverted:l.inverted,width:l.siderWidth,"collapsed-width":l.siderCollapsedWidth,class:"h-screen","onUpdate:collapsed":m[0]||(m[0]=v=>l.$emit("update:collapsed",v))},{logo:withCtx(()=>[createBaseVNode("div",_hoisted_2,[createVNode(unref(_sfc_main$t),{src:l.logo,size:30},null,8,["src"]),l.collapsed?createCommentVNode("",!0):(openBlock(),createBlock(unref(_sfc_main$u),{key:0,title:l.title,size:20},null,8,["title"]))])]),_:1},8,["show-trigger","collapsed","inverted","width","collapsed-width"])):createCommentVNode("",!0),createVNode(y,{"has-sider":l.layout!=="side"},{default:withCtx(()=>[l.layout==="mix"?(openBlock(),createBlock(unref(_sfc_main$n),{key:0,"show-trigger":l.showSiderTrigger,collapsed:l.collapsed,inverted:l.inverted,width:l.siderWidth,"collapsed-width":l.siderCollapsedWidth,"onUpdate:collapsed":m[1]||(m[1]=v=>l.$emit("update:collapsed",v))},createSlots({_:2},[l.layout==="side"?{name:"logo",fn:withCtx(()=>[createBaseVNode("div",_hoisted_3,[createVNode(unref(_sfc_main$t),{src:l.logo,size:30},null,8,["src"]),createVNode(unref(_sfc_main$u),{title:l.title,size:20},null,8,["title"])])]),key:"0"}:void 0]),1032,["show-trigger","collapsed","inverted","width","collapsed-width"])):createCommentVNode("",!0),l.layout==="side"?(openBlock(),createBlock(unref(_sfc_main$8),{key:1,inverted:l.inverted,position:"absolute",class:"pro-admin-mix-header flex justify-between items-center px-4 z-99"},createSlots({_:2},[l.layout!=="side"?{name:"logo",fn:withCtx(()=>[createBaseVNode("div",_hoisted_4,[createVNode(unref(_sfc_main$t),{src:l.logo,size:30},null,8,["src"]),createVNode(unref(_sfc_main$u),{title:l.title,size:20},null,8,["title"])])]),key:"0"}:void 0]),1032,["inverted"])):createCommentVNode("",!0),createVNode(unref(_sfc_main$p),null,{default:withCtx(()=>[renderSlot(l.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["has-sider"])]),_:3},8,["has-sider"])}}}),basicLayout_vue_vue_type_style_index_0_scoped_81ab7d60_lang="",BasicLayout=_export_sfc(_sfc_main$2,[["__scopeId","data-v-81ab7d60"]]),_sfc_main$1=defineComponent({__name:"index",setup(e){const t=useAppStore(),{layout:r,visible:a,themeList:i}=storeToRefs(t),{isMobile:u,isPad:l,isDesktop:m}=useQueryBreakPoints();return watchEffect(()=>{l.value?t.toggleCollapsed(!0):m.value&&t.toggleCollapsed(!1),u.value&&t.toggleVisible(!1)}),(b,y)=>{const v=resolveComponent("router-view");return openBlock(),createElementBlock(Fragment,null,[unref(u)?(openBlock(),createBlock(MobileLayout,{key:0,visible:unref(a),"onUpdate:visible":y[0]||(y[0]=x=>isRef(a)?a.value=x:null),logo:unref(r).logo,inverted:unref(r).inverted,title:unref(r).title},{default:withCtx(()=>[createVNode(v)]),_:1},8,["visible","logo","inverted","title"])):(openBlock(),createBlock(BasicLayout,{key:1,collapsed:unref(r).collapsed,"onUpdate:collapsed":y[1]||(y[1]=x=>unref(r).collapsed=x),"is-mobile":unref(u),visible:unref(a),"logo-visible":unref(r).logoVisible,"header-height":unref(r).headerHeight,logo:unref(r).logo,title:unref(r).title,"sider-width":unref(r).siderWidth,"sider-collapsed-width":unref(r).siderCollapsedWidth,"show-sider-trigger":unref(r).showSiderTrigger,inverted:unref(r).layoutStyle==="inverted",layout:unref(r).layout},null,8,["collapsed","is-mobile","visible","logo-visible","header-height","logo","title","sider-width","sider-collapsed-width","show-sider-trigger","inverted","layout"])),createVNode(_sfc_main$3,{layout:unref(r).layout,"onUpdate:layout":y[2]||(y[2]=x=>unref(r).layout=x),"layout-style":unref(r).layoutStyle,"onUpdate:layoutStyle":y[3]||(y[3]=x=>unref(r).layoutStyle=x),theme:unref(r).theme,"onUpdate:theme":y[4]||(y[4]=x=>unref(r).theme=x),"theme-list":unref(i),"drawer-width":300,"float-top":240},null,8,["layout","layout-style","theme","theme-list"])],64)}}}),index_vue_vue_type_style_index_0_scoped_a768de59_lang="",rootRouter={path:"/",name:"default-router",redirect:"/dashboard/analysis",component:_sfc_main$1,children:[]},dynamicRoutes=[{path:"/",name:"default-router",redirect:"/dashboard/analysis",children:[{path:"dashboard",name:"dashboard",component:()=>__vitePreload(()=>import("./analysis-eddc942f.js"),["assets/analysis-eddc942f.js","assets/ionicons5-ced7f89a.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/MySiteList-389ffb15.js","assets/MySiteList-87238ce0.css","assets/analysis-1acf9742.css"]),meta:{id:0,title:"dashboard",icon:"dashboard"}}]}],_hoisted_1=["href","target"],_sfc_main=defineComponent({__name:"menu-title",props:{route:{}},setup(e){const t=e,r=computed(()=>t.route.path),a=computed(()=>{var m,b;return(b=(m=t.route)==null?void 0:m.meta)==null?void 0:b.title}),i=computed(()=>{var m,b;return((m=t==null?void 0:t.route)==null?void 0:m.children)&&((b=t.route.children)==null?void 0:b.length)>0}),u=computed(()=>r.value.startsWith("http")),l=computed(()=>{var m,b;return((b=(m=t==null?void 0:t.route)==null?void 0:m.meta)==null?void 0:b.target)??"_top"});return(m,b)=>{const y=resolveComponent("router-link");return unref(i)?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(m.$t(unref(a))),1)],64)):unref(u)?(openBlock(),createElementBlock("a",{key:1,href:unref(r),target:unref(l)},toDisplayString(m.$t(unref(a))),9,_hoisted_1)):(openBlock(),createBlock(y,{key:2,to:unref(r)},{default:withCtx(()=>[createTextVNode(toDisplayString(m.$t(unref(a))),1)]),_:1},8,["to"]))}}}),generateMenu=e=>{var r;const t=[];for(const a of e){const i={key:a.path,label:()=>h(_sfc_main,{route:a})};(r=a==null?void 0:a.meta)!=null&&r.icon&&(i.icon=()=>{var u;return h(_sfc_main$s,{icon:(u=a==null?void 0:a.meta)==null?void 0:u.icon})}),a.children&&a.children.length>0&&(i.children=generateMenu(a.children)),t.push(i)}return t},DashboardAnalysis=()=>__vitePreload(()=>import("./analysis-eddc942f.js"),["assets/analysis-eddc942f.js","assets/ionicons5-ced7f89a.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/MySiteList-389ffb15.js","assets/MySiteList-87238ce0.css","assets/analysis-1acf9742.css"]),DashboardWorkspace=()=>__vitePreload(()=>import("./workspace-36b0eef0.js"),["assets/workspace-36b0eef0.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),dashboard={DashboardAnalysis,DashboardWorkspace},Website=()=>__vitePreload(()=>import("./index-82dba7d6.js"),["assets/index-82dba7d6.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),MyData=()=>__vitePreload(()=>import("./index-d4581dbf.js"),["assets/index-d4581dbf.js","assets/MySiteList-389ffb15.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js","assets/MySiteList-87238ce0.css"]),MySite=()=>__vitePreload(()=>import("./index-a337b145.js"),["assets/index-a337b145.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),WebsiteTorrents=()=>__vitePreload(()=>import("./index-d50ac2e3.js"),["assets/index-d50ac2e3.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js","assets/index-0ff01ae7.css"]),website={Website,MySite,MyData,WebsiteTorrents},ShellTool=()=>__vitePreload(()=>import("./index-94821682.js"),["assets/index-94821682.js","assets/core-cdc9db85.js","assets/naiveUI-5e433394.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/tools-efff13af.js","assets/ionicons5-ced7f89a.js","assets/index-548ad963.css"]),LogsTool=()=>__vitePreload(()=>import("./index-ad6448b6.js"),["assets/index-ad6448b6.js","assets/core-cdc9db85.js","assets/naiveUI-5e433394.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/tools-efff13af.js","assets/ionicons5-ced7f89a.js","assets/index-9bfda7ab.css"]),ImportTool=()=>__vitePreload(()=>import("./index-77173986.js"),["assets/index-77173986.js","assets/naiveUI-5e433394.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/ionicons5-ced7f89a.js","assets/index-e26a9f96.css"]),tools={ShellTool,LogsTool,ImportTool},Downloader=()=>__vitePreload(()=>import("./index-8c6bb8d2.js"),["assets/index-8c6bb8d2.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),DownloadRepeat=()=>__vitePreload(()=>import("./index-2f3d8034.js"),["assets/index-2f3d8034.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),DownloadBrush=()=>__vitePreload(()=>import("./index-9e68336b.js"),["assets/index-9e68336b.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js","assets/index-6140972d.css"]),download={Downloader,DownloadRepeat,DownloadBrush},HostsSetting=()=>__vitePreload(()=>import("./index-3d97cf00.js"),["assets/index-3d97cf00.js","assets/core-cdc9db85.js","assets/naiveUI-5e433394.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/settings-e3a18cee.js","assets/ionicons5-ced7f89a.js","assets/index-65279409.css"]),SystemSetting=()=>__vitePreload(()=>import("./index-52f7439d.js"),["assets/index-52f7439d.js","assets/settings-e3a18cee.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js","assets/index-33113b0b.css"]),SupervisorSetting=()=>__vitePreload(()=>import("./index-9e97241d.js"),["assets/index-9e97241d.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),FlowerSetting=()=>__vitePreload(()=>import("./index-8e3f0174.js"),["assets/index-8e3f0174.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),settings={HostsSetting,SystemSetting,FlowerSetting,SupervisorSetting},Tasks=()=>__vitePreload(()=>import("./index-46ea7ef6.js"),["assets/index-46ea7ef6.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),tasks={Tasks},Home=()=>__vitePreload(()=>import("./index-d70e89f6.js"),["assets/index-d70e89f6.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"]),modules={Home,...dashboard,...website,...tools,...download,...settings,...tasks},defaultRoutes={RouteView:()=>__vitePreload(()=>import("./route-view-99c96f62.js"),["assets/route-view-99c96f62.js","assets/vue-3732522d.js","assets/lodash-18690875.js"]),BlankView:()=>__vitePreload(()=>import("./blank-view-6ff85d35.js"),["assets/blank-view-6ff85d35.js","assets/vue-3732522d.js","assets/lodash-18690875.js","assets/naiveUI-5e433394.js","assets/ionicons5-ced7f89a.js"])},getComponent=e=>e?e in defaultRoutes?defaultRoutes[e]:modules[e]:defaultRoutes.BlankView,generator=(e,t)=>{const r=[];let a;t?a=e.filter(i=>i.pid===t):a=e.filter(i=>!i.pid);for(const i of a){const u={path:i.path,name:i.name,redirect:i.redirect,component:getComponent(i.component),meta:{title:i.title,icon:i.icon,id:i.id,pid:i.pid??void 0,keepAlive:i.keepAlive},children:generator(e,i.id)};(!u.children||u.children.length===0)&&delete u.children,r.push(u)}return r},generateRoute=async()=>{const e=[{id:2,pid:null,path:"/dashboard/analysis",name:"analysis",component:"DashboardAnalysis",title:"pages.dashboard.title",icon:"Speedometer",keepAlive:!0},{id:3,pid:null,path:"/website",name:"site",component:"RouteView",redirect:"/website/website",title:"pages.site.title",icon:"LogoChrome",keepAlive:!0},{id:4,pid:3,path:"/website/mydata",name:"mydata",component:"MyData",title:"pages.site.mydata.title",icon:"PlanetSharp",keepAlive:!0},{id:19,pid:3,path:"/website/mysite",name:"mysite",component:"MySite",title:"pages.site.mysite.title",icon:"AtCircleSharp",keepAlive:!0},{id:18,pid:3,path:"/website/website",name:"website",component:"Website",title:"pages.site.website.title",icon:"AtCircleSharp",keepAlive:!0},{id:5,pid:3,path:"/website/torrent",name:"torrent",component:"WebsiteTorrents",title:"pages.site.torrent.title",icon:"MagnetSharp",keepAlive:!0},{id:6,pid:null,path:"/download",name:"download",component:"RouteView",redirect:"/download/downloader",title:"pages.download.title",icon:"CloudDownloadSharp",keepAlive:!0},{id:7,pid:6,path:"/download/downloader",name:"downloader",component:"Downloader",title:"pages.download.downloader.title",icon:"LogoMarkdown",keepAlive:!0},{id:8,pid:6,path:"/download/repeat",name:"repeat",component:"DownloadRepeat",title:"pages.download.repeat.title",icon:"Copy",keepAlive:!0},{id:9,pid:6,path:"/download/brush",name:"brush",component:"DownloadBrush",title:"pages.download.brush.title",icon:"BrushSharp",keepAlive:!0},{id:10,pid:null,path:"/tasks",name:"tasks",component:"Tasks",title:"pages.tasks.title",icon:"DocumentTextSharp",keepAlive:!0},{id:11,pid:null,path:"/settings",name:"settings",component:"RouteView",redirect:"/settings/system",title:"pages.settings.title",icon:"SettingsSharp",keepAlive:!0},{id:12,pid:11,path:"/settings/system",name:"system",component:"SystemSetting",title:"pages.settings.system.title",icon:"CogSharp",keepAlive:!0},{id:13,pid:11,path:"/settings/hosts",name:"hosts",component:"HostsSetting",title:"pages.settings.hosts.title",icon:"LogoWebComponent",keepAlive:!0},{id:14,pid:null,path:"/tools",name:"tools",component:"RouteView",redirect:"/tools/logs",title:"pages.tools.title",icon:"Construct",keepAlive:!0},{id:15,pid:14,path:"/tools/logs",name:"logs",component:"LogsTool",title:"pages.tools.logs.title",icon:"ListSharp",keepAlive:!0},{id:16,pid:14,path:"/tools/shell",name:"shell",component:"ShellTool",title:"pages.tools.shell.title",icon:"CodeSlashSharp",keepAlive:!0},{id:17,pid:14,path:"/tools/import",name:"import",component:"ImportTool",title:"pages.tools.import.title",icon:"LogInSharp",keepAlive:!0}];if(e){const t=generator(e);return{...rootRouter,children:t}}},useUserStore=defineStore("user",()=>{const e=ref(),t=i18n.global.t,{message:r}=useGlobalConfig(),a=useAuthorization(),i=ref([]),u=d=>{e.value=d},l=d=>{a.value=d},m=async d=>{const f=await userLoginApi(d);if(f.code===0)return r==null||r.success(`登录成功！欢迎用户 ${f.data.user}，玩得愉快！`,{duration:3e3,keepAliveOnHover:!0}),l(f.data.auth_token),!0;r==null||r.error(f.msg,{duration:3e3,keepAliveOnHover:!0})},b=async()=>{const d=await userGetInfoApi();d&&u(d)},y=async()=>{l(null),u(void 0),r==null||r.success(t("global.layout.header.right.logout.success"),{duration:3e3}),await router.replace({path:"/login",query:{redirect:router.currentRoute.value.path}})},v=async()=>{const d={...rootRouter,children:dynamicRoutes};return i.value=dynamicRoutes,d},x=async()=>{const d=await generateRoute();return d&&(i.value=d.children),d},A=computed(()=>generateMenu(i.value));return{userInfo:e,setUserInfo:u,setToken:l,userLogin:m,getUserInfo:b,logout:y,routerRecords:i,generateRoutes:v,generateDynamicRoutes:x,menusData:A}}),loginRoute="/login",allowRoutes=["/404","/401","/500","/403","/error"],allowRouteHasLogin=[...allowRoutes,loginRoute];router.beforeEach(async(e,t,r)=>{var l;const a=useAuthorization(),i=useUserStore(),{loadingBar:u}=useGlobalConfig();if(u==null||u.start(),a.value){if(!i.userInfo&&!allowRoutes.includes(e.path))try{if(await i.getUserInfo(),router.getRoutes().some(b=>b.path===e.path)){r();return}const m=await i.generateDynamicRoutes();if(m){await router.addRoute(m),r({...e,replace:!0});return}if(e.path===loginRoute){r({path:"/"});return}}catch(m){if(m instanceof AxiosError){if(((l=m.response)==null?void 0:l.status)===401)return}else{r({path:loginRoute,query:{redirect:e.path}});return}}}else{if(allowRouteHasLogin.includes(e.path)){r();return}r({path:loginRoute,query:{redirect:e.path}});return}r()});router.afterEach(e=>{var i;const t=useAppStore(),{loadingBar:r}=useGlobalConfig(),a=(i=e.meta)==null?void 0:i.title;if(r==null||r.finish(),a){const u=i18n.global.t(a);document.title=`${u} - ${t.layout.title}`}else t.layout.title&&(document.title=t.layout.title)});const pinia=createPinia(),meta=document.createElement("meta");meta.name="naive-ui-style";document.head.appendChild(meta);const app=createApp(_sfc_main$v);app.use(router);app.use(pinia);app.use(i18n);app.mount("#app");export{_sfc_main$l as _,useAppStore as a,_export_sfc as b,useUserStore as c,_imports_0 as d,useDownloadStore as e,useWebsiteStore as f,_sfc_main$s as g,useQueryBreakPoints as h,useGlobalConfig as i,getList as j,useGet as k,useDelete as l,usePost as m,numberFormat as n,railStyle as o,usePut as p,renderSize as r,useAppLocale as u};
